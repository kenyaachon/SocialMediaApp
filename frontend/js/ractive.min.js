!(function (t, e) {
  "object" == typeof exports && "undefined" != typeof module
    ? (module.exports = e())
    : "function" == typeof define && define.amd
    ? define(e)
    : (function () {
        var n = t.Ractive,
          i = e();
        (t.Ractive = i),
          (i.noConflict = function () {
            return (t.Ractive = n), i;
          });
      })();
})(this, function () {
  "use strict";
  function t(t, e) {
    return Object.prototype.hasOwnProperty.call(t, e);
  }
  function e(e) {
    for (var n = [], i = arguments.length - 1; i-- > 0; )
      n[i] = arguments[i + 1];
    for (var r = 0; r < n.length; r++) {
      var s = n[r];
      for (var a in s) a in e || !t(s, a) || (e[a] = s[a]);
    }
    return e;
  }
  function n(e) {
    void 0 === e && (e = {});
    var n = [];
    for (var i in e) t(e, i) && n.push([i, e[i]]);
    return n;
  }
  function i(t, e) {
    return null === t && null === e ? !0 : o(t) || o(e) ? !1 : t === e;
  }
  function r(t) {
    return !isNaN(parseFloat(t)) && isFinite(t);
  }
  function s(t) {
    return t && "[object Object]" === Wa.call(t);
  }
  function a(t) {
    return !(!t || (!o(t) && !u(t)));
  }
  function o(t) {
    return "object" == typeof t;
  }
  function u(t) {
    return "function" == typeof t;
  }
  function h(t) {
    return "string" == typeof t;
  }
  function l(t) {
    return "number" == typeof t;
  }
  function c(t) {
    return void 0 === t;
  }
  function f() {}
  function d(t, e) {
    return t.replace(/%s/g, function () {
      return e.shift();
    });
  }
  function p(t) {
    for (var e = [], n = arguments.length - 1; n-- > 0; )
      e[n] = arguments[n + 1];
    throw ((t = d(t, e)), new Error(t));
  }
  function m() {
    Fa.DEBUG && fo.apply(null, arguments);
  }
  function v(t) {
    for (var e = [], n = arguments.length - 1; n-- > 0; )
      e[n] = arguments[n + 1];
    (t = d(t, e)), po(t, e);
  }
  function g(t) {
    for (var e = [], n = arguments.length - 1; n-- > 0; )
      e[n] = arguments[n + 1];
    (t = d(t, e)), yo[t] || ((yo[t] = !0), po(t, e));
  }
  function y() {
    Fa.DEBUG && v.apply(null, arguments);
  }
  function b() {
    Fa.DEBUG && g.apply(null, arguments);
  }
  function w(t, e, n) {
    var i = x(t, e, n);
    return i ? i[t][n] : null;
  }
  function x(t, e, n) {
    for (; e; ) {
      if (n in e[t]) return e;
      if (e.isolated) return null;
      e = e.parent;
    }
  }
  function k(t, e, n, i) {
    if (t === e) return null;
    if (i) {
      var r = w("interpolators", n, i);
      if (r) return r(t, e) || null;
      p(_o(i, "interpolator"));
    }
    return Eo.number(t, e) || Eo.array(t, e) || Eo.object(t, e) || null;
  }
  function _(t) {
    return h(t) ? t.replace(Co, "\\$&") : t;
  }
  function E(t) {
    return t ? t.replace(So, ".$1") : "";
  }
  function S(t) {
    var e,
      n = [];
    for (t = E(t); (e = Ao.exec(t)); ) {
      var i = e.index + e[1].length;
      n.push(t.substr(0, i)), (t = t.substr(i + 1));
    }
    return n.push(t), n;
  }
  function A(t) {
    return h(t) ? t.replace(Oo, "$1$2") : t;
  }
  function C(t, e) {
    var n = t.indexOf(e);
    -1 === n && t.push(e);
  }
  function O(t, e) {
    for (var n = 0, i = t.length; i > n; n++) if (t[n] == e) return !0;
    return !1;
  }
  function N(t, e) {
    var n;
    if (!Ga(t) || !Ga(e)) return !1;
    if (t.length !== e.length) return !1;
    for (n = t.length; n--; ) if (t[n] !== e[n]) return !1;
    return !0;
  }
  function j(t) {
    return h(t) ? [t] : c(t) ? [] : t;
  }
  function T(t) {
    return t[t.length - 1];
  }
  function V(t, e) {
    if (t) {
      var n = t.indexOf(e);
      -1 !== n && t.splice(n, 1);
    }
  }
  function P() {
    for (var t = [], e = arguments.length; e--; ) t[e] = arguments[e];
    for (var n = t.concat.apply([], t), i = n.length; i--; ) {
      var r = n.indexOf(n[i]);
      ~r && i > r && n.splice(i, 1);
    }
    return n;
  }
  function M(t) {
    for (var e = [], n = t.length; n--; ) e[n] = t[n];
    return e;
  }
  function I(t, e) {
    for (var n = t.length, i = 0; n > i; i++) {
      var r = e(t[i]);
      if (r) return r;
    }
  }
  function R(t, e, n) {
    var i = t,
      r = e;
    n && ((i = i.map(n)), (r = r.map(n)));
    var s = i.length,
      a = {},
      o = 0,
      u = i.map(function (t) {
        var e,
          n = o;
        do {
          if (((e = r.indexOf(t, n)), -1 === e)) return -1;
          n = e + 1;
        } while (a[e] === !0 && s > n);
        return e === o && (o += 1), (a[e] = !0), e;
      }),
      h = (u.oldLen = i.length);
    if (((u.newLen = r.length), h === u.newLen)) {
      var l = 0;
      for (l; h > l && u[l] === l; l++);
      l === h && (u.same = !0);
    }
    return u;
  }
  function B(t, e) {
    if (!/this/.test(t.toString())) return t;
    var n = No.call(t, e);
    for (var i in t) n[i] = t[i];
    return n;
  }
  function K(t, e, n) {
    return n && u(e) && t.parent && t.parent.isRoot
      ? (t.boundValue ||
          (t.boundValue = B(e._r_unbound || e, t.parent.ractive)),
        t.boundValue)
      : e;
  }
  function L(t) {
    t.updateFromBindings(!0);
  }
  function D(t) {
    for (var e = t.length; e--; )
      if (t[e].bound) {
        var n = t[e].owner;
        if (n) {
          var i = "checked" === n.name ? n.node.checked : n.node.value;
          return { value: i };
        }
      }
  }
  function F(t) {
    if (t) {
      var e = jo[t];
      jo[t] = [];
      for (var n = e.length; n--; ) e[n]();
      var i = To[t];
      for (To[t] = [], n = i.length; n--; ) i[n].model.register(i[n].item);
    } else F("early"), F("mark");
  }
  function z(t, e, n, i) {
    t.shuffling = !0;
    for (var r = e.length; r--; ) {
      var s = e[r];
      r !== s &&
        r in t.childByKey &&
        t.childByKey[r].rebind(~s ? t.joinKey(s) : void 0, t.childByKey[r], !i);
    }
    var a = t.source().length !== t.source().value.length;
    for (
      t.links.forEach(function (t) {
        return t.shuffle(e);
      }),
        n || F("early"),
        r = t.deps.length;
      r--;

    )
      t.deps[r].shuffle && t.deps[r].shuffle(e);
    t[n ? "marked" : "mark"](),
      n || F("mark"),
      a && t.notifyUpstream(),
      (t.shuffling = !1);
  }
  function U(t, e) {
    e !== t.dataModel &&
      (e && e.viewmodel && e.viewmodel.isRoot && t.childByKey.data
        ? (t.childByKey.data.link(e.viewmodel, "data"), (t.dataModel = e))
        : t.dataModel && (t.childByKey.data.unlink(), (t.dataModel = !0)));
  }
  function $() {
    Ro.push((Io = []));
  }
  function q() {
    var t = Ro.pop();
    return (Io = Ro[Ro.length - 1]), t;
  }
  function H(t) {
    Io && C(Io, t);
  }
  function Z(t) {
    t.bind();
  }
  function W(t) {
    t.cancel();
  }
  function G(t) {
    t.destroyed();
  }
  function Q(t) {
    t.handleChange();
  }
  function Y(t) {
    t.mark();
  }
  function J(t) {
    t.mark(!0);
  }
  function X(t) {
    t.marked();
  }
  function tt(t) {
    t.markedAll();
  }
  function et(t) {
    t.render();
  }
  function nt(t) {
    t.shuffled();
  }
  function it(t) {
    t.teardown();
  }
  function rt(t) {
    t.unbind();
  }
  function st(t) {
    t.unrender();
  }
  function at(t) {
    t.update();
  }
  function ot(t) {
    return t.toString();
  }
  function ut(t) {
    return t.toString(!0);
  }
  function ht(t, e, n, i) {
    var r = t.r || t;
    if (!r || !h(r)) return e;
    if ("." === r || "@" === r[0] || (e || n).isKey || (e || n).isKeypath)
      return e;
    var s = r.split("/"),
      a = S(s[s.length - 1]),
      o = a[a.length - 1],
      u = e || n;
    u && 1 === a.length && o !== u.key && i && (a = lt(o, i) || a);
    for (var l = a.length, c = !0, f = !1; u && l--; )
      u.shuffling && (f = !0), a[l] != u.key && (c = !1), (u = u.parent);
    return !e && c && f ? n : e && !c && f ? n : e;
  }
  function lt(t, e) {
    for (; e; ) {
      var n = e.aliases;
      if (n && n[t]) {
        for (
          var i = (e.owner.iterations ? e.owner : e).owner.template.z, r = 0;
          r < i.length;
          r++
        )
          if (i[r].n === t) {
            var s = i[r].x;
            if (!s.r) return !1;
            var a = s.r.split("/");
            return S(a[a.length - 1]);
          }
        return;
      }
      e = e.componentParent || e.parent;
    }
  }
  function ct(t, e) {
    void 0 === e && (e = 0);
    for (var n = new Array(e); e--; ) n[e] = "_" + e;
    return new Function(
      [],
      "return function (" + n.join(",") + "){return(" + t + ");};"
    )();
  }
  function ft(t, e) {
    return Lo[t] ? Lo[t] : (Lo[t] = Be(t, e));
  }
  function dt(t) {
    if (t) {
      var e = t.e;
      e &&
        Za(e).forEach(function (t) {
          Lo[t] || (Lo[t] = e[t]);
        });
    }
  }
  function pt(t) {
    if (!t.matchString("=")) return null;
    var e = t.pos;
    t.sp();
    var n = t.matchPattern(Du);
    if (!n) return (t.pos = e), null;
    if (!t.matchPattern(Fu)) return null;
    var i = t.matchPattern(Du);
    return i
      ? (t.sp(), t.matchString("=") ? [n, i] : ((t.pos = e), null))
      : ((t.pos = e), null);
  }
  function mt(t) {
    var e;
    return (e = t.matchPattern(zu)) ? { t: mu, v: e } : null;
  }
  function vt(t) {
    return t.replace(Uu, "\\$&");
  }
  function gt(t, e) {
    return t.search(
      $u[e.join()] || ($u[e.join()] = new RegExp(e.map(vt).join("|")))
    );
  }
  function yt(t) {
    return t.replace(Gu, function (t, e) {
      var n;
      return (
        (n =
          "#" !== e[0]
            ? Zu[e]
            : "x" === e[1]
            ? parseInt(e.substring(2), 16)
            : parseInt(e.substring(1), 10)),
        n ? Yu(wt(n)) : t
      );
    });
  }
  function bt(t) {
    return t.replace(th, "&amp;").replace(Ju, "&lt;").replace(Xu, "&gt;");
  }
  function wt(t) {
    return t
      ? 10 === t
        ? 32
        : 128 > t
        ? t
        : 159 >= t
        ? Wu[t - 128]
        : 55296 > t
        ? t
        : 57343 >= t
        ? eh
        : 65535 >= t
        ? t
        : Qu
        ? t >= 65536 && 131071 >= t
          ? t
          : t >= 131072 && 196607 >= t
          ? t
          : eh
        : eh
      : eh;
  }
  function xt(t) {
    var e;
    return (e = t.matchPattern(rh)) ? { t: lu, v: e } : null;
  }
  function kt(t) {
    var e = t.remaining();
    return "true" === e.substr(0, 4)
      ? ((t.pos += 4), { t: pu, v: "true" })
      : "false" === e.substr(0, 5)
      ? ((t.pos += 5), { t: pu, v: "false" })
      : null;
  }
  function _t(t) {
    return function (e) {
      for (var n, i = '"', r = !1; !r; )
        (n = e.matchPattern(sh) || e.matchPattern(ah) || e.matchString(t)),
          n
            ? (i += '"' === n ? '\\"' : "\\'" === n ? "'" : n)
            : ((n = e.matchPattern(oh)),
              n
                ? (i +=
                    "\\u" + ("000" + n.charCodeAt(1).toString(16)).slice(-4))
                : (r = !0));
      return (i += '"'), JSON.parse(i);
    };
  }
  function Et(t) {
    var e = t.pos,
      n = t.matchString("'") || t.matchString('"');
    if (n) {
      var i = ("'" === n ? uh : hh)(t);
      return t.matchString(n) ? { t: cu, v: i } : ((t.pos = e), null);
    }
    return null;
  }
  function St(t) {
    return JSON.parse('"' + t.replace(ch, At) + '"');
  }
  function At(t) {
    switch (t) {
      case "\n":
        return "\\n";
      case "\r":
        return "\\r";
      case "	":
        return "\\t";
      case "\b":
        return "\\b";
      case "\f":
        return "\\f";
    }
  }
  function Ct(t) {
    if (!t.matchString("`")) return null;
    for (var e, n = "", i = !1, r = []; !i; )
      if (
        (e =
          t.matchPattern(lh) ||
          t.matchPattern(ah) ||
          t.matchString("$") ||
          t.matchString('"'))
      )
        if ('"' === e) n += '\\"';
        else if ("\\`" === e) n += "`";
        else if ("$" === e)
          if (t.matchString("{")) {
            r.push({ t: cu, v: St(n) }), (n = ""), t.sp();
            var s = Dt(t);
            s || t.error("Expected valid expression"),
              r.push({ t: ku, x: s }),
              t.sp(),
              t.matchString("}") ||
                t.error("Expected closing '}' after interpolated expression");
          } else n += "$";
        else n += e;
      else
        (e = t.matchPattern(oh)),
          e
            ? (n += "\\u" + ("000" + e.charCodeAt(1).toString(16)).slice(-4))
            : (i = !0);
    if (
      (n.length && r.push({ t: cu, v: St(n) }),
      t.matchString("`") || t.error("Expected closing '`'"),
      r.length)
    ) {
      if (1 === r.length) return r[0];
      for (var a, o = r.pop(); (a = r.pop()); )
        o = { t: Eu, s: "+", o: [a, o] };
      return { t: ku, x: o };
    }
    return { t: cu, v: "" };
  }
  function Ot(t) {
    var e;
    return (e = Et(t))
      ? vh.test(e.v)
        ? e.v
        : '"' + e.v.replace(/"/g, '\\"') + '"'
      : (e = xt(t))
      ? e.v
      : (e = t.matchPattern(fh))
      ? e
      : null;
  }
  function Nt(t) {
    var e,
      n = t.pos;
    t.sp();
    var i = "'" !== t.nextChar() && '"' !== t.nextChar();
    i && (e = t.matchPattern(dh));
    var r = e ? Dt(t) : Ot(t);
    if (null === r) return (t.pos = n), null;
    if ((t.sp(), i && ("," === t.nextChar() || "}" === t.nextChar()))) {
      e ||
        fh.test(r) ||
        t.error("Expected a valid reference, but found '" + r + "' instead.");
      var s = { t: gu, k: r, v: { t: yu, n: r } };
      return e && (s.p = !0), s;
    }
    if (!t.matchString(":")) return (t.pos = n), null;
    t.sp();
    var a = Dt(t);
    return null === a ? ((t.pos = n), null) : { t: gu, k: r, v: a };
  }
  function jt(t) {
    var e = t.pos,
      n = Nt(t);
    if (null === n) return null;
    var i = [n];
    if (t.matchString(",")) {
      var r = jt(t);
      return r ? i.concat(r) : ((t.pos = e), null);
    }
    return i;
  }
  function Tt(t) {
    var e = t.pos;
    if ((t.sp(), !t.matchString("{"))) return (t.pos = e), null;
    var n = jt(t);
    return t.sp(), t.matchString("}") ? { t: du, m: n } : ((t.pos = e), null);
  }
  function Vt(t) {
    var e = t.pos;
    if ((t.sp(), !t.matchString("["))) return (t.pos = e), null;
    var n = Ft(t, !0);
    return t.matchString("]") ? { t: fu, m: n } : ((t.pos = e), null);
  }
  function Pt(t) {
    return xt(t) || kt(t) || Et(t) || Ct(t) || Tt(t) || Vt(t) || mt(t);
  }
  function Mt(t) {
    var e,
      n,
      i,
      r,
      s,
      a = t.pos;
    (e = t.matchPattern(bh) || ""),
      (n = (!e && t.relaxedNames && t.matchPattern(mh)) || t.matchPattern(ph));
    var o = e.length + ((n && n.length) || 0);
    if (
      ("@." === e && ((e = "@"), (n = n ? "this." + n : "this")),
      !n && e && ((n = e), (e = "")),
      !n)
    )
      return null;
    if ("@" === e)
      if (wh.test(n))
        if ((n.indexOf("event") && n.indexOf("node")) || t.inEvent) {
          if (!n.indexOf("context"))
            return (
              (t.pos = t.pos - (n.length - 7)),
              { t: ku, x: { t: yu, n: "@context" } }
            );
        } else
          t.error(
            "@event and @node are only valid references within an event directive"
          );
      else t.error("Unrecognized special reference @" + n);
    if (!e && !t.relaxedNames && yh.test(n)) return (t.pos = a), null;
    if (!e && gh.test(n))
      return (i = gh.exec(n)[0]), (t.pos = a + i.length), { t: vu, v: i };
    if (((r = (e || "") + E(n)), t.matchString("(")))
      if (((s = r.lastIndexOf(".")), -1 !== s && "]" !== n[n.length - 1]))
        if (0 === s) (r = "."), (t.pos = a);
        else {
          var u = r.length;
          (r = r.substr(0, s)), (t.pos = a + (o - (u - s)));
        }
      else t.pos -= 1;
    return { t: yu, n: r.replace(/^this\./, "./").replace(/^this$/, ".") };
  }
  function It(t) {
    if (!t.matchString("(")) return null;
    t.sp();
    var e = Dt(t);
    return (
      e || t.error(nh),
      t.sp(),
      t.matchString(")") || t.error(ih),
      { t: ku, x: e }
    );
  }
  function Rt(t) {
    return Pt(t) || Mt(t) || It(t);
  }
  function Bt(t) {
    if ((t.strictRefinement || t.sp(), t.matchString("."))) {
      t.sp();
      var e = t.matchPattern(fh);
      if (e) return { t: bu, n: e };
      t.error("Expected a property name");
    }
    if (t.matchString("[")) {
      t.sp();
      var n = Dt(t);
      return (
        n || t.error(nh),
        t.sp(),
        t.matchString("]") || t.error("Expected ']'"),
        { t: bu, x: n }
      );
    }
    return null;
  }
  function Kt(t) {
    var e = Rt(t);
    if (!e) return null;
    for (; e; ) {
      var n = Bt(t);
      if (n) e = { t: wu, x: e, r: n };
      else {
        if (!t.matchString("(")) break;
        t.sp();
        var i = Ft(t, !0);
        t.sp(),
          t.matchString(")") || t.error(ih),
          (e = { t: Su, x: e }),
          i && (e.o = i);
      }
    }
    return e;
  }
  function Lt(t) {
    var e = Sh(t);
    if (!e) return null;
    var n = t.pos;
    if ((t.sp(), !t.matchString("?"))) return (t.pos = n), e;
    t.sp();
    var i = Dt(t);
    i || t.error(nh),
      t.sp(),
      t.matchString(":") || t.error('Expected ":"'),
      t.sp();
    var r = Dt(t);
    return r || t.error(nh), { t: _u, o: [e, i, r] };
  }
  function Dt(t) {
    if (t.allowExpressions === !1) {
      var e = Mt(t);
      return t.sp(), e;
    }
    return Lt(t);
  }
  function Ft(t, e) {
    var n,
      i = [],
      r = t.pos;
    do {
      t.sp(), e && (n = t.matchPattern(dh));
      var s = Dt(t);
      if (null === s && i.length) t.error(nh);
      else if (null === s) return (t.pos = r), null;
      n && (s.p = !0), i.push(s), t.sp();
    } while (t.matchString(","));
    return i;
  }
  function zt(t, e) {
    var n = t.pos,
      i = Dt(t);
    if (!i) {
      var r = t.matchPattern(/^(\w+)/);
      return r ? { t: yu, n: r } : null;
    }
    for (var s = 0; s < e.length; s += 1)
      if (t.remaining().substr(0, e[s].length) === e[s]) return i;
    return (t.pos = n), Mt(t);
  }
  function Ut(t) {
    function e(t) {
      for (var e = [], n = a - 1; n >= 0; n--) e.push("x$" + n);
      return e.length
        ? "(function(){var " + e.join(",") + ";return(" + t + ");})()"
        : t;
    }
    function n(t) {
      if (h(t)) return t;
      switch (t.t) {
        case pu:
        case vu:
        case lu:
        case mu:
          return t.v;
        case cu:
          return JSON.stringify(String(t.v));
        case fu:
          return t.m && $t(t.m)
            ? "[].concat(" + r(t.m, "[", "]", n) + ")"
            : "[" + (t.m ? t.m.map(n).join(",") : "") + "]";
        case du:
          return t.m && $t(t.m)
            ? "Object.assign({}," + r(t.m, "{", "}", i) + ")"
            : "{" +
                (t.m
                  ? t.m
                      .map(function (t) {
                        return t.k + ":" + n(t.v);
                      })
                      .join(",")
                  : "") +
                "}";
        case xu:
          return ("typeof" === t.s ? "typeof " : t.s) + n(t.o);
        case Eu:
          return (
            n(t.o[0]) +
            ("in" === t.s.substr(0, 2) ? " " + t.s + " " : t.s) +
            n(t.o[1])
          );
        case Su:
          if (t.o && $t(t.o)) {
            var e = a++;
            return (
              "(x$" +
              e +
              "=" +
              n(t.x) +
              ").apply(x$" +
              e +
              "," +
              n({ t: fu, m: t.o }) +
              ")"
            );
          }
          return n(t.x) + "(" + (t.o ? t.o.map(n).join(",") : "") + ")";
        case ku:
          return "(" + n(t.x) + ")";
        case wu:
          return n(t.x) + n(t.r);
        case bu:
          return t.n ? "." + t.n : "[" + n(t.x) + "]";
        case _u:
          return n(t.o[0]) + "?" + n(t.o[1]) + ":" + n(t.o[2]);
        case yu:
          return "_" + s.indexOf(t.n);
        default:
          throw new Error("Expected legal JavaScript");
      }
    }
    function i(t) {
      return t.p ? n(t.k) : t.k + ":" + n(t.v);
    }
    function r(t, e, n, i) {
      var r = t.reduce(
        function (t, r) {
          return (
            r.p
              ? (t.str +=
                  "" + (t.open ? n + "," : t.str.length ? "," : "") + i(r))
              : (t.str +=
                  "" + (t.str.length ? (t.open ? "," : "," + e) : e) + i(r)),
            (t.open = !r.p),
            t
          );
        },
        { open: !1, str: "" }
      );
      return r.open && (r.str += n), r.str;
    }
    var s,
      a = 0;
    qt(t, (s = []));
    var o = n(t);
    return { r: s, s: e(o) };
  }
  function $t(t) {
    for (var e = 0; e < t.length; e++) if (t[e].p) return !0;
    return !1;
  }
  function qt(t, e) {
    t.t === yu && h(t.n) && (~e.indexOf(t.n) || e.unshift(t.n));
    var n = t.o || t.m;
    if (n)
      if (s(n)) qt(n, e);
      else for (var i = n.length; i--; ) qt(n[i], e);
    t.k && t.t === gu && !h(t.k) && qt(t.k, e),
      t.x && qt(t.x, e),
      t.r && qt(t.r, e),
      t.v && qt(t.v, e);
  }
  function Ht(t, e) {
    var n;
    if (t) {
      for (; t.t === ku && t.x; ) t = t.x;
      if (t.t === yu) {
        var i = t.n;
        ~i.indexOf("@context") ? (e.x = Ut(t)) : (e.r = t.n);
      } else (n = Zt(t)) ? (e.rx = n) : (e.x = Ut(t));
      return e;
    }
  }
  function Zt(t) {
    for (var e, n = []; t.t === wu && t.r.t === bu; )
      (e = t.r),
        e.x
          ? e.x.t === yu
            ? n.unshift(e.x)
            : n.unshift(Ut(e.x))
          : n.unshift(e.n),
        (t = t.x);
    return t.t !== yu ? null : { r: t.n, m: n };
  }
  function Wt(t) {
    for (var e = [], n = 0, i = 0; i < t.length; i++)
      "-" === t[i] &&
        "\\" !== t[i - 1] &&
        (e.push(t.substring(n, i).replace(Bh, "")), (n = i + 1));
    return e.push(t.substring(n).replace(Bh, "")), e;
  }
  function Gt(t) {
    var e, n, i, r;
    if ((t.sp(), (e = t.matchPattern(Ah)), !e)) return null;
    for (i = e.length, n = 0; n < t.tags.length; n++)
      ~(r = e.indexOf(t.tags[n].open)) && i > r && (i = r);
    return i < e.length && ((t.pos -= e.length - i), (e = e.substr(0, i)), !e)
      ? null
      : { n: e };
  }
  function Qt(t) {
    var e = t.pos;
    if (
      (/[=\/>\s]/.test(t.nextChar()) ||
        t.error("Expected `=`, `/`, `>` or whitespace"),
      t.sp(),
      !t.matchString("="))
    )
      return (t.pos = e), null;
    t.sp();
    var n = t.pos,
      i = t.sectionDepth,
      r = Xt(t, "'") || Xt(t, '"') || Jt(t);
    return (
      null === r && t.error("Expected valid attribute value"),
      t.sectionDepth !== i &&
        ((t.pos = n),
        t.error(
          "An attribute value must contain as many opening section tags as closing section tags"
        )),
      r.length ? (1 === r.length && h(r[0]) ? yt(r[0]) : r) : ""
    );
  }
  function Yt(t) {
    var e,
      n,
      i = t.pos;
    if (((e = t.matchPattern(Mh)), !e)) return null;
    var r = e,
      s = t.tags.map(function (t) {
        return t.open;
      });
    return (
      -1 !== (n = gt(r, s)) && ((e = e.substr(0, n)), (t.pos = i + e.length)), e
    );
  }
  function Jt(t) {
    t.inAttribute = !0;
    for (var e = [], n = re(t) || Yt(t); n; ) e.push(n), (n = re(t) || Yt(t));
    return e.length ? ((t.inAttribute = !1), e) : null;
  }
  function Xt(t, e) {
    var n = t.pos;
    if (!t.matchString(e)) return null;
    t.inAttribute = e;
    for (var i = [], r = re(t) || te(t, e); null !== r; )
      i.push(r), (r = re(t) || te(t, e));
    return t.matchString(e) ? ((t.inAttribute = !1), i) : ((t.pos = n), null);
  }
  function te(t, e) {
    var n = t.remaining(),
      i = t.tags.map(function (t) {
        return t.open;
      });
    i.push(e);
    var r = gt(n, i);
    return (
      -1 === r && t.error("Quoted attribute value must have a closing quote"),
      r ? ((t.pos += r), n.substr(0, r)) : null
    );
  }
  function ee(t) {
    var e,
      n,
      i = Gt(t, !1);
    if (!i) return null;
    if ((n = Ph[i.n]))
      (i.t = n.t),
        n.v && (i.v = n.v),
        delete i.n,
        t.sp(),
        "=" === t.nextChar() && (i.f = Qt(t));
    else if ((e = jh.exec(i.n))) (i.n = e[1]), (i.t = Ru), ie(t, i);
    else if ((e = Th.exec(i.n)))
      (i.n = e[1]),
        (i.t = Bu),
        ie(t, i),
        (i.v = "in-out" === e[2] ? "t0" : "in" === e[2] ? "t1" : "t2");
    else if ((e = Oh.exec(i.n)))
      (i.n = Wt(e[1])),
        (i.t = Iu),
        t.matchString("(") &&
          ((i.a = Ut({ t: fu, m: Ft(t) })),
          t.matchString(")") || t.error("Expected closing ')'")),
        (t.inEvent = !0),
        ne(t, i)
          ? Nh.test(i.f) &&
            ((t.pos -= i.f.length),
            t.error(
              "Cannot use reserved event names (change, reset, teardown, update, construct, config, init, render, unrender, complete, detach, insert, destruct, attachchild, detachchild)"
            ))
          : ie(t, i, !0),
        (t.inEvent = !1);
    else if ((e = Vh.exec(i.n))) {
      var r = "bind" === e[2];
      (i.n = r ? e[3] : e[1]),
        (i.t = nu),
        ie(t, i, !1, !0),
        !i.f && r && (i.f = [{ t: Ho, r: e[3] }]);
    } else {
      t.sp();
      var s = "=" === t.nextChar() ? Qt(t) : null;
      if (
        ((i.f = null != s ? s : i.f), t.sanitizeEventAttributes && Ch.test(i.n))
      )
        return { exclude: !0 };
      (i.f = i.f || ("" === i.f ? "" : 0)), (i.t = nu);
    }
    return i;
  }
  function ne(t, e) {
    var n = t.pos;
    t.matchString("=") || t.error("Missing required directive arguments");
    var i = t.matchString("'") || t.matchString('"');
    t.sp();
    var r = t.matchPattern(Ih);
    if (void 0 !== r)
      if (i) {
        if ((t.sp(), t.matchString(i))) return (e.f = r) || !0;
        t.pos = n;
      } else {
        if (t.matchPattern(Rh)) return (e.f = r) || !0;
        t.pos = n;
      }
    else t.pos = n;
  }
  function ie(t, e, n, i) {
    if (
      (void 0 === n && (n = !1),
      void 0 === i && (i = !1),
      t.sp(),
      !t.matchString("="))
    )
      return void (n && t.error("Missing required directive arguments"));
    t.sp();
    var r = t.matchString('"') || t.matchString("'"),
      s = t.spreadArgs;
    (t.spreadArgs = !0), (t.inUnquotedAttribute = !r);
    var a = i ? zt(t, [r || " ", "/", ">"]) : { m: Ft(t), t: fu };
    if (
      ((t.inUnquotedAttribute = !1),
      (t.spreadArgs = s),
      r &&
        (t.sp(),
        t.matchString(r) !== r &&
          t.error("Expected matching quote '" + r + "'")),
      i)
    ) {
      var o = { t: Ho };
      Ht(a, o), (e.f = [o]);
    } else e.f = Ut(a);
  }
  function re(t) {
    var e, n;
    if (t.interpolate[t.inside] === !1) return null;
    for (n = 0; n < t.tags.length; n += 1) if ((e = se(t, t.tags[n]))) return e;
    return t.inTag && !t.inAttribute && (e = ee(t)) ? (t.sp(), e) : void 0;
  }
  function se(t, e) {
    var n,
      i,
      r,
      s = t.pos;
    if (t.matchString("\\" + e.open)) {
      if (0 === s || "\\" !== t.str[s - 1]) return e.open;
    } else if (!t.matchString(e.open)) return null;
    if ((n = pt(t)))
      return t.matchString(e.close)
        ? ((e.open = n[0]), (e.close = n[1]), t.sortMustacheTags(), Kh)
        : null;
    if ((t.sp(), t.matchString("/"))) {
      t.pos -= 1;
      var a = t.pos;
      if (mt(t)) t.pos = a;
      else {
        if (((t.pos = a - e.close.length), t.inAttribute))
          return (t.pos = s), null;
        t.error("Attempted to close a section that wasn't open");
      }
    }
    for (r = 0; r < e.readers.length; r += 1)
      if (((i = e.readers[r]), (n = i(t, e))))
        return (
          e.isStatic && (n.s = 1),
          t.includeLinePositions && (n.q = t.getLinePos(s)),
          n
        );
    return (t.pos = s), null;
  }
  function ae(t, e) {
    var n = Dt(t);
    if (!n) return null;
    t.matchString(e.close) ||
      t.error("Expected closing delimiter '" + e.close + "'");
    var i = { t: Zo };
    return Ht(n, i), i;
  }
  function oe(t, e) {
    if (!t.matchString("&")) return null;
    t.sp();
    var n = Dt(t);
    if (!n) return null;
    t.matchString(e.close) ||
      t.error("Expected closing delimiter '" + e.close + "'");
    var i = { t: Zo };
    return Ht(n, i), i;
  }
  function ue(t) {
    var e,
      n = [],
      i = t.pos;
    if ((t.sp(), (e = he(t)))) {
      for (e.x = Ht(e.x, {}), n.push(e), t.sp(); t.matchString(","); )
        (e = he(t)),
          e || t.error("Expected another alias."),
          (e.x = Ht(e.x, {})),
          n.push(e),
          t.sp();
      return n;
    }
    return (t.pos = i), null;
  }
  function he(t) {
    var e = t.pos;
    t.sp();
    var n = Dt(t, []);
    if (!n) return (t.pos = e), null;
    t.sp(), t.matchPattern(Dh), t.sp();
    var i = t.matchPattern(Lh);
    return i ? { n: i, x: n } : ((t.pos = e), null);
  }
  function le(t, e) {
    var n,
      i = t.matchString(">") || t.matchString("yield"),
      r = { t: ">" === i ? Jo : su };
    if (!i) return null;
    if ((t.sp(), ">" === i || !(n = t.matchString("with")))) {
      t.relaxedNames = t.strictRefinement = !0;
      var s = Dt(t);
      if (((t.relaxedNames = t.strictRefinement = !1), !s && ">" === i))
        return null;
      s && (Ht(s, r), t.sp(), ">" !== i && (n = t.matchString("with")));
    }
    if ((t.sp(), n || ">" === i)) {
      if (((n = ue(t)), n && n.length)) r.z = n;
      else {
        var a = Dt(t);
        a && ((r.c = {}), Ht(a, r.c)),
          t.matchString(",") && ((n = ue(t)), n && n.length && (r.z = n));
      }
      ">" === i ||
        r.c ||
        r.z ||
        t.error("Expected a context or one or more aliases");
    }
    return (
      t.sp(),
      t.matchString(e.close) ||
        t.error("Expected closing delimiter '" + e.close + "'"),
      r
    );
  }
  function ce(t, e) {
    if (!t.matchString("!")) return null;
    var n = t.remaining().indexOf(e.close);
    return -1 !== n ? ((t.pos += n + e.close.length), { t: Xo }) : void 0;
  }
  function fe(t, e) {
    var n,
      i,
      r = t.pos;
    try {
      n = zt(t, [e.close]);
    } catch (s) {
      i = s;
    }
    if (!n) {
      if ("!" === t.str.charAt(r)) return (t.pos = r), null;
      if (i) throw i;
    }
    if (
      !t.matchString(e.close) &&
      (t.error("Expected closing delimiter '" + e.close + "' after reference"),
      !n)
    ) {
      if ("!" === t.nextChar()) return null;
      t.error("Expected expression or legal reference");
    }
    var a = { t: Ho };
    return Ht(n, a), a;
  }
  function de(t, e) {
    var n = t.pos;
    if (!t.matchString(e.open)) return null;
    if ((t.sp(), !t.matchString("/"))) return (t.pos = n), null;
    t.sp();
    var i = t.remaining(),
      r = i.indexOf(e.close);
    if (-1 !== r) {
      var s = { t: Qo, r: i.substr(0, r).split(" ")[0] };
      return (
        (t.pos += r),
        t.matchString(e.close) ||
          t.error("Expected closing delimiter '" + e.close + "'"),
        s
      );
    }
    return (t.pos = n), null;
  }
  function pe(t, e, n) {
    var i = t.pos;
    if (!t.matchString(e.open)) return null;
    if (!t.matchPattern(Fh[n])) return (t.pos = i), null;
    var r = { t: zh[n] };
    if ("elseif" === n) r.x = Dt(t);
    else if ("catch" === n || "then" === n) {
      var s = t.matchPattern(fh);
      s && (r.n = s);
    }
    return (
      t.matchString(e.close) ||
        t.error("Expected closing delimiter '" + e.close + "'"),
      r
    );
  }
  function me(t, e) {
    var n,
      i,
      r,
      s,
      a,
      o,
      u,
      h,
      l,
      c,
      f,
      d,
      p,
      m = !1,
      v = t.pos;
    if (t.matchString("^")) {
      if (t.matchString("^/")) return (t.pos = v), null;
      i = { t: Wo, f: [], n: Cu };
    } else {
      if (!t.matchString("#")) return null;
      (i = { t: Wo, f: [] }),
        t.matchString("partial") &&
          ((t.pos = v - t.standardDelimiters[0].length),
          t.error(
            "Partial definitions can only be at the top level of the template, or immediately inside components"
          )),
        (o = t.matchString("await"))
          ? ((c = o), (i.t = hu))
          : (o = t.matchPattern(Hh)) && ((c = o), (i.n = Uh[o]));
    }
    if ((t.sp(), "with" === o)) {
      var g = ue(t);
      g && ((m = !0), (i.z = g), (i.t = uu));
    } else if ("each" === o) {
      var y = he(t);
      y && ((i.z = [{ n: y.n, x: { r: "." } }]), (n = y.x));
    }
    if (!m) {
      if (
        (n || (n = Dt(t)),
        n || t.error("Expected expression"),
        "each" === o && t.matchString(","))
      ) {
        var b = ue(t);
        b && (i.z && b.unshift(i.z[0]), (i.z = b));
      }
      if (("each" !== o && o) || !(l = t.matchPattern($h)))
        "await" === o &&
          t.matchString("then") &&
          (t.sp(), (f = !0), (p = t.matchPattern(fh)), p || (p = !0));
      else {
        var w;
        (w = t.matchPattern(qh)) ? (i.i = l + "," + w) : (i.i = l);
      }
      !o && n.n && (c = n.n);
    }
    t.sp(),
      t.matchString("-") && (i.w = 1),
      t.matchString(e.close) ||
        t.error("Expected closing delimiter '" + e.close + "'"),
      (t.sectionDepth += 1),
      (s = i.f);
    var x;
    do
      if (((x = t.pos), (r = de(t, e))))
        c &&
          r.r !== c &&
          (o
            ? ((t.pos = x), t.error("Expected " + e.open + "/" + c + e.close))
            : r.r &&
              t.warn(
                "Expected " +
                  e.open +
                  "/" +
                  c +
                  e.close +
                  " but found " +
                  e.open +
                  "/" +
                  r.r +
                  e.close
              )),
          (t.sectionDepth -= 1),
          (h = !0);
      else if (
        !m &&
        ((r = pe(t, e, "elseif")) ||
          (r = pe(t, e, "else")) ||
          ("await" === o &&
            ((r = pe(t, e, "then")) || (r = pe(t, e, "catch")))))
      ) {
        if (
          (i.n === Cu && t.error("{{else}} not allowed in {{#unless}}"),
          a &&
            (r.t === Tu
              ? t.error(
                  "there can only be one {{else}} block, at the end of a section"
                )
              : r.t === Vu && t.error("illegal {{elseif...}} after {{else}}")),
          !u && (p || !f) && !d)
        )
          if ("await" === o) {
            var k = { f: s };
            (i.f = [k]), p ? ((k.t = Pu), p !== !0 && (k.n = p)) : (k.t = Wo);
          } else u = [];
        var _ = { t: Wo, f: (s = []) };
        r.t === Tu
          ? ("await" === o
              ? (i.f.push(_), (_.t = Tu))
              : ((_.n = Cu), u.push(_)),
            (a = !0))
          : r.t === Vu
          ? ((_.n = Au), Ht(r.x, _), u.push(_))
          : r.t === Pu
          ? (a &&
              t.error("{{then}} block must appear before any {{else}} block"),
            d &&
              t.error("{{then}} block must appear before any {{catch}} block"),
            f && t.error("there can only be one {{then}} block per {{#await}}"),
            (_.t = Pu),
            (f = !0),
            r.n && (_.n = r.n),
            i.f.push(_))
          : r.t === Mu &&
            (a &&
              t.error("{{catch}} block must appear before any {{else}} block"),
            d &&
              t.error("there can only be one {{catch}} block per {{#await}}"),
            (_.t = Mu),
            (d = !0),
            (_.n = r.n),
            i.f.push(_));
      } else {
        if (((r = t.read(vl)), !r)) break;
        s.push(r);
      }
    while (!h);
    if (
      (u && (i.l = u), m || Ht(n, i), "await" === o && (p || !f) && !d && !a)
    ) {
      var E = { f: i.f };
      (i.f = [E]), p ? ((E.t = Pu), p !== !0 && (E.n = p)) : (E.t = Wo);
    }
    return i.f.length || delete i.f, i;
  }
  function ve(t) {
    var e = t.pos;
    if (t.textOnlyMode || !t.matchString(Zh)) return null;
    var n = t.remaining(),
      i = n.indexOf(Wh);
    -1 === i &&
      t.error("Illegal HTML - expected closing comment sequence ('-->')");
    var r = n.substr(0, i);
    t.pos += i + 3;
    var s = { t: Xo, c: r };
    return t.includeLinePositions && (s.q = t.getLinePos(e)), s;
  }
  function ge(t, e) {
    var n, i, r, s, a;
    for (n = 1; n < t.length; n += 1)
      (i = t[n]),
        (r = t[n - 1]),
        (s = t[n - 2]),
        h(i) &&
          ye(r) &&
          h(s) &&
          Qh.test(s) &&
          Gh.test(i) &&
          ((t[n - 2] = s.replace(Qh, "\n")), (t[n] = i.replace(Gh, ""))),
        e ||
          (be(i) &&
            h(r) &&
            Qh.test(r) &&
            h(i.f[0]) &&
            Gh.test(i.f[0]) &&
            ((t[n - 1] = r.replace(Qh, "\n")),
            (i.f[0] = i.f[0].replace(Gh, ""))),
          h(i) &&
            be(r) &&
            ((a = T(r.f)),
            h(a) &&
              Qh.test(a) &&
              Gh.test(i) &&
              ((r.f[r.f.length - 1] = a.replace(Qh, "\n")),
              (t[n] = i.replace(Gh, "")))));
    return t;
  }
  function ye(t) {
    return t.t === Xo || t.t === tu;
  }
  function be(t) {
    return (t.t === Wo || t.t === Go) && t.f;
  }
  function we(t, e, n) {
    var i;
    e &&
      ((i = t[0]),
      h(i) && ((i = i.replace(e, "")), i ? (t[0] = i) : t.shift())),
      n &&
        ((i = T(t)),
        h(i) && ((i = i.replace(n, "")), i ? (t[t.length - 1] = i) : t.pop()));
  }
  function xe(t, e, n, i, r, s, a) {
    if (!h(t)) {
      var o, u, l, c, f, d, p;
      for (ge(t, a), o = t.length; o--; )
        (u = t[o]),
          u.exclude ? t.splice(o, 1) : e && u.t === Xo && t.splice(o, 1);
      for (we(t, i ? Jh : null, r ? Xh : null), o = t.length; o--; ) {
        if (((u = t[o]), (d = p = !1), u.w)) {
          var m = t[o - 1],
            v = !0;
          if (("string" == typeof m && (t[o - 1] = m.replace(nl, "$1")), u.f)) {
            "string" == typeof u.f[0] && (u.f[0] = u.f[0].replace(il, ""));
            var g = u.f.length - 1;
            "string" == typeof u.f[g] &&
              (u.f[g] = u.f[g].replace(nl, function (t, e) {
                return (v = e), e || "";
              }));
          }
          var y = t[o + 1];
          v && "string" == typeof y && (t[o + 1] = y.replace(il, ""));
        }
        if (u.f) {
          var b = u.t === Yo && (s[u.e.toLowerCase()] || s[u.e]);
          (f = n || b),
            !n && b && we(u.f, tl, el),
            f ||
              ((l = t[o - 1]),
              (c = t[o + 1]),
              (!l || (h(l) && Xh.test(l))) && (d = !0),
              (!c || (h(c) && Jh.test(c))) && (p = !0)),
            xe(u.f, e, f, d, p, s);
        }
        u.l &&
          (u.w &&
            u.l.forEach(function (t) {
              return (t.w = 1);
            }),
          xe(u.l, e, n, d, p, s),
          u.l.forEach(function (t) {
            return (t.l = 1);
          }),
          u.l.unshift(o + 1, 0),
          t.splice.apply(t, u.l),
          delete u.l),
          u.m && (xe(u.m, e, n, d, p, s), u.m.length < 1 && delete u.m),
          delete u.w;
      }
      for (o = t.length; o--; )
        h(t[o]) &&
          (h(t[o + 1]) && ((t[o] = t[o] + t[o + 1]), t.splice(o + 1, 1)),
          n || (t[o] = t[o].replace(Yh, " ")),
          "" === t[o] && t.splice(o, 1));
    }
  }
  function ke(t) {
    var e,
      n = t.pos;
    return t.matchString("</")
      ? (e = t.matchPattern(rl))
        ? t.inside && e !== t.inside
          ? ((t.pos = n), null)
          : { t: iu, e: e }
        : ((t.pos -= 2), void t.error("Illegal closing tag"))
      : null;
  }
  function _e(t) {
    return t.replace(/([A-Z])/g, function (t, e) {
      return "-" + e.toLowerCase();
    });
  }
  function Ee(t) {
    var e,
      n,
      i,
      r,
      s,
      a,
      o,
      u,
      l,
      c,
      f,
      d = t.pos;
    if (t.inside || t.inAttribute || t.textOnlyMode) return null;
    if (!t.matchString("<")) return null;
    if ("/" === t.nextChar()) return null;
    var p = {};
    if ((t.includeLinePositions && (p.q = t.getLinePos(d)), t.matchString("!")))
      return (
        (p.t = ou),
        t.matchPattern(/^doctype/i) || t.error("Expected DOCTYPE declaration"),
        (p.a = t.matchPattern(/^(.+?)>/)),
        p
      );
    if ((f = t.matchString("#")))
      t.sp(), (p.t = eu), (p.n = t.matchPattern(al));
    else if (((p.t = Yo), (p.e = t.matchPattern(sl)), !p.e)) return null;
    for (
      ol.test(t.nextChar()) || t.error("Illegal tag name"),
        t.sp(),
        t.inTag = !0;
      (e = re(t));

    )
      e !== !1 && (p.m || (p.m = []), p.m.push(e)), t.sp();
    if (
      ((t.inTag = !1),
      t.sp(),
      t.matchString("/") && (n = !0),
      !t.matchString(">"))
    )
      return null;
    var m = (p.e || p.n).toLowerCase(),
      v = t.preserveWhitespace;
    if (!n && (f || !Hu[p.e.toLowerCase()])) {
      f || (t.elementStack.push(m), m in t.interpolate && (t.inside = m)),
        (i = []),
        (r = $a(null));
      do {
        if (((u = t.pos), (l = t.remaining()), !l)) {
          if ("script" === t.inside) {
            o = !0;
            break;
          }
          t.error(
            "Missing end " +
              (t.elementStack.length > 1 ? "tags" : "tag") +
              " (" +
              t.elementStack
                .reverse()
                .map(function (t) {
                  return "</" + t + ">";
                })
                .join("") +
              ")"
          );
        }
        if (f || Se(m, l))
          if (!f && (c = ke(t))) {
            o = !0;
            var g = c.e.toLowerCase();
            if (g !== m && ((t.pos = u), !~t.elementStack.indexOf(g))) {
              var y = "Unexpected closing tag";
              Hu[g.toLowerCase()] &&
                (y +=
                  " (<" +
                  g +
                  "> is a void element - it cannot contain children)"),
                t.error(y);
            }
          } else if (f && Ae(t, p.n)) o = !0;
          else {
            var b = {
              open: t.standardDelimiters[0],
              close: t.standardDelimiters[1],
            };
            de(t, b) || Ce(t, b)
              ? ((o = !0), (t.pos = u))
              : (a = t.read(gl))
              ? (r[a.n] &&
                  ((t.pos = u), t.error("Duplicate partial definition")),
                xe(a.f, t.stripComments, v, !v, !v, t.whiteSpaceElements),
                (r[a.n] = a.f),
                (s = !0))
              : (a = t.read(vl))
              ? i.push(a)
              : (o = !0);
          }
        else o = !0;
      } while (!o);
      i.length && (p.f = i), s && (p.p = r), t.elementStack.pop();
    }
    if (
      ((t.inside = null),
      t.sanitizeElements && -1 !== t.sanitizeElements.indexOf(m))
    )
      return hl;
    if (
      p.m &&
      "input" !== m &&
      "select" !== m &&
      "textarea" !== m &&
      "option" !== m
    ) {
      for (var w, x, k, _, E, S = p.m, A = 0; A < S.length; )
        (E = S[A]),
          E.t === nu
            ? 0 !== E.n.indexOf("class-") || E.f
              ? 0 === E.n.indexOf("style-") && h(E.f)
                ? ((x || (x = [])).push(_e(E.n.slice(6)) + ": " + E.f + ";"),
                  S.splice(A, 1))
                : "class" === E.n && h(E.f)
                ? ((w || (w = [])).push(E.f), S.splice(A, 1))
                : "style" === E.n && h(E.f)
                ? ((x || (x = [])).push(E.f + (ul.test(E.f) ? "" : ";")),
                  S.splice(A, 1))
                : "class" === E.n
                ? ((k = E), A++)
                : "style" === E.n
                ? ((_ = E), A++)
                : !~E.n.indexOf(":") &&
                  "value" !== E.n &&
                  "contenteditable" !== E.n &&
                  h(E.f)
                ? ((E.g = 1), A++)
                : A++
              : ((w || (w = [])).push(E.n.slice(6)), S.splice(A, 1))
            : A++;
      w
        ? k && h(k.f)
          ? (k.f += " " + w.join(" "))
          : S.unshift({ t: nu, n: "class", f: w.join(" "), g: 1 })
        : k && h(k.f) && (k.g = 1),
        x
          ? _ && h(_.f)
            ? (_.f += "; " + x.join(" "))
            : S.unshift({ t: nu, n: "style", f: x.join(" "), g: 1 })
          : _ && h(_.f) && (_.g = 1);
    }
    return p;
  }
  function Se(t, e) {
    var n = /^<([a-zA-Z][a-zA-Z0-9]*)/.exec(e),
      i = ll[t];
    return n && i ? !~i.indexOf(n[1].toLowerCase()) : !0;
  }
  function Ae(t, e) {
    var n = t.pos;
    return t.matchString("</")
      ? (t.matchString("#"),
        t.sp(),
        t.matchString(e)
          ? (t.sp(), t.matchString(">") ? !0 : ((t.pos = n), null))
          : ((t.pos = n), null))
      : null;
  }
  function Ce(t, e) {
    var n = t.pos;
    if (t.matchString(e.open))
      return t.matchPattern(cl) ? !0 : void (t.pos = n);
  }
  function Oe(t) {
    var e,
      n,
      i,
      r = t.remaining();
    return (
      t.textOnlyMode
        ? ((n = t.tags.map(function (t) {
            return t.open;
          })),
          (n = n.concat(
            t.tags.map(function (t) {
              return "\\" + t.open;
            })
          )),
          (e = gt(r, n)))
        : ((i = t.inside ? "</" + t.inside : "<"),
          t.inside && !t.interpolate[t.inside]
            ? (e = r.indexOf(i))
            : ((n = t.tags.map(function (t) {
                return t.open;
              })),
              (n = n.concat(
                t.tags.map(function (t) {
                  return "\\" + t.open;
                })
              )),
              t.inAttribute === !0
                ? n.push('"', "'", "=", "<", ">", "`")
                : t.inAttribute
                ? n.push(t.inAttribute)
                : n.push(i),
              (e = gt(r, n)))),
      e
        ? (-1 === e && (e = r.length),
          (t.pos += e),
          (t.inside && "textarea" !== t.inside) || t.textOnlyMode
            ? r.substr(0, e)
            : yt(r.substr(0, e)))
        : null
    );
  }
  function Ne(t) {
    var e,
      n,
      i = t.pos,
      r = t.standardDelimiters;
    if (!t.matchString(r[0])) return null;
    if (!t.matchPattern(fl)) return (t.pos = i), null;
    var s = t.matchPattern(/^[a-zA-Z_$][a-zA-Z_$0-9\-\/]*/);
    s || t.error("expected legal partial name"),
      t.sp(),
      t.matchString(r[1]) ||
        t.error("Expected closing delimiter '" + r[1] + "'");
    var a = [],
      o = r[0],
      u = r[1];
    do
      (e = de(t, { open: o, close: u }))
        ? ("partial" !== e.r && t.error("Expected " + o + "/partial" + u),
          (n = !0))
        : ((e = t.read(vl)),
          e || t.error("Expected " + o + "/partial" + u),
          a.push(e));
    while (!n);
    return { t: au, n: s, f: a };
  }
  function je(t) {
    for (
      var e = [], n = $a(null), i = !1, r = t.preserveWhitespace;
      t.pos < t.str.length;

    ) {
      var s = t.pos,
        a = void 0,
        o = void 0;
      (o = t.read(gl))
        ? (n[o.n] && ((t.pos = s), t.error("Duplicated partial definition")),
          xe(o.f, t.stripComments, r, !r, !r, t.whiteSpaceElements),
          (n[o.n] = o.f),
          (i = !0))
        : (a = t.read(vl))
        ? e.push(a)
        : t.error("Unexpected template content");
    }
    var u = { v: Do, t: e };
    return i && (u.p = n), u;
  }
  function Te(t, e) {
    Za(t).forEach(function (n) {
      if (Ve(n, t)) return Pe(t, e);
      var i = t[n];
      Me(i) && Te(i, e);
    });
  }
  function Ve(t, e) {
    return "s" === t && Ga(e.r);
  }
  function Pe(t, e) {
    var n = t.s,
      i = t.r;
    e[n] || (e[n] = ct(n, i.length));
  }
  function Me(t) {
    return Ga(t) || s(t);
  }
  function Ie(t, e) {
    return new wl(t, e || {}).result;
  }
  function Re(t, e, n) {
    t || p("Missing Ractive.parse - cannot parse " + e + ". " + n);
  }
  function Be(t, e) {
    return Re(ct, "new expression function", kl), ct(t, e);
  }
  function Ke(t, e) {
    Re(Ie, 'compution string "${str}"', _l);
    var n = Ie(t, { expression: !0 });
    return function () {
      return n.e.apply(
        e,
        n.r.map(function (t) {
          return e.get(t);
        })
      );
    };
  }
  function Le(t, e, n) {
    var i, r, s, a, l;
    return (
      u(n) && ((i = B(n, t)), (s = n.toString()), (a = !0)),
      h(n) && ((i = Ke(n, t)), (s = n)),
      o(n) &&
        (h(n.get)
          ? ((i = Ke(n.get, t)), (s = n.get))
          : u(n.get)
          ? ((i = B(n.get, t)), (s = n.get.toString()), (a = !0))
          : p("`%s` computation must have a `get()` method", e),
        u(n.set) && ((r = B(n.set, t)), (l = n.set.toString()))),
      {
        getter: i,
        setter: r,
        getterString: s,
        setterString: l,
        getterUseStack: a,
      }
    );
  }
  function De(t) {
    !t.started ||
      t.outros.length ||
      t.outroChildren ||
      (t.outrosComplete ||
        ((t.outrosComplete = !0),
        t.parent && t.parent.decrementOutros(t),
        Fe(t) && t.detachNodes()),
      t.intros.length ||
        t.totalChildren ||
        (u(t.callback) && t.callback(),
        t.parent &&
          !t.notifiedTotal &&
          ((t.notifiedTotal = !0), t.parent.decrementTotal())));
  }
  function Fe(t) {
    return !t || (t.outrosComplete && Fe(t.parent));
  }
  function ze(t) {
    var e = t.detachQueue,
      n = Ue(t);
    if (n.length) {
      var i,
        r,
        s = e.length,
        a = 0,
        o = (t.detachQueue = []);
      t: for (; s--; ) {
        for (i = e[s].node, a = n.length; a--; )
          if (
            ((r = n[a].element.node), r === i || r.contains(i) || i.contains(r))
          ) {
            o.push(e[s]);
            continue t;
          }
        e[s].detach();
      }
    } else t.detachNodes();
  }
  function Ue(t, e) {
    var n = e;
    if (n) {
      for (var i = t.children.length; i--; ) n = Ue(t.children[i], n);
      return t.outros.length && (n = n.concat(t.outros)), n;
    }
    n = [];
    for (var r = t; r.parent; ) r = r.parent;
    return Ue(r, n);
  }
  function $e(t) {
    t.dispatch();
  }
  function qe() {
    var t = Ol.immediateObservers;
    (Ol.immediateObservers = []), t.forEach($e);
    var e,
      n = Ol.fragments.length;
    for (t = Ol.fragments, Ol.fragments = []; n--; ) (e = t[n]), e.update();
    Ol.transitionManager.ready(),
      (t = Ol.deferredObservers),
      (Ol.deferredObservers = []),
      t.forEach($e);
    var i = Ol.tasks;
    for (Ol.tasks = [], n = 0; n < i.length; n += 1) i[n]();
    return Ol.fragments.length ||
      Ol.immediateObservers.length ||
      Ol.deferredObservers.length ||
      Ol.tasks.length
      ? qe()
      : void 0;
  }
  function He() {
    Nl.start();
    var t,
      e,
      n = performance.now();
    for (t = 0; t < jl.length; t += 1)
      (e = jl[t]), e.tick(n) || jl.splice(t--, 1);
    Nl.end(), jl.length ? requestAnimationFrame(He) : (Tl = !1);
  }
  function Ze(e, n) {
    var i = {};
    if (!n) return e;
    n += ".";
    for (var r in e) t(e, r) && (i[n + r] = e[r]);
    return i;
  }
  function We(t) {
    var e;
    return (
      Ml[t] ||
        ((e = t ? t + "." : ""),
        (Ml[t] = function (n, i) {
          var r;
          return h(n)
            ? ((r = {}), (r[e + n] = i), r)
            : o(n)
            ? e
              ? Ze(n, t)
              : n
            : void 0;
        })),
      Ml[t]
    );
  }
  function Ge(t) {
    for (var e = [], n = 0; n < t.length; n++)
      e[n] = (t.childByKey[n] || {}).value;
    return e;
  }
  function Qe(t) {
    for (var e = t; e && !e.context && !e.aliases; ) e = e.parent;
    return e;
  }
  function Ye(e, n) {
    var i = e;
    if ("." === n) return e.findContext();
    if ("~" === n[0]) return e.ractive.viewmodel.joinAll(S(n.slice(2)));
    if ("." === n[0] || "^" === n[0]) {
      for (var r = e, s = n.split("/"), a = "^^" === s[0]; r && !r.context; )
        r = Je(r);
      for (var o = r && r.context; r && "^^" === s[0]; ) {
        for (
          s.shift(), r = r.isIteration ? r.parent.parent : Je(r);
          r && !r.context;

        )
          r = Je(r);
        o = r && r.context;
      }
      if (!o && a)
        throw new Error(
          "Invalid context parent reference ('" +
            n +
            "'). There is not context at that level."
        );
      for (; "." === s[0] || ".." === s[0]; ) {
        var h = s.shift();
        ".." === h && (o = o.parent);
      }
      return (
        (n = s.join("/")), "." === n[0] && (n = n.slice(1)), o.joinAll(S(n))
      );
    }
    var l = S(n);
    if (l.length) {
      var c = l.shift();
      if ("@" === c[0]) {
        if ("@this" === c || "@" === c)
          return e.ractive.viewmodel.getRactiveModel().joinAll(l);
        if ("@index" === c || "@key" === c) {
          l.length && en(c);
          var f = Xe(e);
          return f && f["get" + ("i" === c[1] ? "Index" : "Key")]();
        }
        if ("@last" === c) {
          var d = Xe(e);
          return d && d.parent.getLast();
        }
        if ("@global" === c) return Dl.joinAll(l);
        if ("@shared" === c) return Ll.joinAll(l);
        if ("@keypath" === c || "@rootpath" === c) {
          for (
            var p = "r" === n[1] ? e.ractive.root : null, m = e;
            m &&
            (!m.context ||
              (m.isRoot && m.ractive.component && (p || !m.ractive.isolated)));

          )
            m = m.isRoot ? m.componentParent : m.parent;
          return m.getKeypath(p);
        }
        if ("@context" === c)
          return new Kl(e.getContext(), "context").joinAll(l);
        if ("@local" === c) return e.getContext()._data.joinAll(l);
        if ("@style" === c) return e.ractive.constructor._cssModel.joinAll(l);
        if ("@helpers" === c)
          return e.ractive.viewmodel.getHelpers().joinAll(l);
        if ("@macro" === c) {
          var v = tn(e);
          return v ? new Kl(v, "macro").joinAll(l) : void 0;
        }
        throw new Error("Invalid special reference '" + c + "'");
      }
      if (c && !l.length) {
        var g = e.ractive.viewmodel.getHelpers();
        if (g.has(c)) return g.joinKey(c);
      }
      var b = Qe(e);
      b = b && b.context ? b.context : e.findContext();
      for (var w, x = !1, k = e.ractive.warnAboutAmbiguity, _ = 0; e; ) {
        if (
          (e.isIteration &&
            (c === e.parent.keyRef
              ? (w = e.getKey())
              : c === e.parent.indexRef && (w = e.getIndex()),
            w && l.length && en(c)),
          !w && e.aliases && t(e.aliases, c) && (w = e.aliases[c]),
          !w &&
            e.context &&
            e.context.has(c) &&
            ((w = e.context.joinKey(c)),
            x
              ? k &&
                y(
                  "'" +
                    n +
                    "' resolved but is ambiguous and will create a mapping to a parent component."
                )
              : k && _ && y("'" + n + "' resolved but is ambiguous.")),
          w)
        )
          return (
            x &&
              (w = i.ractive.viewmodel.createLink(c, w, c, { implicit: !0 })),
            l.length > 0 && u(w.joinAll) && (w = w.joinAll(l)),
            w
          );
        e.context && !e.aliases && (_ = 1),
          e.ractive.isolated ||
          (e.owner && e.owner.containerFragment) ||
          !(e.componentParent || (!e.parent && e.ractive.component))
            ? (e = e.parent)
            : ((e = e.componentParent || e.ractive.component.up), (x = !0));
      }
      var E = i.ractive;
      return E.resolveInstanceMembers && "data" !== c && c in E
        ? E.viewmodel.getRactiveModel().joinKey(c).joinAll(l)
        : (k && y("'" + n + "' is ambiguous and did not resolve."),
          b.joinKey(c).joinAll(l));
    }
  }
  function Je(t) {
    return (
      t &&
      ((!t.ractive.isolated &&
        !(t.owner && t.owner.containerFragment) &&
        (t.componentParent || (!t.parent && t.ractive.component))) ||
        t.parent)
    );
  }
  function Xe(t) {
    for (var e, n = t; !n.isIteration && (e = Je(n)); ) n = e;
    return n.isIteration && n;
  }
  function tn(t) {
    for (var e = t; e; ) {
      if (e.owner.handle) return e.owner.handle;
      e = Je(e);
    }
  }
  function en(t) {
    throw new Error(
      "An index or key reference (" + t + ") cannot have child properties"
    );
  }
  function nn(t) {
    for (var e = [], n = arguments.length - 1; n-- > 0; )
      e[n] = arguments[n + 1];
    var i = t.fragment || t._fakeFragment || (t._fakeFragment = new zl(t));
    return i.getContext.apply(i, e);
  }
  function rn() {
    for (var t = [], e = arguments.length; e--; ) t[e] = arguments[e];
    return (
      this.ctx || (this.ctx = new Fl.Context(this)),
      t.unshift($a(this.ctx)),
      Ua.apply(null, t)
    );
  }
  function sn(t) {
    for (var e = t; e && !e.context; ) e = e.parent;
    return e ? e : t && t.ractive.fragment;
  }
  function an(t, e) {
    var n = $l,
      i = e && e.deep,
      r = e && e.shuffle,
      s = Nl.start();
    e && "keep" in e && ($l = e.keep);
    for (var a = t.length; a--; ) {
      var o = t[a][0],
        u = t[a][1],
        h = t[a][2];
      if (!o)
        throw (
          (Nl.end(), new Error("Failed to set invalid keypath '" + h + "'"))
        );
      if (i) hn(o, u);
      else if (r) {
        var l = u,
          f = o.get();
        if ((l || (l = f), c(f))) o.set(l);
        else {
          if (!Ga(f) || !Ga(l))
            throw (
              (Nl.end(),
              new Error("You cannot merge an array with a non-array"))
            );
          var d = ln(r);
          o.merge(l, d);
        }
      } else o.set(u);
    }
    return (
      Nl.end(),
      ($l = n),
      1 === t.length
        ? s.then(function () {
            return t[0][1];
          })
        : s
    );
  }
  function on(t, e, n, i) {
    if (!n && ("." === e[0] || "^" === e[1]))
      return (
        y(
          "Attempted to set a relative keypath from a non-relative context. You can use a context object to set relative keypaths."
        ),
        []
      );
    var r = S(e),
      s = n || t.viewmodel;
    return ql.test(e)
      ? s.findMatches(r)
      : s === t.viewmodel
      ? !t.component || t.isolated || s.has(r[0]) || "@" === e[0] || !e[0] || i
        ? [s.joinAll(r)]
        : [Ye(t.fragment || new zl(t), e)]
      : [s.joinAll(r)];
  }
  function un(e, n, i, r) {
    var a = [];
    if (s(n)) {
      var o = function (i) {
        t(n, i) &&
          a.push.apply(
            a,
            on(e, i, null, r).map(function (t) {
              return [t, n[i], i];
            })
          );
      };
      for (var u in n) o(u);
    } else
      a.push.apply(
        a,
        on(e, n, null, r).map(function (t) {
          return [t, i, n];
        })
      );
    return a;
  }
  function hn(e, n) {
    var i = e.get(!1, Hl);
    if (null == i || !o(n)) return e.set(n);
    if (!o(i)) return e.set(n);
    for (var r in n) t(n, r) && hn(e.joinKey(r), n[r]);
  }
  function ln(t) {
    if (t === !0) return null;
    if (u(t)) return t;
    if (h(t))
      return (
        Zl[t] ||
        (Zl[t] = function (e) {
          return e[t];
        })
      );
    throw new Error(
      "If supplied, options.compare must be a string, function, or true"
    );
  }
  function cn(t, e, n, i) {
    if (!h(e) || !r(n)) throw new Error("Bad arguments");
    var s = un(t, e, n, i && i.isolated);
    return an(
      s.map(function (t) {
        var e = t[0],
          n = t[1],
          i = e.get();
        if (!r(n) || !r(i)) throw new Error(Wl);
        return [e, i + n];
      })
    );
  }
  function fn(t, e, n) {
    var i = l(e) ? e : 1,
      r = o(e) ? e : n;
    return cn(this, t, i, r);
  }
  function dn(t) {
    var e = Promise.resolve(t);
    return qa(e, "stop", { value: f }), e;
  }
  function pn(t, e) {
    t = t || {};
    var n;
    return (
      t.easing && (n = u(t.easing) ? t.easing : e.easing[t.easing]),
      {
        easing: n || Gl,
        duration: "duration" in t ? t.duration : 400,
        complete: t.complete || f,
        step: t.step || f,
        interpolator: t.interpolator,
      }
    );
  }
  function mn(t, e, n, r) {
    r = pn(r, t);
    var s = e.get();
    if (i(s, n)) return r.complete(r.to), dn(n);
    var a = k(s, n, t, r.interpolator);
    return a ? e.animate(s, n, r, a) : (Nl.start(), e.set(n), Nl.end(), dn(n));
  }
  function vn(t, e, n) {
    if (o(t)) {
      var i = Za(t);
      throw new Error(
        "ractive.animate(...) no longer supports objects. Instead of ractive.animate({\n  " +
          i
            .map(function (e) {
              return "'" + e + "': " + t[e];
            })
            .join("\n  ") +
          "\n}, {...}), do\n\n" +
          i
            .map(function (e) {
              return "ractive.animate('" + e + "', " + t[e] + ", {...});";
            })
            .join("\n") +
          "\n"
      );
    }
    return mn(this, this.viewmodel.joinAll(S(t)), e, n);
  }
  function gn(t, e) {
    t.event && t._eventQueue.push(t.event), (t.event = e);
  }
  function yn(t) {
    t._eventQueue.length ? (t.event = t._eventQueue.pop()) : (t.event = null);
  }
  function bn(t, e) {
    var n = e ? Ql : Yl;
    if (n[t]) return n[t];
    var i = t.split("."),
      r = [],
      s = !1;
    e && (i.unshift("this"), (s = !0));
    for (var a = Math.pow(2, i.length) - (e ? 1 : 0), o = 0; a > o; o++) {
      for (var u = [], h = 0; h < i.length; h++)
        u.push(1 & (o >> h) ? "*" : i[h]);
      r.unshift(u.join("."));
    }
    return (
      s &&
        (i.length > 2 ? r.push.apply(r, bn(t, !1)) : (r.push("*"), r.push(t))),
      (n[t] = r),
      r
    );
  }
  function wn(t, e, n, i) {
    if ((void 0 === i && (i = []), e)) {
      (n.name = e), i.unshift(n);
      var r = t._nsSubs ? bn(e, !0) : ["*", e];
      return xn(t, r, n, i, !0);
    }
  }
  function xn(t, e, n, i, r) {
    void 0 === r && (r = !1);
    var s = !0;
    if (r || t._nsSubs) {
      gn(t, n);
      for (var a = e.length; a--; )
        e[a] in t._subs && (s = kn(t, t._subs[e[a]], n, i) && s);
      yn(t);
    }
    if (t.parent && s) {
      if (r && t.component) {
        var o = t.component.name + "." + e[e.length - 1];
        (e = bn(o, !1)), n && !n.component && (n.component = t);
      }
      s = xn(t.parent, e, n, i);
    }
    return s;
  }
  function kn(t, e, n, i) {
    var r = null,
      s = !1;
    e = e.slice();
    for (var a = 0, o = e.length; o > a; a += 1)
      e[a].off || e[a].handler.apply(t, i) !== !1 || (s = !0);
    return (
      n &&
        s &&
        (r = n.event) &&
        (r.preventDefault && r.preventDefault(),
        r.stopPropagation && r.stopPropagation()),
      !s
    );
  }
  function _n(t, e) {
    return t[e._guid] || (t[e._guid] = []);
  }
  function En(t, e) {
    var n = _n(t.queue, e);
    for (t.hook.fire(e); n.length; ) En(t, n.shift());
    delete t.queue[e._guid];
  }
  function Sn(t, e) {
    void 0 === e && (e = null);
    var n = [];
    return An(t, e, n, t.ractive), n;
  }
  function An(t, e, n, i) {
    if (t.isAnchor) (e && t.name !== e) || n.push(t);
    else if (t.items)
      t.items.forEach(function (t) {
        return An(t, e, n, i);
      });
    else if (t.iterations)
      t.iterations.forEach(function (t) {
        return An(t, e, n, i);
      });
    else if (!t.fragment || (t.component && t.fragment.ractive !== i)) {
      if (t.instance && t.instance.fragment) {
        var r = [];
        An(t.instance.fragment, e, r, i),
          r.forEach(function (t) {
            return t.ractive === i && n.push(t);
          });
      }
    } else An(t.fragment, e, n, i);
  }
  function Cn(t, e) {
    void 0 === e && (e = null);
    var n = Sn(t.fragment, e),
      i = {},
      r = t._children.byName;
    n.forEach(function (t) {
      var e = t.name;
      e in i || (i[e] = 0);
      var n = i[e],
        s = (r[e] || [])[n];
      s &&
        s.lastBound !== t &&
        (s.lastBound && s.lastBound.removeChild(s), t.addChild(s)),
        i[e]++;
    });
  }
  function On(t) {
    t.instance.fragment.rendered &&
      ((t.shouldDestroy = !0), t.instance.unrender()),
      (t.instance.el = null);
  }
  function Nn(t, e) {
    void 0 === e && (e = {});
    var n,
      i = this._children;
    if (t.parent && t.parent !== this)
      throw new Error(
        "Instance " +
          t._guid +
          " is already attached to a different instance " +
          t.parent._guid +
          ". Please detach it from the other instance using detachChild first."
      );
    if (t.parent)
      throw new Error(
        "Instance " + t._guid + " is already attached to this instance."
      );
    var r = {
      instance: t,
      ractive: this,
      name: e.name || t.constructor.name || "Ractive",
      target: e.target || !1,
      bubble: jn,
      findNextNode: Tn,
    };
    if (((r.nameOption = e.name), r.target)) {
      var s;
      (s = i.byName[r.target]) ||
        ((s = []), this.set("@this.children.byName." + r.target, s)),
        (n = e.prepend ? 0 : void 0 !== e.insertAt ? e.insertAt : s.length);
    } else (r.up = this.fragment), (r.external = !0);
    (t.parent = this), (t.root = this.root), (t.component = r), i.push(r);
    var a = Nl.start(),
      o = t.viewmodel.getRactiveModel();
    return (
      o
        .joinKey("parent", { lastLink: !1 })
        .link(this.viewmodel.getRactiveModel()),
      o
        .joinKey("root", { lastLink: !1 })
        .link(this.root.viewmodel.getRactiveModel()),
      ec.attachchild.fire(t),
      r.target
        ? (On(r),
          this.splice("@this.children.byName." + r.target, n, 0, r),
          Cn(this, r.target))
        : t.isolated || t.viewmodel.attached(this.fragment),
      Nl.end(),
      (a.ractive = t),
      a.then(function () {
        return t;
      })
    );
  }
  function jn() {
    Nl.addFragment(this.instance.fragment);
  }
  function Tn() {
    return this.anchor ? this.anchor.findNextNode() : void 0;
  }
  function Vn(t, e) {
    (this.computed[t] = e),
      (h(e) || u(e)) && (e = this.computed[t] = { get: e });
    var n = S(t);
    if (!~t.indexOf("*")) {
      var i = n.pop();
      return this.viewmodel.joinAll(n).compute(i, e);
    }
    e.pattern = new RegExp(
      "^" +
        n
          .map(function (t) {
            return t
              .replace(/\*\*/g, "(.+)")
              .replace(/\*/g, "((?:\\\\.|[^\\.])+)");
          })
          .join("\\.") +
        "$"
    );
  }
  function Pn(t, e) {
    var n = Nl.start(),
      i = Vn.call(this, t, e);
    if (i) {
      var r = S(t);
      1 !== r.length || i.isReadonly || i.set(this.viewmodel.value[r[0]]);
      var s = r.reduce(function (t, e) {
        return t && t.childByKey[e];
      }, this.viewmodel);
      s &&
        (s.rebind(i, s, !1),
        s.parent && delete s.parent.childByKey[s.key],
        F());
    }
    return Nl.end(), n;
  }
  function Mn() {
    return this.isDetached
      ? this.el
      : (this.el && V(this.el.__ractive_instances__, this),
        (this.el = this.fragment.detach()),
        (this.isDetached = !0),
        ec.detach.fire(this),
        this.el);
  }
  function In(t) {
    for (var e, n, i = this._children, r = i.length; r--; )
      if (i[r].instance === t) {
        (n = r), (e = i[r]);
        break;
      }
    if (!e || t.parent !== this)
      throw new Error(
        "Instance " + t._guid + " is not attached to this instance."
      );
    var s = Nl.start();
    e.anchor && e.anchor.removeChild(e),
      t.isolated || t.viewmodel.detached(),
      i.splice(n, 1),
      e.target &&
        (this.splice(
          "@this.children.byName." + e.target,
          i.byName[e.target].indexOf(e),
          1
        ),
        Cn(this, e.target));
    var a = t.viewmodel.getRactiveModel();
    return (
      a.joinKey("parent", { lastLink: !1 }).unlink(),
      a.joinKey("root", { lastLink: !1 }).link(a),
      (t.root = t),
      (t.parent = null),
      (t.component = null),
      ec.detachchild.fire(t),
      Nl.end(),
      (s.ractive = t),
      s.then(function () {
        return t;
      })
    );
  }
  function Rn(t, e) {
    var n = this;
    if ((void 0 === e && (e = {}), !this.rendered))
      throw new Error(
        "Cannot call ractive.find('" +
          t +
          "') unless instance is rendered to the DOM"
      );
    var i = this.fragment.find(t, e);
    if (i) return i;
    if (e.remote)
      for (var r = 0; r < this._children.length; r++)
        if (
          n._children[r].instance.fragment.rendered &&
          (i = n._children[r].instance.find(t, e))
        )
          return i;
  }
  function Bn(t, e) {
    if ((void 0 === e && (e = {}), !this.rendered))
      throw new Error(
        "Cannot call ractive.findAll('" +
          t +
          "', ...) unless instance is rendered to the DOM"
      );
    return (
      Ga(e.result) || (e.result = []),
      this.fragment.findAll(t, e),
      e.remote &&
        this._children.forEach(function (n) {
          !n.target &&
            n.instance.fragment &&
            n.instance.fragment.rendered &&
            n.instance.findAll(t, e);
        }),
      e.result
    );
  }
  function Kn(t, e) {
    return (
      !e && o(t) && ((e = t), (t = "")),
      (e = e || {}),
      Ga(e.result) || (e.result = []),
      this.fragment.findAllComponents(t, e),
      e.remote &&
        this._children.forEach(function (n) {
          !n.target &&
            n.instance.fragment &&
            n.instance.fragment.rendered &&
            ((t && n.name !== t) || e.result.push(n.instance),
            n.instance.findAllComponents(t, e));
        }),
      e.result
    );
  }
  function Ln(t, e) {
    var n = this;
    void 0 === e && (e = {}), o(t) && ((e = t), (t = ""));
    var i = this.fragment.findComponent(t, e);
    if (i) return i;
    if (e.remote) {
      if (!t && this._children.length) return this._children[0].instance;
      for (var r = 0; r < this._children.length; r++)
        if (!n._children[r].target) {
          if (n._children[r].name === t) return n._children[r].instance;
          if ((i = n._children[r].instance.findComponent(t, e))) return i;
        }
    }
  }
  function Dn(t) {
    return this.container
      ? this.container.component && this.container.component.name === t
        ? this.container
        : this.container.findContainer(t)
      : null;
  }
  function Fn(t) {
    return this.parent
      ? this.parent.component && this.parent.component.name === t
        ? this.parent
        : this.parent.findParent(t)
      : null;
  }
  function zn(t, e, n) {
    for (
      void 0 === e && (e = !0);
      t &&
      (t.type !== Yo || (n && t.name !== n)) &&
      (!e || (t.type !== ru && t.type !== eu));

    )
      t = t.owner
        ? t.owner
        : t.component || t["yield"]
        ? t.containerFragment || t.component.up
        : t.parent
        ? t.parent
        : t.up
        ? t.up
        : void 0;
    return t;
  }
  function Un(t, e, n) {
    var i = [],
      r = $n(t, e, n);
    if (!r) return null;
    var s = r.length - 2 - r[1],
      a = Math.min(t, r[0]),
      o = a + r[1];
    i.startIndex = a;
    var u;
    for (u = 0; a > u; u += 1) i.push(u);
    for (; o > u; u += 1) i.push(-1);
    for (; t > u; u += 1) i.push(u + s);
    return 0 !== s ? (i.touchedFrom = r[0]) : (i.touchedFrom = t), i;
  }
  function $n(t, e, n) {
    switch (e) {
      case "splice":
        for (
          void 0 !== n[0] && n[0] < 0 && (n[0] = t + Math.max(n[0], -t)),
            c(n[0]) && (n[0] = 0);
          n.length < 2;

        )
          n.push(t - n[0]);
        return (
          l(n[1]) || (n[1] = t - n[0]), (n[1] = Math.min(n[1], t - n[0])), n
        );
      case "sort":
      case "reverse":
        return null;
      case "pop":
        return t ? [t - 1, 1] : [0, 0];
      case "push":
        return [t, 0].concat(n);
      case "shift":
        return [0, t ? 1 : 0];
      case "unshift":
        return [0, 0].concat(n);
    }
  }
  function qn(t) {
    function e(t) {
      for (var e = [], i = arguments.length - 1; i-- > 0; )
        e[i] = arguments[i + 1];
      return n(this.viewmodel.joinAll(S(t)), e);
    }
    function n(e, n) {
      var i = e.get();
      if (!Ga(i)) {
        if (c(i)) {
          i = [];
          var r = nc[t].apply(i, n),
            s = Nl.start().then(function () {
              return r;
            });
          return e.set(i), Nl.end(), s;
        }
        throw new Error(
          "shuffle array method " +
            t +
            " called on non-array at " +
            e.getKeypath()
        );
      }
      var a = Un(i.length, t, n),
        o = nc[t].apply(i, n),
        u = Nl.start().then(function () {
          return o;
        });
      return (
        (u.result = o),
        a ? (e.shuffle ? e.shuffle(a) : e.mark()) : e.set(o),
        Nl.end(),
        u
      );
    }
    return { path: e, model: n };
  }
  function Hn(t, e, n) {
    e.parent && e.parent.wrapper && e.parent.adapt();
    var i = Nl.start();
    return (
      e.mark(n && n.force),
      e.notifyUpstream(),
      Nl.end(),
      ec.update.fire(t, e),
      i
    );
  }
  function Zn(t, e) {
    var n, i;
    return (
      h(t) ? ((i = S(t)), (n = e)) : (n = t),
      Hn(this, i ? this.viewmodel.joinAll(i) : this.viewmodel, n)
    );
  }
  function Wn(e, n, i) {
    var r = [];
    if (s(n)) for (var a in n) t(n, a) && r.push([Gn(e, a).model, n[a]]);
    else r.push([Gn(e, n).model, i]);
    return r;
  }
  function Gn(t, e) {
    var n = t.fragment;
    return h(e)
      ? { model: Ye(n, e), instance: n.ractive }
      : { model: n.findContext(), instance: e };
  }
  function Qn(t, e) {
    return (
      t.events &&
      t.events.find &&
      t.events.find(function (t) {
        return ~t.template.n.indexOf(e);
      })
    );
  }
  function Yn(t) {
    for (var e = [], n = arguments.length - 1; n-- > 0; )
      e[n] = arguments[n + 1];
    var i;
    if (e[0] instanceof fc) {
      var r = e.shift();
      (i = $a(r)), Ua(i, r);
    } else i = !o(e[0]) || (null !== e[0] && e[0].constructor !== Object) ? fc.forRactive(this) : fc.forRactive(this, e.shift());
    return wn(this, t, i, e);
  }
  function Jn(t, e) {
    if (!h(t)) return this.viewmodel.get(!0, t);
    var n,
      i = S(t),
      r = i[0];
    return (
      this.viewmodel.has(r) ||
        (this.component &&
          !this.isolated &&
          (n = Ye(this.fragment || new zl(this), r))),
      (n = this.viewmodel.joinAll(i)),
      n.get(!0, e)
    );
  }
  function Xn() {
    return lc.f ? lc.f.getContext() : void 0;
  }
  function ti(t) {
    h(t) && Ec && (t = Ec.call(document, t));
    var e;
    if (t) {
      if (t._ractive) return t._ractive.proxy.getContext();
      if (!(e = t.__ractive_instances__)) return ti(t.parentNode);
      if (1 === e.length) return nn(e[0]);
    }
  }
  function ei(t, e) {
    return t ? (h(t) && (t = this.find(t, e)), ti(t)) : nn(this);
  }
  function ni(t) {
    return Vc ? t : { is: t };
  }
  function ii() {
    return Ja.createDocumentFragment();
  }
  function ri(t) {
    var e;
    if (t && "boolean" != typeof t) {
      if (!Ya || !Ja || !t) return null;
      if (t.nodeType) return t;
      if (h(t)) {
        if (((e = Ja.getElementById(t)), !e && Ja.querySelector))
          try {
            e = Ja.querySelector(t);
          } catch (n) {}
        if (e && e.nodeType) return e;
      }
      return t[0] && t[0].nodeType ? t[0] : null;
    }
  }
  function si(t) {
    return (
      t &&
        "unknown" != typeof t.parentNode &&
        t.parentNode &&
        t.parentNode.removeChild(t),
      t
    );
  }
  function ai(t) {
    return null == t || (l(t) && isNaN(t)) || !t.toString ? "" : "" + t;
  }
  function oi(t) {
    return ai(t)
      .replace(/&/g, "&amp;")
      .replace(/"/g, "&quot;")
      .replace(/'/g, "&#39;");
  }
  function ui(t, e) {
    if (!this.fragment.rendered)
      throw new Error(
        "The API has changed - you must call `ractive.render(target[, anchor])` to render your Ractive instance. Once rendered you can use `ractive.insert()`."
      );
    if (((t = ri(t)), (e = ri(e) || null), !t))
      throw new Error("You must specify a valid target to insert into");
    t.insertBefore(this.detach(), e),
      (this.el = t),
      (t.__ractive_instances__ || (t.__ractive_instances__ = [])).push(this),
      (this.isDetached = !1),
      hi(this);
  }
  function hi(t) {
    ec.insert.fire(t),
      t.findAllComponents("*").forEach(function (t) {
        hi(t.instance);
      });
  }
  function li(t, e, n) {
    var i,
      r = (n && (n.ractive || n.instance)) || this,
      s = S(t);
    !r.viewmodel.has(s[0]) &&
      r.component &&
      ((i = Ye(r.component.up, s[0])), (i = i.joinAll(s.slice(1))));
    var a = i || r.viewmodel.joinAll(s),
      o = this.viewmodel.joinAll(S(e), { lastLink: !1 });
    if (ci(a, o) || ci(o, a))
      throw new Error("A keypath cannot be linked to itself.");
    var u = Nl.start();
    return o.link(a, (n && n.keypath) || t), Nl.end(), u;
  }
  function ci(t, e) {
    for (var n = e; n; ) {
      if (n === t || n.owner === t) return !0;
      n = n.target || n.parent;
    }
  }
  function fi(t, e) {
    var n = e && t.model ? t.model.get() : t.newValue;
    try {
      t.oldValue = t.oldFn
        ? t.oldFn.call(t.oldContext, void 0, n, t.keypath)
        : n;
    } catch (i) {
      y(
        "Failed to execute observer oldValue callback for '" +
          this.keypath +
          "': " +
          (i.message || i)
      ),
        (t.oldValue = n);
    }
  }
  function di() {
    for (var t = [], e = arguments.length; e--; ) t[e] = arguments[e];
    return t.map(_).join(".");
  }
  function pi(t) {
    return S(t).map(A);
  }
  function mi(t, e, n) {
    var i = t.oldValues;
    t.oldFn
      ? (n || (t.oldValues = {}),
        Za(e).forEach(function (n) {
          var r = [i[n], e[n], n],
            s = t.pattern.exec(n);
          s && r.push.apply(r, s.slice(1)),
            (t.oldValues[n] = t.oldFn.apply(t.oldContext, r));
        }))
      : n
      ? Za(e).forEach(function (t) {
          return (i[t] = e[t]);
        })
      : (t.oldValues = e);
  }
  function vi() {
    return -1;
  }
  function gi(t, e, n) {
    var i,
      r,
      a = this,
      o = [];
    s(t)
      ? ((i = t), (r = e || {}))
      : u(t)
      ? ((i = { "": t }), (r = e || {}))
      : ((i = {}), (i[t] = e), (r = n || {}));
    var h = !1;
    return (
      Za(i).forEach(function (t) {
        var e = i[t],
          n = function () {
            for (var t = [], n = arguments.length; n--; ) t[n] = arguments[n];
            return h ? void 0 : e.apply(this, t);
          },
          s = t.split(" ");
        s.length > 1 &&
          (s = s.filter(function (t) {
            return t;
          })),
          s.forEach(function (t) {
            r.keypath = t;
            var e = yi(a, t, n, r);
            e && o.push(e);
          });
      }),
      this._observers.push.apply(this._observers, o),
      {
        cancel: function () {
          return o.forEach(function (t) {
            return t.cancel();
          });
        },
        isSilenced: function () {
          return h;
        },
        silence: function () {
          return (h = !0);
        },
        resume: function () {
          return (h = !1);
        },
      }
    );
  }
  function yi(t, e, n, i) {
    var r = S(e),
      s = r.indexOf("*");
    ~s || (s = r.indexOf("**")), (i.fragment = i.fragment || t.fragment);
    var a;
    if (
      (i.fragment
        ? ~r[0].indexOf(".*")
          ? ((a = i.fragment.findContext()), (s = 0), (r[0] = r[0].slice(1)))
          : (a = 0 === s ? i.fragment.findContext() : Ye(i.fragment, r[0]))
        : (a = t.viewmodel.joinKey(r[0])),
      a || (a = t.viewmodel.joinKey(r[0])),
      ~s)
    ) {
      var o = r.indexOf("**");
      return ~o && (o + 1 !== r.length || ~r.indexOf("*"))
        ? void b(
            "Recursive observers may only specify a single '**' at the end of the path."
          )
        : ((a = a.joinAll(r.slice(1, s))), new Rc(t, a, r.slice(s), n, i));
    }
    return (
      (a = a.joinAll(r.slice(1))),
      i.array ? new Kc(t, a, n, i) : new Pc(t, a, n, i)
    );
  }
  function bi(t, e, n) {
    return s(t) || u(t)
      ? ((n = Ua(e || {}, Dc)), this.observe(t, n))
      : ((n = Ua(n || {}, Dc)), this.observe(t, e, n));
  }
  function wi(t, e) {
    var n = this;
    if (t) {
      var i = t.split(" ").map(Fc).filter(zc);
      i.forEach(function (t) {
        var i = n._subs[t];
        if (i && e) {
          var r = i.find(function (t) {
            return t.callback === e;
          });
          r && (V(i, r), (r.off = !0), t.indexOf(".") && n._nsSubs--);
        } else i && (t.indexOf(".") && (n._nsSubs -= i.length), (i.length = 0));
      });
    } else this._subs = {};
    return this;
  }
  function xi(e, n) {
    var i = this,
      r = o(e) ? e : {};
    h(e) && (r[e] = n);
    var s = !1,
      a = [],
      u = function (e) {
        var n = r[e],
          o = function () {
            for (var t = [], e = arguments.length; e--; ) t[e] = arguments[e];
            return s ? void 0 : n.apply(this, t);
          },
          u = { callback: n, handler: o };
        if (t(r, e)) {
          var h = e.split(" ").map(Fc).filter(zc);
          h.forEach(function (t) {
            (i._subs[t] || (i._subs[t] = [])).push(u),
              t.indexOf(".") && i._nsSubs++,
              a.push([t, u]);
          });
        }
      };
    for (var l in r) u(l);
    return {
      cancel: function () {
        return a.forEach(function (t) {
          return i.off(t[0], t[1].callback);
        });
      },
      isSilenced: function () {
        return s;
      },
      silence: function () {
        return (s = !0);
      },
      resume: function () {
        return (s = !1);
      },
    };
  }
  function ki(t, e) {
    var n = this.on(t, function () {
      e.apply(this, arguments), n.cancel();
    });
    return n;
  }
  function _i(t, e) {
    void 0 === e && (e = {});
    var n = S(t);
    if (this.viewmodel.has(n[0])) {
      var i = this.viewmodel.joinAll(n);
      if (!i.isLink) return;
      for (; (i = i.target) && e.canonical !== !1 && i.isLink; );
      if (i) return { ractive: i.root.ractive, keypath: i.getKeypath() };
    }
  }
  function Ei(t) {
    return void 0 === t ? Qc : (Qc = t);
  }
  function Si(t) {
    Hc.push(t), (Zc = !0);
  }
  function Ai(t) {
    var e = ji();
    e &&
      (t || Zc) &&
      (Qc
        ? Hc.forEach(function (t) {
            var e = Oi(t.id);
            if (e) {
              var n = Ci(t.id);
              Gc
                ? e.styleSheet.cssText !== n && (e.styleSheet.cssText = n)
                : e.innerHTML !== n && (e.innerHTML = n);
            }
          })
        : Gc
        ? (e.styleSheet.cssText = Ci(null))
        : (e.innerHTML = Ci(null)),
      (Zc = !1));
  }
  function Ci(t) {
    t && !Ga(t) && (t = [t]);
    var e = t
      ? Hc.filter(function (e) {
          return ~t.indexOf(e.id);
        })
      : Hc;
    return (
      e.forEach(function (t) {
        return (t.applied = !0);
      }),
      e.reduce(function (t, e) {
        return "" + (t ? t + "\n\n/* {" + e.id + "} */\n" + e.styles : "");
      }, qc)
    );
  }
  function Oi(t) {
    return Ja && (Ja.querySelector('[data-ractive-css="' + t + '"]') || Ni(t));
  }
  function Ni(t) {
    if (Ja) {
      var e = Ja.createElement("style");
      return (
        (e.type = "text/css"),
        e.setAttribute("data-ractive-css", t || ""),
        Ja.getElementsByTagName("head")[0].appendChild(e),
        null === Gc && (Gc = !!e.styleSheet),
        e
      );
    }
  }
  function ji() {
    return Wc || (Wc = Ni()), Wc;
  }
  function Ti(t, e, n) {
    void 0 === n && (n = []);
    var i = [],
      r = function (t) {
        return t.replace(tf, function (t, e) {
          return i[e];
        });
      };
    return (
      (t = t
        .replace(Xc, function (t) {
          return "\x00" + (i.push(t) - 1);
        })
        .replace(Jc, "")),
      n.forEach(function (e) {
        t = t.replace(e, function (t) {
          return "\x00" + (i.push(t) - 1);
        });
      }),
      e(t, r)
    );
  }
  function Vi(t) {
    return t.trim();
  }
  function Pi(t) {
    return t.str;
  }
  function Mi(t, e) {
    for (var n, i = []; (n = af.exec(t)); )
      i.push({ str: n[0], base: n[1], modifiers: n[2] });
    for (var r = i.map(Pi), s = [], a = i.length; a--; ) {
      var o = r.slice(),
        u = i[a];
      o[a] = u.base + e + u.modifiers || "";
      var h = r.slice();
      (h[a] = e + " " + h[a]), s.push(o.join(" "), h.join(" "));
    }
    return s.join(", ");
  }
  function Ii(t, e) {
    var n,
      i = '[data-ractive-css~="{' + e + '}"]';
    return (n = uf.test(t)
      ? t.replace(uf, i)
      : Ti(
          t,
          function (t, e) {
            return (
              (t = t
                .replace(nf, "$&")
                .replace(ef, function (t, e) {
                  if (of.test(e)) return t;
                  var n = e.split(",").map(Vi),
                    r =
                      n
                        .map(function (t) {
                          return Mi(t, i);
                        })
                        .join(", ") + " ";
                  return t.replace(e, r);
                })
                .replace(rf, "")),
              e(t)
            );
          },
          [sf]
        ));
  }
  function Ri() {
    return Math.floor(65536 * (1 + Math.random()))
      .toString(16)
      .substring(1);
  }
  function Bi() {
    return (
      Ri() +
      Ri() +
      "-" +
      Ri() +
      "-" +
      Ri() +
      "-" +
      Ri() +
      "-" +
      Ri() +
      Ri() +
      Ri()
    );
  }
  function Ki(t, e, n) {
    var i = o(t) ? e : n,
      r = this._cssModel;
    r.locked = !0;
    var s = an(un({ viewmodel: r }, t, e, !0), i);
    r.locked = !1;
    var a = Nl.start();
    return (
      this.extensions.forEach(function (t) {
        var e = t._cssModel;
        e.mark(), e.downstreamChanged("", 1);
      }),
      Nl.end(),
      Li(this, !i || i.apply !== !1),
      s.then(function () {
        return a;
      })
    );
  }
  function Li(t, e) {
    var n = Di(t),
      i = t.extensions
        .map(function (t) {
          return Li(t, !1);
        })
        .reduce(function (t, e) {
          return e || t;
        }, !1);
    if (e && (n || i)) {
      var r = t._cssDef;
      (!r || (r && r.applied)) && Ai(!0);
    }
    return n || i;
  }
  function Di(t) {
    var e = t.css;
    if (u(e)) {
      var n = t._cssDef,
        i = zi(t, e),
        r = n.transform ? Ii(i, n.id) : i;
      if (n.styles !== r) return (n.styles = r), !0;
    }
  }
  function Fi(t) {
    for (var e = t, n = []; e; )
      e.prototype.cssId && n.push(e.prototype.cssId), (e = e.Parent);
    return n;
  }
  function zi(t, e) {
    if (h(e)) return e;
    var n = t.cssData,
      i = t._cssModel,
      r = function (t) {
        return i.joinAll(S(t)).get();
      };
    r.__proto__ = n;
    var s = e.call(t, r);
    return h(s) ? s : "";
  }
  function Ui(t, e, n) {
    var i =
        t.css === !0
          ? ""
          : h(t.css) && !lf.test(t.css)
          ? ri(t.css) || t.css
          : t.css,
      r = i,
      s = t.cssId || Bi();
    o(i)
      ? ((i = "textContent" in i ? i.textContent : i.innerHTML), (r = i))
      : u(i) && ((r = i), (i = zi(e, i)));
    var a = {
      transform: "noCSSTransform" in t ? !t.noCSSTransform : !t.noCssTransform,
    };
    qa(e, "_cssDef", { configurable: !0, value: a }),
      qa(e, "css", {
        get: function () {
          return r;
        },
        set: function (t) {
          r = t;
          var n = zi(e, r),
            i = a.styles;
          (a.styles = a.transform ? Ii(n, s) : n),
            a.applied && i !== a.styles && Ai(!0);
        },
      }),
      (a.styles = a.transform ? Ii(i, s) : i),
      (a.id = n.cssId = s),
      e._cssIds.push(s),
      Si(e._cssDef);
  }
  function $i(t) {
    t &&
      t.constructor !== Object &&
      (u(t) ||
        (o(t)
          ? y(
              "If supplied, options.data should be a plain JavaScript object - using a non-POJO as the root object may work, but is discouraged"
            )
          : p(
              "data option must be an object or a function, `" +
                t +
                "` is not valid"
            )));
  }
  function qi() {
    return {};
  }
  function Hi(t, e) {
    $i(e);
    var n = u(t);
    e || n || (e = qi);
    var i = u(e);
    return n || i
      ? function () {
          var r = i ? Zi(e, this) : e,
            s = n ? Zi(t, this) : t;
          return Wi(r, s);
        }
      : Wi(e, t);
  }
  function Zi(t, e) {
    var n = t.call(e);
    if (n)
      return (
        o(n) || p("Data function must return an object"),
        n.constructor !== Object &&
          b(
            "Data function returned something other than a plain JavaScript object. This might work, but is strongly discouraged"
          ),
        n
      );
  }
  function Wi(t, e) {
    if (t && e) {
      for (var n in e) n in t || (t[n] = e[n]);
      return t;
    }
    return t || e;
  }
  function Gi(t) {
    var e = t._config.template;
    if (e && e.fn) {
      var n = Qi(t, e.fn);
      return n !== e.result ? ((e.result = n), n) : void 0;
    }
  }
  function Qi(t, e) {
    return e.call(t, {
      fromId: El.fromId,
      isParsed: El.isParsed,
      parse: function (e, n) {
        return void 0 === n && (n = El.getParseOptions(t)), El.parse(e, n);
      },
    });
  }
  function Yi(t, e) {
    return h(t) ? (t = Ji(t, e)) : (Xi(t), dt(t)), t;
  }
  function Ji(t, e) {
    return "#" === t[0] && (t = El.fromId(t)), El.parseFor(t, e);
  }
  function Xi(t) {
    if (void 0 == t) throw new Error("The template cannot be " + t + ".");
    if (!l(t.v))
      throw new Error(
        "The template parser was passed a non-string template, but the template doesn't have a version.  Make sure you're passing in the template you think you are."
      );
    if (t.v !== Do)
      throw new Error(
        "Mismatched template version (expected " +
          Do +
          ", got " +
          t.v +
          ") Please ensure you are using the latest version of Ractive.js in your build process as well as in your app"
      );
  }
  function tr(e, n, i) {
    if (n) for (var r in n) (i || !t(e, r)) && (e[r] = n[r]);
  }
  function er(t, e, n) {
    function i() {
      var t = nr(i._parent, e),
        r = "_super" in this,
        s = this._super;
      this._super = t;
      var a = n.apply(this, arguments);
      return r ? (this._super = s) : delete this._super, a;
    }
    return /_super/.test(n) ? ((i._parent = t), (i._method = n), i) : n;
  }
  function nr(t, e) {
    if (e in t) {
      var n = t[e];
      return u(n)
        ? n
        : function () {
            return n;
          };
    }
    return f;
  }
  function ir(t, e, n) {
    return (
      "options." +
      t +
      " has been deprecated in favour of options." +
      e +
      "." +
      (n
        ? " You cannot specify both options, please use options." + e + "."
        : "")
    );
  }
  function rr(t, e, n) {
    if (e in t) {
      if (n in t) throw new Error(ir(e, n, !0));
      y(ir(e, n)), (t[n] = t[e]);
    }
  }
  function sr(t) {
    rr(t, "beforeInit", "onconstruct"),
      rr(t, "init", "onrender"),
      rr(t, "complete", "oncomplete"),
      rr(t, "eventDefinitions", "events"),
      Ga(t.adaptors) && rr(t, "adaptors", "adapt");
  }
  function ar(e, n, i, r, s) {
    sr(r);
    for (var a in r)
      if (t(kf, a)) {
        var o = r[a];
        "el" !== a && u(o)
          ? y(
              a +
                " is a Ractive option that does not expect a function and will be ignored",
              "init" === e ? i : null
            )
          : (i[a] = o);
      }
    if (i.append && i.enhance)
      throw new Error("Cannot use append and enhance at the same time");
    yf.forEach(function (t) {
      t[e](n, i, r, s);
    }),
      Yc[e](n, i, r, s),
      df[e](n, i, r, s),
      cf[e](n, i, r, s),
      or(n.prototype, i, r);
  }
  function or(e, n, i) {
    for (var r in i)
      if (!_f[r] && t(i, r)) {
        var s = i[r];
        u(s) &&
          ((r in im ||
            ("on" === r.slice(0, 2) && r.slice(2) in ec && r in n)) &&
            !Sf.test(s.toString()) &&
            y(
              "Overriding Ractive prototype function '" +
                r +
                "' without calling the '" +
                Sf +
                "' method can be very dangerous."
            ),
          (s = er(e, r, s))),
          (n[r] = s);
      }
  }
  function ur(t) {
    var e = {};
    return (
      t.forEach(function (t) {
        return (e[t] = !0);
      }),
      e
    );
  }
  function hr(t) {
    return h(t)
      ? Ti(t, function (t, e) {
          return t
            .split(";")
            .filter(function (t) {
              return !!t.trim();
            })
            .map(e)
            .reduce(function (t, e) {
              var n = e.indexOf(":"),
                i = e.substr(0, n).trim();
              return (t[i] = e.substr(n + 1).trim()), t;
            }, {});
        })
      : {};
  }
  function lr(t) {
    for (var e = t.split(Nf), n = e.length; n--; ) e[n] || e.splice(n, 1);
    return e;
  }
  function cr(t) {
    var e = t.element,
      n = t.name;
    if ("value" === n) {
      if (
        (t.interpolator && (t.interpolator.bound = !0),
        "select" === e.name && "value" === n)
      )
        return e.getAttribute("multiple") ? fr : dr;
      if ("textarea" === e.name) return gr;
      if (null != e.getAttribute("contenteditable")) return pr;
      if ("input" === e.name) {
        var i = e.getAttribute("type");
        if ("file" === i) return f;
        if ("radio" === i && e.binding && "name" === e.binding.attribute.name)
          return mr;
        if (~jf.indexOf(i)) return gr;
      }
      return vr;
    }
    var r = e.node;
    if (t.isTwoway && "name" === n) {
      if ("radio" === r.type) return yr;
      if ("checkbox" === r.type) return br;
    }
    if ("style" === n) return wr;
    if (0 === n.indexOf("style-")) return xr;
    if ("class" === n && (!r.namespaceURI || r.namespaceURI === Sc)) return kr;
    if (0 === n.indexOf("class-")) return _r;
    if (t.isBoolean) {
      var s = e.getAttribute("type");
      return (
        !t.interpolator ||
          "checked" !== n ||
          ("checkbox" !== s && "radio" !== s) ||
          (t.interpolator.bound = !0),
        Er
      );
    }
    return t.namespace && t.namespace !== t.node.namespaceURI ? Ar : Sr;
  }
  function fr(t) {
    var e = this.getValue();
    Ga(e) || (e = [e]);
    var n = this.node.options,
      i = n.length;
    if (t) for (; i--; ) n[i].selected = !1;
    else
      for (; i--; ) {
        var r = n[i],
          s = r._ractive ? r._ractive.value : r.value;
        r.selected = O(e, s);
      }
  }
  function dr(t) {
    var e = this.getValue();
    if (!this.locked) {
      this.node._ractive.value = e;
      var n = this.node.options,
        i = n.length,
        r = !1;
      if (t) for (; i--; ) n[i].selected = !1;
      else
        for (; i--; ) {
          var s = n[i],
            a = s._ractive ? s._ractive.value : s.value;
          if ((s.disabled && s.selected && (r = !0), a == e))
            return void (s.selected = !0);
        }
      r || (this.node.selectedIndex = -1);
    }
  }
  function pr(t) {
    var e = this.getValue();
    this.locked ||
      (t ? (this.node.innerHTML = "") : (this.node.innerHTML = c(e) ? "" : e));
  }
  function mr(t) {
    var e = this.node,
      n = e.checked,
      i = this.getValue();
    return t
      ? (e.checked = !1)
      : ((e.value = this.node._ractive.value = i),
        (e.checked = this.element.compare(
          i,
          this.element.getAttribute("name")
        )),
        void (
          n &&
          !e.checked &&
          this.element.binding &&
          this.element.binding.rendered &&
          this.element.binding.group.model.set(
            this.element.binding.group.getValue()
          )
        ));
  }
  function vr(t) {
    if (!this.locked)
      if (t)
        this.node.removeAttribute("value"),
          (this.node.value = this.node._ractive.value = null);
      else {
        var e = this.getValue();
        (this.node.value = this.node._ractive.value = e),
          this.node.setAttribute("value", ai(e));
      }
  }
  function gr(t) {
    if (!this.locked)
      if (t)
        (this.node._ractive.value = ""), this.node.removeAttribute("value");
      else {
        var e = this.getValue();
        this.node._ractive.value = e;
        var n = ai(e);
        this.node.value !== n && (this.node.value = n),
          this.node.setAttribute("value", n);
      }
  }
  function yr(t) {
    t
      ? (this.node.checked = !1)
      : (this.node.checked = this.element.compare(
          this.getValue(),
          this.element.binding.getValue()
        ));
  }
  function br(t) {
    var e = this,
      n = e.element,
      i = e.node,
      r = n.binding,
      s = this.getValue(),
      a = n.getAttribute("value");
    if (Ga(s)) {
      for (var o = s.length; o--; )
        if (n.compare(a, s[o])) return void (r.isChecked = i.checked = !0);
      r.isChecked = i.checked = !1;
    } else r.isChecked = i.checked = n.compare(s, a);
  }
  function wr(t) {
    for (
      var e = t ? {} : hr(this.getValue() || ""),
        n = this.node.style,
        i = Za(e),
        r = this.previous || [],
        s = 0;
      s < i.length;

    ) {
      if (i[s] in n) {
        var a = e[i[s]].replace("!important", "");
        n.setProperty(i[s], a, a.length !== e[i[s]].length ? "important" : "");
      }
      s++;
    }
    for (s = r.length; s--; )
      !~i.indexOf(r[s]) && r[s] in n && n.setProperty(r[s], "", "");
    this.previous = i;
  }
  function xr(t) {
    if (
      (this.style || (this.style = _e(this.name.substr(6))),
      !t || this.node.style.getPropertyValue(this.style) === this.last)
    ) {
      var e = t ? "" : ai(this.getValue()),
        n = e.replace("!important", "");
      this.node.style.setProperty(
        this.style,
        n,
        n.length !== e.length ? "important" : ""
      ),
        (this.last = this.node.style.getPropertyValue(this.style));
    }
  }
  function kr(t) {
    var e = t ? [] : lr(ai(this.getValue())),
      n = this.node.className;
    n = void 0 !== n.baseVal ? n.baseVal : n;
    var i = lr(n),
      r = this.previous || [],
      s = e
        .concat(
          i.filter(function (t) {
            return !~r.indexOf(t);
          })
        )
        .join(" ");
    s !== n &&
      (h(this.node.className)
        ? (this.node.className = s)
        : (this.node.className.baseVal = s)),
      (this.previous = e);
  }
  function _r(t) {
    var e = this.name.substr(6),
      n = this.node.className;
    n = void 0 !== n.baseVal ? n.baseVal : n;
    var i = lr(n),
      r = t ? !1 : this.getValue();
    this.inlineClass || (this.inlineClass = e),
      r && !~i.indexOf(e)
        ? i.push(e)
        : !r && ~i.indexOf(e) && i.splice(i.indexOf(e), 1),
      h(this.node.className)
        ? (this.node.className = i.join(" "))
        : (this.node.className.baseVal = i.join(" "));
  }
  function Er(t) {
    if (!this.locked)
      if (t)
        this.useProperty && (this.node[this.propertyName] = !1),
          this.node.removeAttribute(this.propertyName);
      else if (this.useProperty) this.node[this.propertyName] = this.getValue();
      else {
        var e = this.getValue();
        e
          ? this.node.setAttribute(this.propertyName, h(e) ? e : "")
          : this.node.removeAttribute(this.propertyName);
      }
  }
  function Sr(t) {
    t
      ? this.node.getAttribute(this.name) === this.value &&
        this.node.removeAttribute(this.name)
      : ((this.value = ai(this.getString())),
        this.node.setAttribute(this.name, this.value));
  }
  function Ar(t) {
    t
      ? this.value ===
          this.node.getAttributeNS(
            this.namespace,
            this.name.slice(this.name.indexOf(":") + 1)
          ) &&
        this.node.removeAttributeNS(
          this.namespace,
          this.name.slice(this.name.indexOf(":") + 1)
        )
      : ((this.value = ai(this.getString())),
        this.node.setAttributeNS(
          this.namespace,
          this.name.slice(this.name.indexOf(":") + 1),
          this.value
        ));
  }
  function Cr() {
    return Pf;
  }
  function Or(t, e) {
    if (If.test(t)) return [];
    var n = e ? "svg" : "div";
    return t
      ? (Vf.innerHTML = "<" + n + " " + t + "></" + n + ">") &&
          M(Vf.childNodes[0].attributes)
      : [];
  }
  function Nr(t, e) {
    for (var n = t.length; n--; ) if (t[n].name === e.name) return !1;
    return !0;
  }
  function jr(t, e) {
    for (var n = "xmlns:" + e; t; ) {
      if (t.hasAttribute && t.hasAttribute(n)) return t.getAttribute(n);
      t = t.parentNode;
    }
    return Tc[e];
  }
  function Tr() {
    return Rf;
  }
  function Vr(t, e, n) {
    0 === e
      ? (t.value = !0)
      : "true" === e
      ? (t.value = !0)
      : "false" === e || "0" === e
      ? (t.value = !1)
      : (t.value = e);
    var i = t.element[t.flag];
    return (
      (t.element[t.flag] = t.value),
      n &&
        !t.element.attributes.binding &&
        i !== t.value &&
        t.element.recreateTwowayBinding(),
      t.value
    );
  }
  function Pr(t) {
    Af.call(this, t);
  }
  function Mr() {
    var t = this;
    return this.torndown
      ? (y(
          "ractive.teardown() was called on a Ractive instance that was already torn down"
        ),
        Promise.resolve())
      : ((this.shouldDestroy = !0),
        Ir(this, function () {
          return t.fragment.rendered ? t.unrender() : Promise.resolve();
        }));
  }
  function Ir(t, e) {
    (t.torndown = !0),
      t.fragment.unbind(),
      t._observers.slice().forEach(W),
      t.el && t.el.__ractive_instances__ && V(t.el.__ractive_instances__, t);
    var n = e();
    return (
      ec.teardown.fire(t),
      n.then(function () {
        ec.destruct.fire(t), t.viewmodel.teardown();
      }),
      n
    );
  }
  function Rr(t, e) {
    if (
      ((t.applyValue = function (t) {
        (this.parent.value[e] = t),
          t && t.viewmodel
            ? (this.link(t.viewmodel.getRactiveModel(), e),
              this._link.markedAll())
            : (this.link($a(Bo), e), this._link.markedAll());
      }),
      "root" === e)
    ) {
      var n = t.mark;
      t.mark = function (t) {
        this._marking ||
          ((this._marking = !0), n.apply(this, t), (this._marking = !1));
      };
    }
    return (
      t.applyValue(t.parent.ractive[e], e),
      (t._link.set = function (e) {
        return t.applyValue(e);
      }),
      (t._link.applyValue = function (e) {
        return t.applyValue(e);
      }),
      t._link
    );
  }
  function Br(t, e) {
    t._link && t._link.implicit && t._link.isDetached() && t.attach(e);
    for (var n in t.childByKey)
      if (t.value)
        if (n in t.value) Br(t.childByKey[n], e);
        else if (!t.childByKey[n]._link || t.childByKey[n]._link.isDetached()) {
          var i = Ye(e, n);
          i && t.childByKey[n].link(i, n, { implicit: !0 });
        }
  }
  function Kr(t) {
    t._link && t._link.implicit && t.unlink();
    for (var e in t.childByKey) Kr(t.childByKey[e]);
  }
  function Lr(t, e, i) {
    var r = (t.constructor["_" + i] || []).concat(n(e[i] || [])),
      s = "on" === i ? "once" : i + "Once";
    r.forEach(function (e) {
      var n = e[0],
        r = e[1];
      u(r)
        ? t[i](n, r)
        : o(r) && u(r.handler) && t[r.once ? s : i](n, r.handler, $a(r));
    });
  }
  function Dr(e, n) {
    Fa.DEBUG && mo(),
      zr(e),
      Ur(e),
      Lr(e, n, "on"),
      !t(n, "delegate") &&
        e.parent &&
        e.parent.delegate !== e.delegate &&
        (e.delegate = !1),
      Ga(n.use) &&
        e.use.apply(
          e,
          n.use.filter(function (t) {
            return t.construct;
          })
        ),
      ec.construct.fire(e, n),
      n.onconstruct && n.onconstruct.call(e, nn(e), n);
    for (var i = Uf.length; i--; ) {
      var r = Uf[i];
      e[r] = Ua($a(e.constructor[r] || null), n[r]);
    }
    for (i = $f.length; i--; ) {
      var s = $f[i];
      e[s] = Ua($a(e.constructor.prototype[s]), n[s]);
    }
    e._attributePartial &&
      ((e.partials["extra-attributes"] = e._attributePartial),
      delete e._attributePartial);
    var a = new zf({
      adapt: Fr(e, e.adapt, n),
      data: ff.init(e.constructor, e, n),
      ractive: e,
    });
    (e.adapt = a.adaptors), (e.viewmodel = a);
    for (var o in e.computed) Vn.call(e, o, e.computed[o]);
  }
  function Fr(t, e, n) {
    function i(e) {
      return h(e) && ((e = w("adaptors", t, e)), e || p(_o(e, "adaptor"))), e;
    }
    e = e.map(i);
    var r = j(n.adapt).map(i),
      s = [e, r];
    return (
      t.parent && !t.isolated && s.push(t.parent.viewmodel.adaptors),
      P.apply(null, s)
    );
  }
  function zr(t) {
    (t._guid = "r-" + qf++),
      (t._subs = $a(null)),
      (t._nsSubs = 0),
      (t._config = {}),
      (t.event = null),
      (t._eventQueue = []),
      (t._observers = []),
      (t._children = []),
      (t._children.byName = {}),
      (t.children = t._children),
      t.component || ((t.root = t), (t.parent = t.container = null));
  }
  function Ur(t) {
    var e = t.component,
      n = t.constructor.attributes;
    if (n && e) {
      var i = e.template,
        r = i.m ? i.m.slice() : [],
        s = r
          .filter(function (t) {
            return t.t === nu;
          })
          .map(function (t) {
            return t.n;
          });
      n.required.forEach(function (t) {
        ~s.indexOf(t) ||
          y(
            "Component '" +
              e.name +
              "' requires attribute '" +
              t +
              "' to be provided"
          );
      });
      for (var a = n.optional.concat(n.required), o = [], u = r.length; u--; ) {
        var h = r[u];
        h.t !== nu || ~a.indexOf(h.n)
          ? n.mapAll ||
            (h.t !== Ru && h.t !== Bu && h.t !== Ku) ||
            o.unshift(r.splice(u, 1)[0])
          : n.mapAll
          ? o.unshift({ t: nu, n: h.n, f: [{ t: Ho, r: "~/" + h.n }] })
          : o.unshift(r.splice(u, 1)[0]);
      }
      o.length && (e.template = { t: i.t, e: i.e, f: i.f, m: r, p: i.p }),
        (t._attributePartial = o);
    }
  }
  function $r(t) {
    this.item && this.removeChild(this.item);
    var e = t.instance;
    (t.anchor = this),
      (t.up = this.up),
      (t.name = t.nameOption || this.name),
      (this.name = t.name),
      e.isolated || e.viewmodel.attached(this.up),
      this.rendered && Hr(this, t);
  }
  function qr(t) {
    this.item === t && (Zr(this, t), (this.name = this.template.n));
  }
  function Hr(t, e) {
    if (t.rendered) {
      (e.shouldDestroy = !1),
        (e.up = t.up),
        (t.item = e),
        (t.instance = e.instance);
      var n = t.up.findNextNode(t);
      e.instance.fragment.rendered && e.instance.unrender(),
        (e.partials = e.instance.partials),
        (e.instance.partials = Ua($a(e.partials), e.partials, t._partials)),
        e.instance.fragment.unbind(!0),
        (e.instance.fragment.componentParent = t.up),
        e.instance.fragment.bind(e.instance.viewmodel),
        t.attributes.forEach(Z),
        t.eventHandlers.forEach(Z),
        t.attributes.forEach(et),
        t.eventHandlers.forEach(et);
      var i = t.up.findParentNode();
      ca(e.instance, i, i.contains(n) ? n : null, t.occupants),
        e.lastBound !== t && (e.lastBound = t);
    }
  }
  function Zr(t, e) {
    t.rendered &&
      ((e.shouldDestroy = !0),
      e.instance.unrender(),
      t.eventHandlers.forEach(st),
      t.attributes.forEach(st),
      t.eventHandlers.forEach(rt),
      t.attributes.forEach(rt),
      (e.instance.el = e.instance.anchor = null),
      (e.instance.fragment.componentParent = null),
      (e.up = null),
      (e.anchor = null),
      (t.item = null),
      (t.instance = null));
  }
  function Wr() {
    var t = Zf;
    (Zf = []), t.forEach(Cn);
  }
  function Gr(t) {
    t.deps.length || t.refs || t.links.length || t.teardown();
  }
  function Qr(t, e, n, i) {
    void 0 === i && (i = {}),
      e &&
        e.f &&
        e.f.s &&
        (i.register
          ? ((t.model = new Jf(n, e.f)), t.model.register(t))
          : (t.fn = ft(e.f.s, e.f.r.length)));
  }
  function Yr(t, e, n, i) {
    return (
      void 0 === i && (i = {}),
      e.f.r.map(function (t, e) {
        var r;
        return i.specialRef && (r = i.specialRef(t, e)) ? r : (r = Ye(n, t));
      })
    );
  }
  function Jr(t) {
    t.model && t.model.unregister(t);
  }
  function Xr() {
    this._ractive.binding.handleChange();
  }
  function ts(t, e, n) {
    var i = t + "-bindingGroup";
    return e[i] || (e[i] = new hd(i, e, n));
  }
  function es() {
    var t = this,
      e = this.bindings
        .filter(function (t) {
          return t.node && t.node.checked;
        })
        .map(function (t) {
          return t.element.getAttribute("value");
        }),
      n = [];
    return (
      e.forEach(function (e) {
        t.bindings[0].arrayContains(n, e) || n.push(e);
      }),
      n
    );
  }
  function ns() {
    Xr.call(this);
    var t = this._ractive.binding.model.get();
    this.value = void 0 == t ? "" : t;
  }
  function is(t) {
    var e;
    return function () {
      var n = this;
      e && clearTimeout(e),
        (e = setTimeout(function () {
          var t = n._ractive.binding;
          t.rendered && Xr.call(n), (e = null);
        }, t));
    };
  }
  function rs(t) {
    return t.selectedOptions
      ? M(t.selectedOptions)
      : t.options
      ? M(t.options).filter(function (t) {
          return t.selected;
        })
      : [];
  }
  function ss(t) {
    return yd[t] || (yd[t] = []);
  }
  function as() {
    var t = this.bindings.filter(function (t) {
      return t.node.checked;
    });
    return t.length > 0 ? t[0].element.getAttribute("value") : void 0;
  }
  function os(t) {
    return t && t.template.f && 1 === t.template.f.length && !t.template.f[0].s
      ? t.template.f[0].t === Ho
        ? !0
        : (t.template.f[0].t === Zo &&
            y("It is not possible create a binding using a triple mustache."),
          !1)
      : !1;
  }
  function us(t) {
    var e = t.name,
      n = t.attributeByName;
    if (
      "input" === e ||
      "textarea" === e ||
      "select" === e ||
      n.contenteditable
    ) {
      var i = os(n.value),
        r = os(n.contenteditable),
        s = t.getAttribute("contenteditable");
      if ((s || r) && i) return dd;
      if ("input" === e) {
        var a = t.getAttribute("type");
        if ("radio" === a) {
          var o = os(n.name),
            u = os(n.checked);
          return o && u
            ? (y(
                "A radio input can have two-way binding on its name attribute, or its checked attribute - not both",
                { ractive: t.root }
              ),
              wd)
            : o
            ? wd
            : u
            ? bd
            : null;
        }
        if ("checkbox" === a) {
          var h = os(n.name),
            l = os(n.checked);
          return h && l ? ud : h ? fd : l ? ud : null;
        }
        return "file" === a && i
          ? md
          : "number" === a && i
          ? gd
          : "range" === a && i
          ? gd
          : i
          ? pd
          : null;
      }
      return "select" === e && i
        ? t.getAttribute("multiple")
          ? vd
          : xd
        : "textarea" === e && i
        ? pd
        : null;
    }
  }
  function hs(t) {
    var e = t.attributeByName.name;
    return (
      "radio" === t.getAttribute("type") &&
      (e || {}).interpolator &&
      t.getAttribute("value") === e.interpolator.model.get()
    );
  }
  function ls(t) {
    var e = t.toString();
    return e ? " " + e : "";
  }
  function cs(t) {
    var e = t.getAttribute("xmlns");
    if (e) return e;
    if ("svg" === t.name) return Cc;
    var n = t.parent;
    return n
      ? "foreignobject" === n.name
        ? Sc
        : n.node.namespaceURI
      : t.ractive.el.namespaceURI;
  }
  function fs() {
    Ed = !0;
  }
  function ds() {
    Sd = !0;
  }
  function ps() {
    Ad = !0;
  }
  function ms(t) {
    var e,
      n = t.type,
      i = t.currentTarget,
      r = i._ractive && i._ractive.proxy,
      s = t.target,
      a = !0,
      o = !1;
    Ed = Sd = Ad = !1;
    var u = t.stopPropagation,
      h = t.stopImmediatePropagation,
      l = t.preventDefault;
    for (
      t.stopPropagation = fs,
        t.stopImmediatePropagation = ds,
        t.preventDefault = ps;
      a && s && s !== i;

    ) {
      var c = s._ractive && s._ractive.proxy;
      if (
        c &&
        c.up.delegate === r &&
        vs(t, s, i) &&
        (e = c.listeners && c.listeners[n])
      )
        for (var f = e.length, d = 0; f > d; d++) {
          if (((a = e[d].call(s, t) !== !1 && a), Sd)) {
            a = !1;
            break;
          }
          Ed && (a = !1), Ad && !o && ((o = !0), l.call(t));
        }
      s = s.parentNode || s.correspondingUseElement;
    }
    return (
      a && (a = !Ed && !Sd),
      Ed && u.call(t),
      Sd && h.call(t),
      (t.stopPropagation = u),
      (t.stopImmediaitePropagation = h),
      (t.preventDefault = l),
      a
    );
  }
  function vs(t, e, n) {
    if (Cd && t instanceof Cd)
      for (var i = e; i && i !== n; ) {
        if (i.disabled) return !1;
        i = i.parentNode || i.correspondingUseElement;
      }
    return !0;
  }
  function gs(t) {
    var e,
      n = this,
      i = this._ractive.proxy;
    if (i.listeners && (e = i.listeners[t.type]))
      for (var r = e.length, s = 0; r > s; s++) e[s] && e[s].call(n, t);
  }
  function ys() {
    var t = this._ractive.proxy;
    Nl.start(), t.formBindings.forEach(bs), Nl.end();
  }
  function bs(t) {
    t.model.set(t.resetValue);
  }
  function ws(t, e, n, i) {
    if (n) {
      var r = n[0];
      if (r && 3 === r.nodeType) {
        var s = r.nodeValue.indexOf(i);
        n.shift(),
          0 === s
            ? r.nodeValue.length !== i.length &&
              n.unshift(r.splitText(i.length))
            : (r.nodeValue = i);
      } else
        (r = t.node = Ja.createTextNode(i)),
          n[0] ? e.insertBefore(r, n[0]) : e.appendChild(r);
      t.node = r;
    } else t.node || (t.node = Ja.createTextNode(i)), e.appendChild(t.node);
  }
  function xs(t) {
    t.base && t.base.unregister(t.proxy),
      t.models &&
        t.models.forEach(function (e) {
          e.unregister && e.unregister(t);
        });
  }
  function ks(t) {
    var e,
      n,
      i = t.deps.length;
    for (e = 0; i > e; e++)
      (n = t.deps[e]),
        n.pathChanged && n.pathChanged(),
        n.fragment &&
          n.fragment.pathModel &&
          n.fragment.pathModel.applyValue(t.getKeypath());
    for (i = t.children.length, e = 0; i > e; e++) ks(t.children[e]);
  }
  function _s(t, e) {
    return e.r
      ? Ye(t, e.r)
      : e.x
      ? new Jf(t, e.x)
      : e.rx
      ? new Dd(t, e.rx)
      : void 0;
  }
  function Es(t) {
    Ud.call(this, t);
  }
  function Ss(t) {
    t.sp();
    var e = Ot(t);
    if (!e) return null;
    var n = { key: e };
    if ((t.sp(), !t.matchString(":"))) return null;
    t.sp();
    var i = t.read();
    return i ? ((n.value = i.v), n) : null;
  }
  function As(t, e) {
    var n = new Xd(t, { values: e });
    return n.result;
  }
  function Cs(t) {
    var e = t.template.f,
      n = t.element.instance.viewmodel,
      i = n.value;
    if (1 === e.length && e[0].t === Ho) {
      var r = _s(t.up, e[0]),
        s = r.get(!1);
      e[0].s
        ? !o(s) || e[0].x
          ? n.joinKey(S(t.name)).set(s)
          : y(
              "Cannot copy non-computed object value from static mapping '" +
                t.name +
                "'"
            )
        : ((t.model = r),
          (t.link = n.createLink(t.name, r, e[0].r, { mapping: !0 })),
          c(s) && !r.isReadonly && t.name in i && r.set(i[t.name])),
        r !== t.model && r.unregister();
    } else
      (t.boundFragment = new Gp({ owner: t, template: e }).bind()),
        (t.model = n.joinKey(S(t.name))),
        t.model.set(t.boundFragment.valueOf()),
        (t.boundFragment.bubble = function () {
          Gp.prototype.bubble.call(t.boundFragment),
            Nl.scheduleTask(function () {
              t.boundFragment.update(), t.model.set(t.boundFragment.valueOf());
            });
        });
  }
  function Os(t, n, i) {
    var r = Ns(t, n, i || {});
    if (r) return r;
    if ((r = El.fromId(n, { noThrow: !0 }))) {
      var s = El.parseFor(r, t);
      return s.p && e(t.partials, s.p), (t.partials[n] = s.t);
    }
  }
  function Ns(e, n, i) {
    var r = Vs(n, i.owner);
    if (r) return r;
    var s = x("partials", e, n);
    if (s) {
      r = s.partials[n];
      var a;
      if (u(r)) {
        if (((a = r), a.styleSet)) return a;
        (a = r.bind(s)), (a.isOwner = t(s.partials, n)), (r = a.call(e, El));
      }
      if (!r && "" !== r)
        return void y(ko, n, "partial", "partial", { ractive: e });
      if (!El.isParsed(r)) {
        var o = El.parseFor(r, s);
        o.p &&
          y("Partials ({{>%s}}) cannot contain nested inline partials", n, {
            ractive: e,
          });
        var h = a ? s : js(s, n);
        h.partials[n] = r = o.t;
      }
      return a && (r._fn = a), r.v ? (dt(r), (s.partials[n] = r.t)) : r;
    }
  }
  function js(e, n) {
    return t(e.partials, n) ? e : Ts(e.constructor, n);
  }
  function Ts(e, n) {
    return e ? (t(e.partials, n) ? e : Ts(e.Parent, n)) : void 0;
  }
  function Vs(e, n) {
    if (n) {
      if (n.template && n.template.p && !Ga(n.template.p) && t(n.template.p, e))
        return n.template.p[e];
      if (n.up && n.up.owner) return Vs(e, n.up.owner);
    }
  }
  function Ps(t) {
    Es.call(this, t);
    var e = t.template;
    e.t === su
      ? (this.yielder = 1)
      : e.t === Yo && ((this.type = Jo), (this.macro = t.macro));
  }
  function Ms(t, e) {
    (t.partial = t.last = e), Is(t);
    var n = { owner: t, template: t.partial };
    t.yielder && (n.ractive = t.container.parent),
      t.fn && (n.cssIds = t.fn._cssIds),
      (t.fragment = new Gp(n));
  }
  function Is(t) {
    t.template.c &&
      ((t.partial = [{ t: Wo, n: Nu, f: t.partial }]),
      Ua(t.partial[0], t.template.c),
      t.yielder ? (t.partial[0].y = t) : (t.partial[0].z = t.template.z));
  }
  function Rs(t, e, n) {
    var i = e;
    return (
      Ga(i)
        ? (t.partial = i)
        : i && o(i)
        ? Ga(i.t)
          ? (t.partial = i.t)
          : h(i.template) &&
            (t.partial = Ds(i.template, i.template, t.ractive).t)
        : u(i) && i.styleSet
        ? ((t.fn = i), t.fragment && (t.fragment.cssIds = i._cssIds))
        : null != i &&
          ((i = Os(t.ractive, "" + i, t.containerFragment || t.up)),
          i
            ? ((t.name = e),
              i.styleSet
                ? ((t.fn = i), t.fragment && (t.fragment.cssIds = i._cssIds))
                : (t.partial = i))
            : n
            ? (t.partial = Ds("" + e, "" + e, t.ractive).t)
            : (t.name = e)),
      t.partial
    );
  }
  function Bs(t) {
    if ((Rs(this, t, !0), !this.initing)) {
      if (
        ((this.dirtyTemplate = !0),
        (this.fnTemplate = this.partial),
        !this.updating)
      ) {
        var e = Nl.start();
        return this.bubble(), Nl.end(), e;
      }
      this.bubble(), Nl.promise();
    }
  }
  function Ks(t, e) {
    var n = this.fragment.aliases || (this.fragment.aliases = {});
    e ? (n[e] = this._data.joinAll(S(t))) : (n[t] = this._data);
  }
  function Ls(e) {
    var n = e.fn,
      i = e.fragment,
      r = (e.template = Ua({}, e.template)),
      s = (e.handle = i.getContext({
        proxy: e,
        aliasLocal: Ks,
        name: e.template.e || e.name,
        attributes: {},
        setTemplate: Bs.bind(e),
        template: r,
        macro: n,
      }));
    if (
      (r.p || (r.p = {}),
      (r.p = s.partials = Ua({}, r.p)),
      t(r.p, "content") || (r.p.content = r.f || []),
      Ga(n.attributes))
    ) {
      e._attrs = {};
      var a = function () {
        (this.dirty = !0), (e.dirtyAttrs = !0), e.bubble();
      };
      if (Ga(r.m)) {
        var o = r.m;
        (r.p[ip] = r.m =
          o.filter(function (t) {
            return !~n.attributes.indexOf(t.n);
          })),
          o
            .filter(function (t) {
              return ~n.attributes.indexOf(t.n);
            })
            .forEach(function (t) {
              var n = new Gp({ template: t.f, owner: e });
              (n.bubble = a), (n.findFirstNode = f), (e._attrs[t.n] = n);
            });
      } else r.p[ip] = [];
    } else r.p[ip] = r.m;
    e._attrs &&
      (Za(e._attrs).forEach(function (t) {
        e._attrs[t].bind();
      }),
      e.refreshAttrs()),
      (e.initing = 1),
      (e.proxy = n.call(e.ractive, s, s.attributes) || {}),
      e.partial || (e.partial = []),
      (e.fnTemplate = e.partial),
      (e.initing = 0),
      Is(e),
      i.resetTemplate(e.partial);
  }
  function Ds(t, e, n) {
    var i;
    try {
      i = El.parse(e, El.getParseOptions(n));
    } catch (r) {
      y("Could not parse partial from expression '" + t + "'\n" + r.message);
    }
    return i || { t: [] };
  }
  function Fs(t) {
    var e,
      n,
      i = t;
    t: for (; i; ) {
      for (n = 0; !n && i; ) {
        if (
          (i.owner.type === Yo && (n = i.owner),
          i.owner.ractive && i.owner.ractive.delegate === !1)
        )
          break t;
        i = i.parent || i.componentParent;
      }
      if (n.delegate === !1) break t;
      for (e = n.delegate || n; i && !i.iterations; ) {
        if (i.owner.ractive && i.owner.ractive.delegate === !1) break t;
        i = i.parent || i.componentParent;
      }
    }
    return e;
  }
  function zs(t, e, n, i) {
    var r = t.context ? $s(t, e, n) : void 0;
    (e.key = n),
      (e.index = i),
      (e.context = r),
      t.source && (e.lastValue = r && r.get()),
      e.idxModel && e.idxModel.applyValue(i),
      e.keyModel && e.keyModel.applyValue(n),
      e.pathModel &&
        ((e.pathModel.context = r), e.pathModel.applyValue(r.getKeypath())),
      e.rootModel &&
        ((e.rootModel.context = r),
        e.rootModel.applyValue(r.getKeypath(e.ractive.root)));
    var s = e.aliases;
    t.aliases &&
      t.aliases.forEach(function (t) {
        "." === t.x.r
          ? (s[t.n] = r)
          : "@index" === t.x.r
          ? (s[t.n] = e.getIndex())
          : "@key" === t.x.r
          ? (s[t.n] = e.getKey())
          : "@keypath" === t.x.r
          ? (s[t.n] = e.getKeypath())
          : "@rootpath" === t.x.r && (s[t.n] = e.getKeypath(!0));
      });
  }
  function Us(t, e) {
    var n = t.context.get() || [];
    return e === !0
      ? n.slice()
      : n.map(function (t) {
          return e.reduce(function (t, e) {
            return t && t[e];
          }, t);
        });
  }
  function $s(t, e, n) {
    if (t.source) {
      var i,
        r = t.source.model.get();
      if (r.indexOf && ~(i = r.indexOf(t.context.joinKey(n).get())))
        return t.source.model.joinKey(i);
    }
    return t.context.joinKey(n);
  }
  function qs(t) {
    return !t || (Ga(t) && 0 === t.length) || (s(t) && 0 === Za(t).length);
  }
  function Hs(t, e) {
    return e || Ga(t) ? Ou : a(t) ? ju : c(t) ? null : Au;
  }
  function Zs(t, e) {
    var n = (t.containerFragment || t.up).findNextNode(t);
    if (n) {
      var i = ii();
      e.render(i), n.parentNode.insertBefore(i, n);
    } else e.render(t.up.findParentNode());
  }
  function Ws() {
    pp = !Ja[mp];
  }
  function Gs() {
    pp = !1;
  }
  function Qs() {
    pp = !0;
  }
  function Ys(t) {
    return t
      ? (Ep.test(t) && (t = "-" + t),
        t.replace(/[A-Z]/g, function (t) {
          return "-" + t.toLowerCase();
        }))
      : "";
  }
  function Js(e, n, i) {
    for (var r = n; r; ) {
      if (t(r, e) && (c(i) || i ? r.rendering : r.unrendering)) return r[e];
      r = r.component && r.component.ractive;
    }
    return n[e];
  }
  function Xs(t, e) {
    var n = [];
    if (null == t || "" === t) return n;
    var i, r, s;
    zp && (r = Up[e.tagName])
      ? ((i = ta("DIV")),
        (i.innerHTML = r[0] + t + r[1]),
        (i = i.querySelector(".x")),
        "SELECT" === i.tagName && (s = i.options[i.selectedIndex]))
      : e.namespaceURI === Cc
      ? ((i = ta("DIV")),
        (i.innerHTML = '<svg class="x">' + t + "</svg>"),
        (i = i.querySelector(".x")))
      : "TEXTAREA" === e.tagName
      ? ((i = mc("div")),
        "undefined" != typeof i.textContent
          ? (i.textContent = t)
          : (i.innerHTML = t))
      : ((i = ta(e.tagName)),
        (i.innerHTML = t),
        "SELECT" === i.tagName && (s = i.options[i.selectedIndex]));
    for (var a; (a = i.firstChild); ) n.push(a), i.removeChild(a);
    var o;
    if ("SELECT" === e.tagName)
      for (o = n.length; o--; ) n[o] !== s && (n[o].selected = !1);
    return n;
  }
  function ta(t) {
    return $p[t] || ($p[t] = mc(t));
  }
  function ea(e, n) {
    var i,
      r = x("components", e, n);
    if (r && ((i = r.components[n]), i && !i.isInstance))
      if (i["default"] && i["default"].isInstance) i = i["default"];
      else if (!i.then && u(i)) {
        var s = i.bind(r);
        if (((s.isOwner = t(r.components, n)), (i = s()), !i))
          return void y(ko, n, "component", "component", { ractive: e });
        h(i) && (i = ea(e, i)), (i._fn = s), (r.components[n] = i);
      }
    return i;
  }
  function na(t, e) {
    var n = e.template.p || {},
      i = e.template.e,
      r = Ua({}, e, {
        template: { t: Yo, e: i },
        macro: function (r) {
          r.setTemplate(n["async-loading"] || []),
            t.then(
              function (t) {
                (e.up.ractive.components[i] = t),
                  n["async-loaded"]
                    ? ((r.partials.component = [e.template]),
                      r.setTemplate(n["async-loaded"]))
                    : r.setTemplate([e.template]);
              },
              function (t) {
                n["async-failed"]
                  ? (r.aliasLocal("error", "error"),
                    r.set("@local.error", t),
                    r.setTemplate(n["async-failed"]))
                  : r.setTemplate([]);
              }
            );
        },
      });
    return new Ps(r);
  }
  function ia(t, e, n) {
    var i = t.f.find(function (t) {
      return t.t === e;
    });
    return i
      ? i.n
        ? [
            {
              t: 19,
              n: 54,
              f: i.f || [],
              z: [{ n: i.n, x: { r: "__await." + n } }],
            },
          ]
        : i.f || []
      : [];
  }
  function ra(t) {
    var e = t.template,
      n = ia(e, Pu, "value"),
      i = ia(e, Mu, "error"),
      r = ia(e, Wo),
      s = ia(e, Tu),
      a = Ua({}, t, {
        template: {
          t: Yo,
          m: [{ t: nu, n: "for", f: [{ t: Ho, r: e.r, rx: e.rx, x: e.x }] }],
        },
        macro: function (t, e) {
          function a(e) {
            e["for"] && u(e["for"].then)
              ? (t.setTemplate(r),
                e["for"].then(
                  function (e) {
                    t.set("@local.value", e), t.setTemplate(n);
                  },
                  function (e) {
                    t.set("@local.error", e), t.setTemplate(i);
                  }
                ))
              : c(e["for"])
              ? t.setTemplate(s)
              : (t.set("@local.value", e["for"]), t.setTemplate(n));
          }
          return t.aliasLocal("__await"), a(e), { update: a };
        },
      });
    return (a.macro.attributes = ["for"]), new Ps(a);
  }
  function sa(t) {
    if (h(t.template)) return new fp(t);
    var e,
      n,
      i = t.template.t;
    if (i === Yo) {
      if (
        ((n = t.template.e),
        (e = x("partials", t.up.ractive, n)),
        e && ((e = e.partials[n]), e.styleSet))
      )
        return (t.macro = e), new Ps(t);
      if ((e = ea(t.up.ractive, n))) {
        if (u(e.then)) return na(e, t);
        if (u(e)) return new Hf(t, e);
      }
      return new (e = Wp[n.toLowerCase()] || _d)(t);
    }
    var r;
    if (i === nu) {
      var s = t.owner;
      (!s || (s.type !== eu && s.type !== ru && s.type !== Yo)) &&
        (s = zn(t.up)),
        (t.element = s),
        (r = s.type === ru || s.type === eu ? tp : Bf);
    } else r = Zp[i];
    if (!r) throw new Error("Unrecognised item type " + i);
    return new r(t);
  }
  function aa(t, e, n, i) {
    return (
      void 0 === i && (i = 0),
      t
        .map(function (t) {
          if (t.type === qo) return t.template;
          if (t.fragment)
            return t.fragment.iterations
              ? t.fragment.iterations
                  .map(function (t) {
                    return aa(t.items, e, n, i);
                  })
                  .join("")
              : aa(t.fragment.items, e, n, i);
          var r = n + "-" + i++,
            s = t.model || t.newModel;
          return (
            (e[r] = s ? (s.wrapper ? s.wrapperValue : s.get()) : void 0),
            "${" + r + "}"
          );
        })
        .join("")
    );
  }
  function oa(t, e, n) {
    void 0 === n && (n = {});
    for (var i = 0; i < t.length; i++)
      if (!n[t[i].n]) {
        var r = _s(e, t[i].x);
        (n[t[i].n] = r), r.reference();
      }
    return n;
  }
  function ua(t) {
    var e,
      n = sn(this);
    if (t) {
      if (this.rootModel) return this.rootModel;
      (this.rootModel = new rp(
        this.context.getKeypath(this.ractive.root),
        this.context,
        this.ractive.root
      )),
        (e = this.rootModel);
    } else {
      if (this.pathModel) return this.pathModel;
      (this.pathModel = new rp(this.context.getKeypath(), this.context)),
        (e = this.pathModel);
    }
    return n && n.context && n.getKeypath(t).registerChild(e), e;
  }
  function ha(t, e, n) {
    var i = t.viewmodel.computed;
    if (i)
      for (var r in i)
        r in t.viewmodel.value &&
          i[r] &&
          !i[r].isReadonly &&
          i[r].set(t.viewmodel.value[r]);
    bf.init(t.constructor, t, e),
      Ga(e.use) &&
        t.use.apply(
          t,
          e.use.filter(function (t) {
            return !t.construct;
          })
        ),
      ec.config.fire(t),
      ec.init.begin(t);
    var s = (t.fragment = la(t, n));
    if ((s && s.bind(t.viewmodel), ec.init.end(t), Lr(t, e, "observe"), s)) {
      var a = (t.el = t.target = ri(t.el || t.target));
      if (a && !t.component) {
        var o = t.render(a, t.append);
        Fa.DEBUG_PROMISES &&
          o["catch"](function (e) {
            throw (
              (b(
                "Promise debugging is enabled, to help solve errors that happen asynchronously. Some browsers will log unhandled promise rejections, in which case you can safely disable promise debugging:\n  Ractive.DEBUG_PROMISES = false;"
              ),
              y("An error happened during rendering", { ractive: t }),
              m(e),
              e)
            );
          });
      }
    }
  }
  function la(t, e) {
    if ((void 0 === e && (e = {}), t.template)) {
      var n = [].concat(t.constructor._cssIds || [], e.cssIds || []);
      return new Gp({ owner: t, template: t.template, cssIds: n });
    }
  }
  function ca(t, e, n, i) {
    t.rendering = !0;
    var r = Nl.start();
    if (
      (Nl.scheduleTask(function () {
        return ec.render.fire(t);
      }, !0),
      t.fragment.rendered)
    )
      throw new Error(
        "You cannot call ractive.render() on an already rendered instance! Call ractive.unrender() first"
      );
    if (
      (t.destroyed &&
        ((t.destroyed = !1), (t.fragment = la(t).bind(t.viewmodel))),
      (n = ri(n) || t.anchor),
      (t.el = t.target = e),
      (t.anchor = n),
      t.cssId && Ai(),
      e)
    )
      if (
        ((e.__ractive_instances__ || (e.__ractive_instances__ = [])).push(t), n)
      ) {
        var s = Ja.createDocumentFragment();
        t.fragment.render(s), e.insertBefore(s, n);
      } else t.fragment.render(e, i);
    return (
      Nl.end(),
      (t.rendering = !1),
      r.then(function () {
        t.torndown || ec.complete.fire(t);
      })
    );
  }
  function fa(t, e) {
    if (this.torndown)
      return (
        y(
          "ractive.render() was called on a Ractive instance that was already torn down"
        ),
        Promise.resolve()
      );
    if (((t = ri(t) || this.el), !this.append && t)) {
      var n = t.__ractive_instances__;
      n && n.forEach(it), this.enhance || (t.innerHTML = "");
    }
    var i = this.enhance ? M(t.childNodes) : null,
      r = ca(this, t, e, i);
    if (i) for (; i.length; ) t.removeChild(i.pop());
    return r;
  }
  function da(t) {
    if (((t = t || {}), !o(t)))
      throw new Error(
        "The reset method takes either no arguments, or an object containing new data"
      );
    t = ff.init(this.constructor, this, { data: t });
    var e = Nl.start(),
      n = this.viewmodel.wrapper;
    n && n.reset
      ? n.reset(t) === !1 && this.viewmodel.set(t)
      : this.viewmodel.set(t);
    for (var i, r = bf.reset(this), s = r.length; s--; )
      if (Yp.indexOf(r[s]) > -1) {
        i = !0;
        break;
      }
    return (
      i &&
        (ec.unrender.fire(this),
        this.fragment.resetTemplate(this.template),
        ec.render.fire(this),
        ec.complete.fire(this)),
      Nl.end(),
      ec.reset.fire(this, t),
      e
    );
  }
  function pa(t, e, n, i) {
    t.forEach(function (t) {
      if (t.type === Jo && (t.refName === e || t.name === e))
        return (t.inAttribute = n), void i.push(t);
      if (t.fragment) pa(t.fragment.iterations || t.fragment.items, e, n, i);
      else if (Ga(t.items)) pa(t.items, e, n, i);
      else if (t.type === ru && t.instance) {
        if (t.instance.partials[e]) return;
        pa(t.instance.fragment.items, e, n, i);
      }
      t.type === Yo && Ga(t.attributes) && pa(t.attributes, e, !0, i);
    });
  }
  function ma(t, e) {
    var n = [];
    pa(this.fragment.items, t, !1, n);
    var i = Nl.start();
    return (this.partials[t] = e), n.forEach(Q), Nl.end(), i;
  }
  function va(t) {
    df.init(null, this, { template: t });
    var e = this.transitionsEnabled;
    this.transitionsEnabled = !1;
    var n = this.component;
    n && (n.shouldDestroy = !0), this.unrender(), n && (n.shouldDestroy = !1);
    var i = Nl.start();
    this.fragment.unbind().unrender(!0),
      (this.fragment = new Gp({
        template: this.template,
        root: this,
        owner: this,
      }));
    var r = ii();
    return (
      this.fragment.bind(this.viewmodel).render(r),
      n && !n.external
        ? this.fragment.findParentNode().insertBefore(r, n.findNextNode())
        : this.el.insertBefore(r, this.anchor),
      Nl.end(),
      (this.transitionsEnabled = e),
      i
    );
  }
  function ga(t, e, n) {
    var i = this,
      r = o(t) ? e : n;
    return an(un(i, t, e, r && r.isolated), r);
  }
  function ya(t, e, n) {
    var i = l(e) ? -e : -1,
      r = o(e) ? e : n;
    return cn(this, t, i, r);
  }
  function ba(t, e) {
    if (!h(t)) throw new TypeError(xo);
    return an(
      on(this, t, null, e && e.isolated).map(function (t) {
        return [t, !t.get()];
      }),
      e
    );
  }
  function wa() {
    var t = [this.cssId].concat(
        this.findAllComponents().map(function (t) {
          return t.cssId;
        })
      ),
      e = Za(
        t.reduce(function (t, e) {
          return (t[e] = !0), t;
        }, {})
      );
    return Ci(e);
  }
  function xa() {
    return this.fragment.toString(!0);
  }
  function ka() {
    return this.fragment.toString(!1);
  }
  function _a(t, e, n) {
    e instanceof HTMLElement || (s(e) && (n = e)),
      (e = e || this.event.node),
      (e && e._ractive) || p("No node was supplied for transition " + t),
      (n = n || {});
    var i = e._ractive.proxy,
      r = new Lp({ owner: i, up: i.up, name: t, params: n });
    r.bind();
    var a = Nl.start();
    return (
      Nl.registerTransition(r),
      Nl.end(),
      a.then(function () {
        return r.unbind();
      }),
      a
    );
  }
  function Ea(t) {
    var e = Nl.start();
    return this.viewmodel.joinAll(S(t), { lastLink: !1 }).unlink(), Nl.end(), e;
  }
  function Sa() {
    if (!this.fragment.rendered)
      return (
        y(
          "ractive.unrender() was called on a Ractive instance that was not rendered"
        ),
        Promise.resolve()
      );
    this.unrendering = !0;
    var t = Nl.start();
    ec.unrendering.fire(this);
    var e =
      !this.component ||
      (this.component.anchor || {}).shouldDestroy ||
      this.component.shouldDestroy ||
      this.shouldDestroy;
    return (
      this.fragment.unrender(e),
      e && (this.destroyed = !0),
      V(this.el.__ractive_instances__, this),
      ec.unrender.fire(this),
      Nl.end(),
      (this.unrendering = !1),
      t
    );
  }
  function Aa(t, e) {
    var n = Nl.start();
    return (
      t
        ? this.viewmodel.joinAll(S(t)).updateFromBindings(e !== !1)
        : this.viewmodel.updateFromBindings(!0),
      Nl.end(),
      n
    );
  }
  function Ca() {
    for (var t = this, e = [], n = arguments.length; n--; ) e[n] = arguments[n];
    return (
      e.forEach(function (e) {
        e({ proto: t, Ractive: t.constructor.Ractive, instance: t });
      }),
      this
    );
  }
  function Oa(t) {
    return t && t instanceof this;
  }
  function Na(t, e) {
    return this._cssModel.joinAll(S(t)).get(!0, e);
  }
  function ja(t, e) {
    if (
      rm.find(function (e) {
        return e.id === t;
      })
    )
      throw new Error(
        "Extra styles with the id '" + t + "' have already been added."
      );
    rm.push({ id: t, css: e }),
      this.css ||
        Object.defineProperty(this, "css", {
          configurable: !1,
          writable: !1,
          value: Ta,
        }),
      this._cssDef ||
        (Object.defineProperty(this, "_cssDef", {
          configurable: !0,
          writable: !1,
          value: { transform: !1, id: "Ractive.addStyle" },
        }),
        Si(this._cssDef)),
      Di(this),
      Ai(!0);
  }
  function Ta(t) {
    return rm
      .map(function (e) {
        return (
          "\n/* ---- extra style " +
          e.id +
          " */\n" +
          (u(e.css) ? e.css(t) : e.css)
        );
      })
      .join("");
  }
  function Va(t) {
    return !!rm.find(function (e) {
      return e.id === t;
    });
  }
  function Pa(t, e, n) {
    var i = o(t) ? e : n,
      r = Ll;
    return an(un({ viewmodel: r }, t, e, !0), i);
  }
  function Ma(t, e) {
    return Ll.joinAll(S(t)).get(!0, e);
  }
  function Ia() {
    for (var t = this, e = [], n = arguments.length; n--; ) e[n] = arguments[n];
    return (
      e.forEach(function (e) {
        u(e) && e({ proto: t.prototype, Ractive: t.Ractive, instance: t });
      }),
      this
    );
  }
  function Ra() {
    for (var t = [], e = arguments.length; e--; ) t[e] = arguments[e];
    return t.length ? t.reduce(Ka, this) : Ka(this);
  }
  function Ba(t, e) {
    return void 0 === e && (e = {}), Ka(this, e, t);
  }
  function Ka(t, e, i) {
    void 0 === e && (e = {});
    var r,
      s = u(i) && i;
    if (e.prototype instanceof Fa)
      throw new Error("Ractive no longer supports multiple inheritance.");
    if (s) {
      if (!(s.prototype instanceof t))
        throw new Error(
          "Only classes that inherit the appropriate prototype may be used with extend"
        );
      if (!sm.test(s.toString()))
        throw new Error(
          "Only classes that call super in their constructor may be used with extend"
        );
      r = s.prototype;
    } else
      (s = function (t) {
        return this instanceof s
          ? void (
              (t && t.component === !0) ||
              (Dr(this, t || {}), ha(this, t || {}, {}))
            )
          : new s(t);
      }),
        (r = $a(t.prototype)),
        (r.constructor = s),
        (s.prototype = r);
    if (
      (Ha(s, {
        defaults: { value: r },
        extend: { value: Ra, writable: !0, configurable: !0 },
        extendWith: { value: Ba, writable: !0, configurable: !0 },
        extensions: { value: [] },
        use: { value: Ia },
        isInstance: { value: Oa },
        Parent: { value: t },
        Ractive: { value: Fa },
        styleGet: { value: Na.bind(s), configurable: !0 },
        styleSet: { value: Ki.bind(s), configurable: !0 },
      }),
      bf.extend(t, r, e, s),
      (s._on = (t._on || []).concat(n(e.on))),
      (s._observe = (t._observe || []).concat(n(e.observe))),
      t.extensions.push(s),
      e.attributes)
    ) {
      var a;
      (a = Ga(e.attributes)
        ? { optional: e.attributes, required: [] }
        : e.attributes),
        Ga(a.required) || (a.required = []),
        Ga(a.optional) || (a.optional = []),
        (s.attributes = a);
    }
    return (
      ff.extend(t, r, e, s),
      qa(s, "helpers", { writable: !0, value: r.helpers }),
      Ga(e.use) && s.use.apply(s, e.use),
      s
    );
  }
  function La(t, e) {
    if (!u(t)) throw new Error("The macro must be a function");
    return (
      Ua(t, e),
      Ha(t, {
        extensions: { value: [] },
        _cssIds: { value: [] },
        cssData: { value: Ua($a(this.cssData), t.cssData || {}) },
        styleGet: { value: Na.bind(t) },
        styleSet: { value: Ki.bind(t) },
      }),
      qa(t, "_cssModel", { value: new hf(t) }),
      t.css && Ui(t, t, t),
      this.extensions.push(t),
      t
    );
  }
  function Da(t, e, n) {
    return w(e, n, t);
  }
  function Fa(t) {
    return this instanceof Fa
      ? void ((t && t.component) || (Dr(this, t || {}), ha(this, t || {}, {})))
      : new Fa(t);
  }
  Object.assign ||
    (Object.assign = function (t) {
      for (var e = [], n = arguments.length - 1; n-- > 0; )
        e[n] = arguments[n + 1];
      if (null == t)
        throw new TypeError("Cannot convert undefined or null to object");
      for (var i = Object(t), r = e.length, s = 0; r > s; s++) {
        var a = e[s];
        for (var o in a)
          Object.prototype.hasOwnProperty.call(a, o) && (i[o] = a[o]);
      }
      return i;
    });
  var za = Object,
    Ua = za.assign,
    $a = za.create,
    qa = za.defineProperty,
    Ha = za.defineProperties,
    Za = za.keys,
    Wa = Object.prototype.toString,
    Ga = Array.isArray;
  if (
    (Array.prototype.find ||
      qa(Array.prototype, "find", {
        value: function (e, n) {
          if (null === this || c(this))
            throw new TypeError(
              "Array.prototype.find called on null or undefined"
            );
          if (!u(e)) throw new TypeError(e + " is not a function");
          for (var i = Object(this), r = i.length >>> 0, s = 0; r > s; s++)
            if (t(i, s) && e.call(n, i[s], s, i)) return i[s];
          return void 0;
        },
        configurable: !0,
        writable: !0,
      }),
    "undefined" != typeof window &&
      window.Node &&
      window.Node.prototype &&
      !window.Node.prototype.contains &&
      (Node.prototype.contains = function (t) {
        var e = this;
        if (!t) throw new TypeError("node required");
        do if (e === t) return !0;
        while ((t = t && t.parentNode));
        return !1;
      }),
    "undefined" != typeof window &&
      window.performance &&
      !window.performance.now)
  ) {
    window.performance = window.performance || {};
    var Qa = Date.now();
    window.performance.now = function () {
      return Date.now() - Qa;
    };
  }
  var Ya = "undefined" != typeof window ? window : null,
    Ja = Ya ? document : null,
    Xa = !!Ja,
    to = "undefined" != typeof global ? global : Ya,
    eo =
      "undefined" != typeof console && u(console.warn) && u(console.warn.apply),
    no = Ja
      ? Ja.implementation.hasFeature(
          "http://www.w3.org/TR/SVG11/feature#BasicStructure",
          "1.1"
        )
      : !1,
    io = ["o", "ms", "moz", "webkit"];
  if (!to.Promise) {
    var ro = {},
      so = {},
      ao = {},
      oo = (to.Promise = function (t) {
        var e,
          n,
          i = [],
          r = [],
          s = ro,
          a = function (t) {
            return function (a) {
              s === ro &&
                ((e = a), (s = t), (n = ho(s === so ? i : r, e)), uo(n));
            };
          },
          o = a(so),
          h = a(ao);
        try {
          t(o, h);
        } catch (l) {
          h(l);
        }
        return {
          then: function (t, e) {
            var a = new oo(function (o, h) {
              var l = function (t, e, n) {
                u(t)
                  ? e.push(function (e) {
                      try {
                        lo(a, t(e), o, h);
                      } catch (n) {
                        h(n);
                      }
                    })
                  : e.push(n);
              };
              l(t, i, o), l(e, r, h), s !== ro && uo(n);
            });
            return a;
          },
          catch: function (t) {
            return this.then(null, t);
          },
          finally: function (t) {
            return this.then(
              function (e) {
                return t(), e;
              },
              function (e) {
                throw (t(), e);
              }
            );
          },
        };
      });
    (oo.all = function (t) {
      return new oo(function (e, n) {
        var i,
          r,
          s = [];
        if (!t.length) return void e(s);
        var a = function (t, r) {
          t && u(t.then)
            ? t.then(function (t) {
                (s[r] = t), --i || e(s);
              }, n)
            : ((s[r] = t), --i || e(s));
        };
        for (i = r = t.length; r--; ) a(t[r], r);
      });
    }),
      (oo.race = function (t) {
        return new oo(function (e, n) {
          function i(t) {
            s && ((s = !1), e(t));
          }
          function r(t) {
            s && ((s = !1), n(t));
          }
          for (var s = !0, a = 0; a < t.length; a++)
            t[a] && u(t[a].then) && t[a].then(i, r);
        });
      }),
      (oo.resolve = function (t) {
        return t && u(t.then)
          ? t
          : new oo(function (e) {
              e(t);
            });
      }),
      (oo.reject = function (t) {
        return t && u(t.then)
          ? t
          : new oo(function (e, n) {
              n(t);
            });
      });
    var uo = function (t) {
        setTimeout(t, 0);
      },
      ho = function (t, e) {
        return function () {
          for (var n = void 0; (n = t.shift()); ) n(e);
        };
      },
      lo = function (t, e, n, i) {
        var r;
        if (e === t)
          throw new TypeError(
            "A promise's fulfillment handler cannot return the same promise"
          );
        if (e instanceof oo) e.then(n, i);
        else if (e && (o(e) || u(e))) {
          try {
            r = e.then;
          } catch (s) {
            return void i(s);
          }
          if (u(r)) {
            var a,
              h = function (e) {
                a || ((a = !0), lo(t, e, n, i));
              },
              l = function (t) {
                a || ((a = !0), i(t));
              };
            try {
              r.call(e, h, l);
            } catch (s) {
              if (!a) return i(s), void (a = !0);
            }
          } else n(e);
        } else n(e);
      };
  }
  if (
    !(
      "undefined" == typeof window ||
      (window.requestAnimationFrame && window.cancelAnimationFrame)
    )
  ) {
    var co = 0;
    (window.requestAnimationFrame = function (t) {
      var e = Date.now(),
        n = Math.max(0, 16 - (e - co)),
        i = window.setTimeout(function () {
          t(e + n);
        }, n);
      return (co = e + n), i;
    }),
      (window.cancelAnimationFrame = function (t) {
        clearTimeout(t);
      });
  }
  var fo,
    po,
    mo,
    vo = {
      el: void 0,
      append: !1,
      delegate: !0,
      enhance: !1,
      template: null,
      allowExpressions: !0,
      delimiters: ["{{", "}}"],
      tripleDelimiters: ["{{{", "}}}"],
      staticDelimiters: ["[[", "]]"],
      staticTripleDelimiters: ["[[[", "]]]"],
      csp: !0,
      interpolate: !1,
      preserveWhitespace: !1,
      preserveStandaloneSections: !1,
      sanitize: !1,
      stripComments: !0,
      contextLines: 0,
      data: $a(null),
      helpers: $a(null),
      computed: $a(null),
      syncComputedChildren: !1,
      resolveInstanceMembers: !1,
      warnAboutAmbiguity: !1,
      adapt: [],
      isolated: !0,
      twoway: !0,
      lazy: !1,
      noIntro: !1,
      noOutro: !1,
      transitionsEnabled: !0,
      complete: void 0,
      nestedTransitions: !0,
      css: null,
      noCSSTransform: !1,
    },
    go = {
      linear: function (t) {
        return t;
      },
      easeIn: function (t) {
        return Math.pow(t, 3);
      },
      easeOut: function (t) {
        return Math.pow(t - 1, 3) + 1;
      },
      easeInOut: function (t) {
        return (t /= 0.5) < 1
          ? 0.5 * Math.pow(t, 3)
          : 0.5 * (Math.pow(t - 2, 3) + 2);
      },
    },
    yo = {};
  if (eo) {
    var bo = [
        "%cRactive.js %c1.4.0-edge %cin debug mode, %cmore...",
        "color: rgb(114, 157, 52); font-weight: normal;",
        "color: rgb(85, 85, 85); font-weight: normal;",
        "color: rgb(85, 85, 85); font-weight: normal;",
        "color: rgb(82, 140, 224); font-weight: normal; text-decoration: underline;",
      ],
      wo =
        "You're running Ractive 1.4.0-edge in debug mode - messages will be printed to the console to help you fix problems and optimise your application.\n\nTo disable debug mode, add this line at the start of your app:\n  Ractive.DEBUG = false;\n\nTo disable debug mode when your app is minified, add this snippet:\n  Ractive.DEBUG = /unminified/.test(function(){/*unminified*/});\n\nGet help and support:\n  http://ractive.js.org\n  http://stackoverflow.com/questions/tagged/ractivejs\n  http://groups.google.com/forum/#!forum/ractive-js\n  http://twitter.com/ractivejs\n\nFound a bug? Raise an issue:\n  https://github.com/ractivejs/ractive/issues\n\n";
    (mo = function () {
      if (Fa.WELCOME_MESSAGE === !1) return void (mo = f);
      var t = "WELCOME_MESSAGE" in Fa ? Fa.WELCOME_MESSAGE : wo,
        e = !!console.groupCollapsed;
      e && console.groupCollapsed.apply(console, bo),
        console.log(t),
        e && console.groupEnd(bo),
        (mo = f);
    }),
      (po = function (t, e) {
        if ((mo(), o(e[e.length - 1]))) {
          var n = e.pop(),
            i = n ? n.ractive : null;
          if (i) {
            var r;
            i.component && (r = i.component.name) && (t = "<" + r + "> " + t);
            var s;
            (s =
              n.node || (i.fragment && i.fragment.rendered && i.find("*"))) &&
              e.push(s);
          }
        }
        console.warn.apply(
          console,
          [
            "%cRactive.js: %c" + t,
            "color: rgb(114, 157, 52);",
            "color: rgb(85, 85, 85);",
          ].concat(e)
        );
      }),
      (fo = function () {
        console.log.apply(console, arguments);
      });
  } else po = fo = mo = f;
  var xo = "Bad arguments",
    ko = 'A function was specified for "%s" %s, but no %s was returned',
    _o = function (t, e) {
      return (
        'Missing "' +
        t +
        '" ' +
        e +
        " plugin. You may need to download a plugin via http://ractive.js.org/integrations/#" +
        e +
        "s"
      );
    },
    Eo = {
      number: function (t, e) {
        if (!r(t) || !r(e)) return null;
        (t = +t), (e = +e);
        var n = e - t;
        return n
          ? function (e) {
              return t + e * n;
            }
          : function () {
              return t;
            };
      },
      array: function (t, e) {
        var n, i;
        if (!Ga(t) || !Ga(e)) return null;
        var r = [],
          s = [];
        for (i = n = Math.min(t.length, e.length); i--; ) s[i] = k(t[i], e[i]);
        for (i = n; i < t.length; i += 1) r[i] = t[i];
        for (i = n; i < e.length; i += 1) r[i] = e[i];
        return function (t) {
          for (var e = n; e--; ) r[e] = s[e](t);
          return r;
        };
      },
      object: function (e, n) {
        if (!s(e) || !s(n)) return null;
        var i = [],
          r = {},
          a = {},
          o = function (s) {
            t(e, s) &&
              (t(n, s)
                ? (i.push(s),
                  (a[s] =
                    k(e[s], n[s]) ||
                    function () {
                      return n[s];
                    }))
                : (r[s] = e[s]));
          };
        for (var u in e) o(u);
        for (var h in n) t(n, h) && !t(e, h) && (r[h] = n[h]);
        var l = i.length;
        return function (t) {
          for (var e = l; e--; ) {
            var n = i[e];
            r[n] = a[n](t);
          }
          return r;
        };
      },
    },
    So = /\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g,
    Ao = /([^\\](?:\\\\)*)\./,
    Co = /\\|\./g,
    Oo = /((?:\\)+)\1|\\(\.)/g,
    No = Function.prototype.bind,
    jo = { early: [], mark: [] },
    To = { early: [], mark: [] },
    Vo = { virtual: !1 },
    Po = function (t) {
      (this.deps = []),
        (this.children = []),
        (this.childByKey = {}),
        (this.links = []),
        (this.bindings = []),
        t && ((this.parent = t), (this.root = t.root));
    },
    Mo = Po.prototype;
  (Mo.addShuffleTask = function (t, e) {
    void 0 === e && (e = "early"), jo[e].push(t);
  }),
    (Mo.addShuffleRegister = function (t, e) {
      void 0 === e && (e = "early"), To[e].push({ model: this, item: t });
    }),
    (Mo.downstreamChanged = function () {}),
    (Mo.findMatches = function (t) {
      var e,
        n,
        i = t.length,
        r = [this],
        s = function () {
          var i = t[n];
          "*" === i
            ? ((e = []),
              r.forEach(function (t) {
                e.push.apply(e, t.getValueChildren(t.get()));
              }))
            : (e = r.map(function (t) {
                return t.joinKey(i);
              })),
            (r = e);
        };
      for (n = 0; i > n; n += 1) s();
      return e;
    }),
    (Mo.getKeypath = function (t) {
      if (t !== this.ractive && this._link)
        return this._link.target.getKeypath(t);
      if (!this.keypath) {
        var e = this.parent && this.parent.getKeypath(t);
        this.keypath = e
          ? this.parent.getKeypath(t) + "." + _(this.key)
          : _(this.key);
      }
      return this.keypath;
    }),
    (Mo.getValueChildren = function (t) {
      var e,
        n = this;
      Ga(t)
        ? ((e = []),
          "length" in this &&
            this.length !== t.length &&
            e.push(this.joinKey("length")),
          t.forEach(function (t, i) {
            e.push(n.joinKey(i));
          }))
        : s(t) || u(t)
        ? (e = Za(t).map(function (t) {
            return n.joinKey(_(t));
          }))
        : null != t && (e = []);
      var i = this.computed;
      return (
        i &&
          e.push.apply(
            e,
            Za(i).map(function (t) {
              return n.joinKey(t);
            })
          ),
        e
      );
    }),
    (Mo.getVirtual = function (t) {
      var e = this,
        n = this.get(t, { virtual: !1 });
      if (a(n)) {
        for (var i = Ga(n) ? [] : $a(null), r = Za(n), s = r.length; s--; ) {
          var o = e.childByKey[r[s]];
          o
            ? o._link
              ? (i[r[s]] = o._link.getVirtual())
              : (i[r[s]] = o.getVirtual())
            : (i[r[s]] = n[r[s]]);
        }
        for (s = this.children.length; s--; ) {
          var u = e.children[s];
          u.key in i || !u._link || (i[u.key] = u._link.getVirtual());
        }
        if (this.computed)
          for (r = Za(this.computed), s = r.length; s--; )
            i[r[s]] = e.computed[r[s]].get();
        return i;
      }
      return n;
    }),
    (Mo.has = function (t) {
      var e = this;
      if (this._link) return this._link.has(t);
      var n = this.get(!1, Vo);
      if (!n) return !1;
      if (((t = A(t)), (u(n) || s(n)) && t in n)) return !0;
      var i = this.computed;
      return i && t in this.computed
        ? !0
        : ((i = this.root.ractive && this.root.ractive.computed),
          i &&
            Za(i).forEach(function (t) {
              return i[t].pattern && i[t].pattern.test(e.getKeypath())
                ? !0
                : void 0;
            }),
          !1);
    }),
    (Mo.joinAll = function (t, e) {
      for (var n = this, i = 0; i < t.length; i += 1) {
        if (
          e &&
          e.lastLink === !1 &&
          i + 1 === t.length &&
          n.childByKey[t[i]] &&
          n.childByKey[t[i]]._link
        )
          return n.childByKey[t[i]];
        n = n.joinKey(t[i], e);
      }
      return n;
    }),
    (Mo.notifyUpstream = function (t) {
      for (var e = this, n = this.parent, i = t || [this.key]; n; )
        n.patterns &&
          n.patterns.forEach(function (t) {
            return t.notify(i.slice());
          }),
          i.unshift(n.key),
          n.links.forEach(function (t) {
            return t.notifiedUpstream(i, e.root);
          }),
          n.deps.forEach(function (t) {
            return t.handleChange(i);
          }),
          n.downstreamChanged(t),
          (n = n.parent);
    }),
    (Mo.rebind = function (t, e, n) {
      var i = this;
      if ((this._link && this._link.rebind(t, e, !1), t !== this)) {
        for (var r = this.deps.length; r--; )
          i.deps[r].rebind && i.deps[r].rebind(t, e, n);
        for (r = this.links.length; r--; ) {
          var s = i.links[r];
          s.owner && s.owner._link && s.relinking(t, n);
        }
        for (r = this.children.length; r--; ) {
          var a = i.children[r];
          a.rebind(t ? t.joinKey(a.key) : void 0, a._link || a, n),
            i.dataModel &&
              i.addShuffleTask(function () {
                return U(i, i.retrieve());
              }, "early");
        }
        for (r = this.bindings.length; r--; ) i.bindings[r].rebind(t, e, n);
      }
    }),
    (Mo.reference = function () {
      "refs" in this ? this.refs++ : (this.refs = 1);
    }),
    (Mo.register = function (t) {
      this.deps.push(t);
    }),
    (Mo.registerLink = function (t) {
      C(this.links, t);
    }),
    (Mo.registerPatternObserver = function (t) {
      (this.patterns || (this.patterns = [])).push(t), this.register(t);
    }),
    (Mo.registerTwowayBinding = function (t) {
      this.bindings.push(t);
    }),
    (Mo.unreference = function () {
      "refs" in this && this.refs--;
    }),
    (Mo.unregister = function (t) {
      V(this.deps, t);
    }),
    (Mo.unregisterLink = function (t) {
      V(this.links, t);
    }),
    (Mo.unregisterPatternObserver = function (t) {
      V(this.patterns, t), this.unregister(t);
    }),
    (Mo.unregisterTwowayBinding = function (t) {
      V(this.bindings, t);
    }),
    (Mo.updateFromBindings = function (t) {
      for (var e = this, n = this.bindings.length; n--; ) {
        var i = e.bindings[n].getValue();
        i !== e.value && e.set(i);
      }
      if (!this.bindings.length) {
        var r = D(this.deps);
        r && r.value !== this.value && this.set(r.value);
      }
      t &&
        (this.children.forEach(L),
        this.links.forEach(L),
        this._link && this._link.updateFromBindings(t));
    });
  var Io,
    Ro = [],
    Bo = {
      key: "@missing",
      animate: f,
      applyValue: f,
      get: f,
      getKeypath: function () {
        return this.key;
      },
      joinAll: function () {
        return this;
      },
      joinKey: function () {
        return this;
      },
      mark: f,
      registerLink: f,
      shufle: f,
      set: f,
      unregisterLink: f,
    };
  Bo.parent = Bo;
  var Ko = (function (e) {
    function n(t, n, i, r) {
      e.call(this, t),
        (this.owner = n),
        (this.target = i),
        (this.key = c(r) ? n.key : r),
        n && n.isLink && (this.sourcePath = n.sourcePath + "." + this.key),
        i && i.registerLink(this),
        t && (this.isReadonly = t.isReadonly),
        (this.isLink = !0);
    }
    e && (n.__proto__ = e);
    var i = (n.prototype = Object.create(e && e.prototype));
    return (
      (i.constructor = n),
      (i.animate = function (t, e, n, i) {
        return this.target.animate(t, e, n, i);
      }),
      (i.applyValue = function (t) {
        this.boundValue && (this.boundValue = null), this.target.applyValue(t);
      }),
      (i.attach = function (t) {
        var e = Ye(t, this.key);
        e ? this.relinking(e, !1) : this.owner.unlink();
      }),
      (i.detach = function () {
        this.relinking(Bo, !1);
      }),
      (i.get = function (t, e) {
        void 0 === e && (e = {}),
          t && (H(this), (e.unwrap = "unwrap" in e ? e.unwrap : !0));
        var n = "shouldBind" in e ? e.shouldBind : !0;
        return (
          (e.shouldBind =
            this.mapping && this.target.parent && this.target.parent.isRoot),
          K(this, this.target.get(!1, e), n)
        );
      }),
      (i.getKeypath = function (t) {
        return t && t !== this.root.ractive
          ? this.target.getKeypath(t)
          : e.prototype.getKeypath.call(this, t);
      }),
      (i.handleChange = function () {
        this.deps.forEach(Q), this.links.forEach(Q), this.notifyUpstream();
      }),
      (i.isDetached = function () {
        return this.virtual && this.target === Bo;
      }),
      (i.joinKey = function (e) {
        if (c(e) || "" === e) return this;
        if (!t(this.childByKey, e)) {
          var i = new n(this, this, this.target.joinKey(e), e);
          this.children.push(i), (this.childByKey[e] = i);
        }
        return this.childByKey[e];
      }),
      (i.mark = function (t) {
        this.target.mark(t);
      }),
      (i.marked = function () {
        this.boundValue && (this.boundValue = null),
          this.links.forEach(X),
          this.deps.forEach(Q);
      }),
      (i.markedAll = function () {
        this.children.forEach(tt), this.marked();
      }),
      (i.notifiedUpstream = function (t, e) {
        var n = this;
        if (
          (this.links.forEach(function (e) {
            return e.notifiedUpstream(t, n.root);
          }),
          this.deps.forEach(Q),
          t && this.rootLink)
        ) {
          var i = this.parent;
          if (this.root !== e) {
            var r = t.slice(1);
            r.unshift(this.key), this.notifyUpstream(r);
          } else if (i && i !== this.target) {
            var s = [i.key, this.key];
            i.links.forEach(function (t) {
              return t.notifiedUpstream(s, i.root);
            }),
              i.deps.forEach(function (t) {
                return t.handleChange(s);
              }),
              i.notifyUpstream(s);
          }
        }
      }),
      (i.relinked = function () {
        this.target.registerLink(this),
          this.children.forEach(function (t) {
            return t.relinked();
          });
      }),
      (i.relinking = function (t, e) {
        var n = this;
        this.rootLink &&
          this.sourcePath &&
          (t = ht(this.sourcePath, t, this.target)),
          t &&
            this.target !== t &&
            (this.target && this.target.unregisterLink(this),
            (this.target = t),
            this.children.forEach(function (n) {
              n.relinking(t.joinKey(n.key), e);
            }),
            e || (this.keypath = void 0),
            this.rootLink &&
              this.addShuffleTask(function () {
                n.relinked(), e || (n.markedAll(), n.notifyUpstream());
              }));
      }),
      (i.set = function (t) {
        this.boundValue && (this.boundValue = null), this.target.set(t);
      }),
      (i.shuffle = function (t) {
        this.shuffling ||
          (this.target.shuffling
            ? z(this, t, !0)
            : this.target.shuffle
            ? this.target.shuffle(t)
            : this.target.mark());
      }),
      (i.source = function () {
        return this.target.source ? this.target.source() : this.target;
      }),
      (i.teardown = function () {
        this._link && this._link.teardown(),
          this.target.unregisterLink(this),
          this.children.forEach(it);
      }),
      n
    );
  })(Po);
  (Po.prototype.link = function (t, e, n) {
    var i = this._link || new Ko(this.parent, this, t, this.key);
    return (
      (i.implicit = n && n.implicit),
      (i.mapping = n && n.mapping),
      (i.sourcePath = e),
      (i.rootLink = !0),
      this._link && this._link.relinking(t, !1),
      this.rebind(i, this, !1),
      F(),
      (this._link = i),
      i.markedAll(),
      this.notifyUpstream(),
      i
    );
  }),
    (Po.prototype.unlink = function () {
      if (this._link) {
        var t = this._link;
        (this._link = void 0),
          t.rebind(this, t, !1),
          F(),
          t.teardown(),
          this.notifyUpstream();
      }
    });
  var Lo = $a(null),
    Do = 4,
    Fo = /^\s+/,
    zo = function (t) {
      (this.name = "ParseError"), (this.message = t);
      try {
        throw new Error(t);
      } catch (e) {
        this.stack = e.stack;
      }
    };
  zo.prototype = Error.prototype;
  var Uo = function (t, e) {
    var n,
      i = 0;
    (this.str = t),
      (this.options = e || {}),
      (this.pos = 0),
      (this.lines = this.str.split("\n")),
      (this.lineEnds = this.lines.map(function (t) {
        var e = i + t.length + 1;
        return (i = e), e;
      }, 0)),
      this.init && this.init(t, e);
    for (var r = []; this.pos < this.str.length && (n = this.read()); )
      r.push(n);
    (this.leftover = this.remaining()),
      (this.result = this.postProcess ? this.postProcess(r, e) : r);
  };
  (Uo.prototype = {
    read: function (t) {
      var e,
        n,
        i = this;
      t || (t = this.converters);
      var r = this.pos,
        s = t.length;
      for (e = 0; s > e; e += 1) if (((i.pos = r), (n = t[e](i)))) return n;
      return null;
    },
    getContextMessage: function (t, e) {
      var n = this.getLinePos(t),
        i = n[0],
        r = n[1];
      if (-1 === this.options.contextLines)
        return [i, r, e + " at line " + i + " character " + r];
      var s = this.lines[i - 1],
        a = "",
        o = "";
      if (this.options.contextLines) {
        var u =
          i - 1 - this.options.contextLines < 0
            ? 0
            : i - 1 - this.options.contextLines;
        (a = this.lines
          .slice(u, i - 1 - u)
          .join("\n")
          .replace(/\t/g, "  ")),
          (o = this.lines
            .slice(i, i + this.options.contextLines)
            .join("\n")
            .replace(/\t/g, "  ")),
          a && (a += "\n"),
          o && (o = "\n" + o);
      }
      var h = 0,
        l =
          a +
          s.replace(/\t/g, function (t, e) {
            return r > e && (h += 1), "  ";
          }) +
          "\n" +
          new Array(r + h).join(" ") +
          "^----" +
          o;
      return [i, r, e + " at line " + i + " character " + r + ":\n" + l];
    },
    getLinePos: function (t) {
      for (var e = this, n = 0, i = 0; t >= this.lineEnds[n]; )
        (i = e.lineEnds[n]), (n += 1);
      var r = t - i;
      return [n + 1, r + 1, t];
    },
    error: function um(t) {
      var e = this.getContextMessage(this.pos, t),
        n = e[0],
        i = e[1],
        r = e[2],
        um = new zo(r);
      throw ((um.line = n), (um.character = i), (um.shortMessage = t), um);
    },
    matchString: function (t) {
      return this.str.substr(this.pos, t.length) === t
        ? ((this.pos += t.length), t)
        : void 0;
    },
    matchPattern: function (t) {
      var e;
      return (e = t.exec(this.remaining()))
        ? ((this.pos += e[0].length), e[1] || e[0])
        : void 0;
    },
    sp: function () {
      this.matchPattern(Fo);
    },
    remaining: function () {
      return this.str.substring(this.pos);
    },
    nextChar: function () {
      return this.str.charAt(this.pos);
    },
    warn: function (t) {
      var e = this.getContextMessage(this.pos, t)[2];
      y(e);
    },
  }),
    (Uo.extend = function (e) {
      var n = this,
        i = function (t, e) {
          Uo.call(this, t, e);
        };
      i.prototype = $a(n.prototype);
      for (var r in e) t(e, r) && (i.prototype[r] = e[r]);
      return (i.extend = Uo.extend), i;
    });
  var $o,
    qo = 1,
    Ho = 2,
    Zo = 3,
    Wo = 4,
    Go = 5,
    Qo = 6,
    Yo = 7,
    Jo = 8,
    Xo = 9,
    tu = 10,
    eu = 11,
    nu = 13,
    iu = 14,
    ru = 15,
    su = 16,
    au = 17,
    ou = 18,
    uu = 19,
    hu = 55,
    lu = 20,
    cu = 21,
    fu = 22,
    du = 23,
    pu = 24,
    mu = 25,
    vu = 26,
    gu = 27,
    yu = 30,
    bu = 31,
    wu = 32,
    xu = 33,
    ku = 34,
    _u = 35,
    Eu = 36,
    Su = 40,
    Au = 50,
    Cu = 51,
    Ou = 52,
    Nu = 53,
    ju = 54,
    Tu = 60,
    Vu = 61,
    Pu = 62,
    Mu = 63,
    Iu = 70,
    Ru = 71,
    Bu = 72,
    Ku = 73,
    Lu = 74,
    Du = /^[^\s=]+/,
    Fu = /^\s+/,
    zu =
      /^(\/(?:[^\n\r\u2028\u2029/\\[]|\\.|\[(?:[^\n\r\u2028\u2029\]\\]|\\.)*])+\/(?:([gimuy])(?![a-z]*\2))*(?![a-zA-Z_$0-9]))/,
    Uu = /[-/\\^$*+?.()|[\]{}]/g,
    $u = {},
    qu = {
      allowfullscreen: 1,
      async: 1,
      autofocus: 1,
      autoplay: 1,
      checked: 1,
      compact: 1,
      controls: 1,
      declare: 1,
      default: 1,
      defaultchecked: 1,
      defaultmuted: 1,
      defaultselected: 1,
      defer: 1,
      disabled: 1,
      enabled: 1,
      formnovalidate: 1,
      hidden: 1,
      indeterminate: 1,
      inert: 1,
      ismap: 1,
      itemscope: 1,
      loop: 1,
      multiple: 1,
      muted: 1,
      nohref: 1,
      noresize: 1,
      noshade: 1,
      novalidate: 1,
      nowrap: 1,
      open: 1,
      pauseonexit: 1,
      readonly: 1,
      required: 1,
      reversed: 1,
      scoped: 1,
      seamless: 1,
      selected: 1,
      sortable: 1,
      translate: 1,
      truespeed: 1,
      typemustmatch: 1,
      visible: 1,
    },
    Hu = {
      area: 1,
      base: 1,
      br: 1,
      col: 1,
      command: 1,
      doctype: 1,
      embed: 1,
      hr: 1,
      img: 1,
      input: 1,
      keygen: 1,
      link: 1,
      meta: 1,
      param: 1,
      source: 1,
      track: 1,
      wbr: 1,
    },
    Zu = {
      quot: 34,
      amp: 38,
      apos: 39,
      lt: 60,
      gt: 62,
      nbsp: 160,
      iexcl: 161,
      cent: 162,
      pound: 163,
      curren: 164,
      yen: 165,
      brvbar: 166,
      sect: 167,
      uml: 168,
      copy: 169,
      ordf: 170,
      laquo: 171,
      not: 172,
      shy: 173,
      reg: 174,
      macr: 175,
      deg: 176,
      plusmn: 177,
      sup2: 178,
      sup3: 179,
      acute: 180,
      micro: 181,
      para: 182,
      middot: 183,
      cedil: 184,
      sup1: 185,
      ordm: 186,
      raquo: 187,
      frac14: 188,
      frac12: 189,
      frac34: 190,
      iquest: 191,
      Agrave: 192,
      Aacute: 193,
      Acirc: 194,
      Atilde: 195,
      Auml: 196,
      Aring: 197,
      AElig: 198,
      Ccedil: 199,
      Egrave: 200,
      Eacute: 201,
      Ecirc: 202,
      Euml: 203,
      Igrave: 204,
      Iacute: 205,
      Icirc: 206,
      Iuml: 207,
      ETH: 208,
      Ntilde: 209,
      Ograve: 210,
      Oacute: 211,
      Ocirc: 212,
      Otilde: 213,
      Ouml: 214,
      times: 215,
      Oslash: 216,
      Ugrave: 217,
      Uacute: 218,
      Ucirc: 219,
      Uuml: 220,
      Yacute: 221,
      THORN: 222,
      szlig: 223,
      agrave: 224,
      aacute: 225,
      acirc: 226,
      atilde: 227,
      auml: 228,
      aring: 229,
      aelig: 230,
      ccedil: 231,
      egrave: 232,
      eacute: 233,
      ecirc: 234,
      euml: 235,
      igrave: 236,
      iacute: 237,
      icirc: 238,
      iuml: 239,
      eth: 240,
      ntilde: 241,
      ograve: 242,
      oacute: 243,
      ocirc: 244,
      otilde: 245,
      ouml: 246,
      divide: 247,
      oslash: 248,
      ugrave: 249,
      uacute: 250,
      ucirc: 251,
      uuml: 252,
      yacute: 253,
      thorn: 254,
      yuml: 255,
      OElig: 338,
      oelig: 339,
      Scaron: 352,
      scaron: 353,
      Yuml: 376,
      fnof: 402,
      circ: 710,
      tilde: 732,
      Alpha: 913,
      Beta: 914,
      Gamma: 915,
      Delta: 916,
      Epsilon: 917,
      Zeta: 918,
      Eta: 919,
      Theta: 920,
      Iota: 921,
      Kappa: 922,
      Lambda: 923,
      Mu: 924,
      Nu: 925,
      Xi: 926,
      Omicron: 927,
      Pi: 928,
      Rho: 929,
      Sigma: 931,
      Tau: 932,
      Upsilon: 933,
      Phi: 934,
      Chi: 935,
      Psi: 936,
      Omega: 937,
      alpha: 945,
      beta: 946,
      gamma: 947,
      delta: 948,
      epsilon: 949,
      zeta: 950,
      eta: 951,
      theta: 952,
      iota: 953,
      kappa: 954,
      lambda: 955,
      mu: 956,
      nu: 957,
      xi: 958,
      omicron: 959,
      pi: 960,
      rho: 961,
      sigmaf: 962,
      sigma: 963,
      tau: 964,
      upsilon: 965,
      phi: 966,
      chi: 967,
      psi: 968,
      omega: 969,
      thetasym: 977,
      upsih: 978,
      piv: 982,
      ensp: 8194,
      emsp: 8195,
      thinsp: 8201,
      zwnj: 8204,
      zwj: 8205,
      lrm: 8206,
      rlm: 8207,
      ndash: 8211,
      mdash: 8212,
      lsquo: 8216,
      rsquo: 8217,
      sbquo: 8218,
      ldquo: 8220,
      rdquo: 8221,
      bdquo: 8222,
      dagger: 8224,
      Dagger: 8225,
      bull: 8226,
      hellip: 8230,
      permil: 8240,
      prime: 8242,
      Prime: 8243,
      lsaquo: 8249,
      rsaquo: 8250,
      oline: 8254,
      frasl: 8260,
      euro: 8364,
      image: 8465,
      weierp: 8472,
      real: 8476,
      trade: 8482,
      alefsym: 8501,
      larr: 8592,
      uarr: 8593,
      rarr: 8594,
      darr: 8595,
      harr: 8596,
      crarr: 8629,
      lArr: 8656,
      uArr: 8657,
      rArr: 8658,
      dArr: 8659,
      hArr: 8660,
      forall: 8704,
      part: 8706,
      exist: 8707,
      empty: 8709,
      nabla: 8711,
      isin: 8712,
      notin: 8713,
      ni: 8715,
      prod: 8719,
      sum: 8721,
      minus: 8722,
      lowast: 8727,
      radic: 8730,
      prop: 8733,
      infin: 8734,
      ang: 8736,
      and: 8743,
      or: 8744,
      cap: 8745,
      cup: 8746,
      int: 8747,
      there4: 8756,
      sim: 8764,
      cong: 8773,
      asymp: 8776,
      ne: 8800,
      equiv: 8801,
      le: 8804,
      ge: 8805,
      sub: 8834,
      sup: 8835,
      nsub: 8836,
      sube: 8838,
      supe: 8839,
      oplus: 8853,
      otimes: 8855,
      perp: 8869,
      sdot: 8901,
      lceil: 8968,
      rceil: 8969,
      lfloor: 8970,
      rfloor: 8971,
      lang: 9001,
      rang: 9002,
      loz: 9674,
      spades: 9824,
      clubs: 9827,
      hearts: 9829,
      diams: 9830,
    },
    Wu = [
      8364, 129, 8218, 402, 8222, 8230, 8224, 8225, 710, 8240, 352, 8249, 338,
      141, 381, 143, 144, 8216, 8217, 8220, 8221, 8226, 8211, 8212, 732, 8482,
      353, 8250, 339, 157, 382, 376,
    ],
    Gu = new RegExp("&(#?(?:x[\\w\\d]+|\\d+|" + Za(Zu).join("|") + "));?", "g"),
    Qu = u(String.fromCodePoint),
    Yu = Qu ? String.fromCodePoint : String.fromCharCode,
    Ju = /</g,
    Xu = />/g,
    th = /&/g,
    eh = 65533,
    nh = "Expected a JavaScript expression",
    ih = "Expected closing paren",
    rh =
      /^(?:[+-]?)0*(?:(?:(?:[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,
    sh = /^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/,
    ah =
      /^\\(?:[`'"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/,
    oh = /^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/,
    uh = _t('"'),
    hh = _t("'"),
    lh = /^[^`"\\\$]+?(?:(?=[`"\\\$]))/,
    ch = /[\r\n\t\b\f]/g,
    fh = /^[a-zA-Z_$][a-zA-Z_$0-9]*/,
    dh = /^\s*\.{3}/,
    ph =
      /^(?:[a-zA-Z$_0-9]|\\\.)+(?:(?:\.(?:[a-zA-Z$_0-9]|\\\.)+)|(?:\[[0-9]+\]))*/,
    mh = /^[a-zA-Z_$][-\/a-zA-Z_$0-9]*(?:\.(?:[a-zA-Z_$][-\/a-zA-Z_$0-9]*))*/,
    vh = /^[a-zA-Z_$][a-zA-Z_$0-9]*$/,
    gh =
      /^(?:Array|console|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null|Object|Number|String|Boolean)\b/,
    yh =
      /^(?:break|case|catch|continue|debugger|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|var|void|while|with)$/,
    bh =
      /^(?:\@\.|\@|~\/|(?:\^\^\/(?:\^\^\/)*(?:\.\.\/)*)|(?:\.\.\/)+|\.\/(?:\.\.\/)*|\.)/,
    wh =
      /^(key|index|keypath|rootpath|this|global|shared|context|event|node|local|style|helpers|last|macro)/,
    xh = function (t, e) {
      return function (n) {
        var i;
        return (i = e(n))
          ? i
          : n.matchString(t)
          ? (n.sp(), (i = Dt(n)), i || n.error(nh), { s: t, o: i, t: xu })
          : null;
      };
    };
  !(function () {
    var t,
      e,
      n,
      i,
      r = "! ~ + - typeof".split(" ");
    for (i = Kt, t = 0, e = r.length; e > t; t += 1) (n = xh(r[t], i)), (i = n);
    $o = i;
  })();
  var kh,
    _h = $o,
    Eh = function (t, e) {
      return function (n) {
        if (n.inUnquotedAttribute && (">" === t || "/" === t)) return e(n);
        var i, r, s;
        if (((r = e(n)), !r)) return null;
        for (;;) {
          if (((i = n.pos), n.sp(), !n.matchString(t))) return (n.pos = i), r;
          if ("in" === t && /[a-zA-Z_$0-9]/.test(n.remaining().charAt(0)))
            return (n.pos = i), r;
          if ((n.sp(), (s = e(n)), !s)) return (n.pos = i), r;
          r = { t: Eu, s: t, o: [r, s] };
        }
      };
    };
  !(function () {
    var t,
      e,
      n,
      i,
      r =
        "* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(
          " "
        );
    for (i = _h, t = 0, e = r.length; e > t; t += 1) (n = Eh(r[t], i)), (i = n);
    kh = i;
  })();
  var Sh = kh,
    Ah = /^[^\s"'>\/=(]+/,
    Ch = /^on/,
    Oh = /^on-([a-zA-Z\*\.$_]((?:[a-zA-Z\*\.$_0-9\-]|\\-)+))$/,
    Nh =
      /^(?:change|reset|teardown|update|construct|config|init|render|complete|unrender|detach|insert|destruct|attachchild|detachchild)$/,
    jh = /^as-([a-z-A-Z][-a-zA-Z_0-9]*)$/,
    Th = /^([a-zA-Z](?:(?!-in-out)[-a-zA-Z_0-9])*)-(in|out|in-out)$/,
    Vh = /^((bind|class)-(([-a-zA-Z0-9_])+))$/,
    Ph = {
      lazy: { t: Ku, v: "l" },
      twoway: { t: Ku, v: "t" },
      "no-delegation": { t: Lu },
    },
    Mh = /^[^\s"'=<>\/`]+/,
    Ih = /^[^\s"'=<>@\[\]()]*/,
    Rh = /^\s+/,
    Bh = /\\/g,
    Kh = { t: tu, exclude: !0 },
    Lh =
      /^(?:[a-zA-Z$_0-9]|\\\.)+(?:(?:(?:[a-zA-Z$_0-9]|\\\.)+)|(?:\[[0-9]+\]))*/,
    Dh = /^as/i,
    Fh = {
      else: /^\s*else\s*/,
      elseif: /^\s*elseif\s+/,
      then: /^\s*then\s*/,
      catch: /^\s*catch\s*/,
    },
    zh = { else: Tu, elseif: Vu, then: Pu, catch: Mu },
    Uh = { each: Ou, if: Au, with: ju, unless: Cu },
    $h = /^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,
    qh = /^\s*,\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,
    Hh = new RegExp("^(" + Za(Uh).join("|") + ")\\b"),
    Zh = "<!--",
    Wh = "-->",
    Gh = /^[ \t\f\r\n]*\r?\n/,
    Qh = /\r?\n[ \t\f\r\n]*$/,
    Yh = /[ \t\f\r\n]+/g,
    Jh = /^[ \t\f\r\n]+/,
    Xh = /[ \t\f\r\n]+$/,
    tl = /^(?:\r\n|\r|\n)/,
    el = /(?:\r\n|\r|\n)$/,
    nl = /(\n)?[ \t]*$/,
    il = /[ \t]*\n/,
    rl = /^([a-zA-Z]{1,}:?[a-zA-Z0-9\-]*)\s*\>/,
    sl = /^[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/,
    al = /^[a-zA-Z_$][-a-zA-Z0-9_$]*/,
    ol = /^[\s\n\/>]/,
    ul = /;\s*$/,
    hl = { exclude: !0 },
    ll = {
      li: ["li"],
      dt: ["dt", "dd"],
      dd: ["dt", "dd"],
      p: "address article aside blockquote div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr main menu nav ol p pre section table ul".split(
        " "
      ),
      rt: ["rt", "rp"],
      rp: ["rt", "rp"],
      optgroup: ["optgroup"],
      option: ["option", "optgroup"],
      thead: ["tbody", "tfoot"],
      tbody: ["tbody", "tfoot"],
      tfoot: ["tbody"],
      tr: ["tr", "tbody"],
      td: ["td", "th", "tr"],
      th: ["td", "th", "tr"],
    },
    cl = /^\s*(elseif|else|then|catch)\s*/,
    fl = /^\s*#\s*partial\s+/,
    dl = {},
    pl = [le, oe, me, fe, ce],
    ml = [ae],
    vl = [re, ve, Ee, Oe],
    gl = [Ne],
    yl = { pre: 1, script: 1, style: 1, textarea: 1 },
    bl = { textarea: !0, script: !0, style: !0, template: !0 },
    wl = Uo.extend({
      init: function (t, e) {
        var n = e.tripleDelimiters || dl.defaults.tripleDelimiters,
          i = e.staticDelimiters || dl.defaults.staticDelimiters,
          r = e.staticTripleDelimiters || dl.defaults.staticTripleDelimiters;
        (this.standardDelimiters = e.delimiters || dl.defaults.delimiters),
          (this.tags = [
            {
              isStatic: !1,
              isTriple: !1,
              open: this.standardDelimiters[0],
              close: this.standardDelimiters[1],
              readers: pl,
            },
            {
              isStatic: !1,
              isTriple: !0,
              open: n[0],
              close: n[1],
              readers: ml,
            },
            {
              isStatic: !0,
              isTriple: !1,
              open: i[0],
              close: i[1],
              readers: pl,
            },
            {
              isStatic: !0,
              isTriple: !0,
              open: r[0],
              close: r[1],
              readers: ml,
            },
          ]),
          (this.contextLines = e.contextLines || dl.defaults.contextLines),
          this.sortMustacheTags(),
          (this.sectionDepth = 0),
          (this.elementStack = []),
          (this.interpolate = Ua(
            {},
            bl,
            dl.defaults.interpolate,
            e.interpolate
          )),
          e.sanitize === !0 &&
            (e.sanitize = {
              elements:
                "applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(
                  " "
                ),
              eventAttributes: !0,
            }),
          (this.stripComments = e.stripComments !== !1),
          (this.preserveWhitespace = o(e.preserveWhitespace)
            ? !1
            : e.preserveWhitespace),
          (this.sanitizeElements = e.sanitize && e.sanitize.elements),
          (this.sanitizeEventAttributes =
            e.sanitize && e.sanitize.eventAttributes),
          (this.includeLinePositions = e.includeLinePositions),
          (this.textOnlyMode = e.textOnlyMode),
          (this.csp = e.csp),
          (this.allowExpressions = e.allowExpressions),
          (this.preserveStandaloneSections =
            this.preserveWhitespace && e.preserveStandaloneSections),
          e.expression && (this.converters = [Dt]),
          e.attributes && (this.inTag = !0),
          (this.whiteSpaceElements = Ua({}, e.preserveWhitespace, yl));
      },
      postProcess: function (t, e) {
        var n = t[0];
        if (e.expression) {
          var i = Ut(n);
          return (i.e = ct(i.s, i.r.length)), i;
        }
        if (!t.length) return { t: [], v: Do };
        if (
          (this.sectionDepth > 0 && this.error("A section was left open"),
          xe(
            n.t,
            this.stripComments,
            this.preserveWhitespace,
            !this.preserveWhitespace,
            !this.preserveWhitespace,
            this.whiteSpaceElements,
            this.preserveStandaloneSections
          ),
          this.csp !== !1)
        ) {
          var r = {};
          Te(n.t, r), Te(n.p || {}, r), Za(r).length && (n.e = r);
        }
        return n;
      },
      converters: [je],
      sortMustacheTags: function () {
        this.tags.sort(function (t, e) {
          return e.open.length - t.open.length;
        });
      },
    }),
    xl = [
      "delimiters",
      "tripleDelimiters",
      "staticDelimiters",
      "staticTripleDelimiters",
      "csp",
      "interpolate",
      "preserveWhitespace",
      "preserveStandaloneSections",
      "sanitize",
      "stripComments",
      "contextLines",
      "allowExpressions",
      "attributes",
    ],
    kl =
      "Either preparse or use a ractive runtime source that includes the parser. ",
    _l =
      "Either include a version of Ractive that can parse or convert your computation strings to functions.",
    El = {
      fromId: function (t, e) {
        if (!Ja) {
          if (e && e.noThrow) return;
          throw new Error(
            "Cannot retrieve template #" +
              t +
              " as Ractive is not running in a browser."
          );
        }
        t && (t = t.replace(/^#/, ""));
        var n;
        if (!(n = Ja.getElementById(t))) {
          if (e && e.noThrow) return;
          throw new Error("Could not find template element with id #" + t);
        }
        if ("SCRIPT" !== n.tagName.toUpperCase()) {
          if (e && e.noThrow) return;
          throw new Error(
            "Template element with id #" + t + ", must be a <script> element"
          );
        }
        return "textContent" in n ? n.textContent : n.innerHTML;
      },
      isParsed: function (t) {
        return !h(t);
      },
      getParseOptions: function (t) {
        return (
          t.defaults && (t = t.defaults),
          xl.reduce(function (e, n) {
            return (e[n] = t[n]), e;
          }, {})
        );
      },
      parse: function (t, e) {
        Re(Ie, "template", kl);
        var n = Ie(t, e);
        return dt(n), n;
      },
      parseFor: function (t, e) {
        return this.parse(t, this.getParseOptions(e));
      },
    },
    Sl = 0,
    Al = function (t, e) {
      (this.callback = t),
        (this.parent = e),
        (this.intros = []),
        (this.outros = []),
        (this.children = []),
        (this.totalChildren = this.outroChildren = 0),
        (this.detachQueue = []),
        (this.outrosComplete = !1),
        (this.id = Sl++),
        e && e.addChild(this);
    },
    Cl = Al.prototype;
  (Cl.add = function (t) {
    var e = t.isIntro ? this.intros : this.outros;
    (t.starting = !0), e.push(t);
  }),
    (Cl.addChild = function (t) {
      this.children.push(t),
        (this.totalChildren += 1),
        (this.outroChildren += 1);
    }),
    (Cl.checkStart = function () {
      this.parent && this.parent.started && this.start();
    }),
    (Cl.decrementOutros = function () {
      (this.outroChildren -= 1), De(this);
    }),
    (Cl.decrementTotal = function () {
      (this.totalChildren -= 1), De(this);
    }),
    (Cl.detachNodes = function () {
      for (var t = this, e = this.detachQueue.length, n = 0; e > n; n++)
        t.detachQueue[n].detach();
      e = this.children.length;
      for (var i = 0; e > i; i++) t.children[i].detachNodes();
      this.detachQueue = [];
    }),
    (Cl.ready = function () {
      this.detachQueue.length && ze(this);
    }),
    (Cl.remove = function (t) {
      var e = t.isIntro ? this.intros : this.outros;
      V(e, t), De(this);
    }),
    (Cl.start = function () {
      (this.started = !0),
        this.children.forEach(function (t) {
          return t.start();
        }),
        this.intros.concat(this.outros).forEach(function (t) {
          return t.start();
        }),
        De(this);
    });
  var Ol,
    Nl = {
      active: function () {
        return !!Ol;
      },
      start: function () {
        var t,
          e = new Promise(function (e) {
            return (t = e);
          });
        return (
          (Ol = {
            previousBatch: Ol,
            transitionManager: new Al(t, Ol && Ol.transitionManager),
            fragments: [],
            tasks: [],
            immediateObservers: [],
            deferredObservers: [],
            promise: e,
          }),
          e
        );
      },
      end: function () {
        qe(),
          Ol.previousBatch
            ? Ol.transitionManager.checkStart()
            : Ol.transitionManager.start(),
          (Ol = Ol.previousBatch);
      },
      addFragment: function (t) {
        C(Ol.fragments, t);
      },
      addFragmentToRoot: function (t) {
        if (Ol) {
          for (var e = Ol; e.previousBatch; ) e = e.previousBatch;
          C(e.fragments, t);
        }
      },
      addObserver: function (t, e) {
        Ol
          ? C(e ? Ol.deferredObservers : Ol.immediateObservers, t)
          : t.dispatch();
      },
      registerTransition: function (t) {
        (t._manager = Ol.transitionManager), Ol.transitionManager.add(t);
      },
      detachWhenReady: function (t) {
        Ol.transitionManager.detachQueue.push(t);
      },
      scheduleTask: function (t, e) {
        var n;
        if (Ol) {
          for (n = Ol; e && n.previousBatch; ) n = n.previousBatch;
          n.tasks.push(t);
        } else t();
      },
      promise: function () {
        if (!Ol) return Promise.resolve();
        for (var t = Ol; t.previousBatch; ) t = t.previousBatch;
        return t.promise || Promise.resolve();
      },
    },
    jl = [],
    Tl = !1,
    Vl = function (t) {
      (this.duration = t.duration),
        (this.step = t.step),
        (this.complete = t.complete),
        (this.easing = t.easing),
        (this.start = performance.now()),
        (this.end = this.start + this.duration),
        (this.running = !0),
        jl.push(this),
        Tl || requestAnimationFrame(He);
    },
    Pl = Vl.prototype;
  (Pl.tick = function (t) {
    if (!this.running) return !1;
    if (t > this.end)
      return this.step && this.step(1), this.complete && this.complete(1), !1;
    var e = t - this.start,
      n = this.easing(e / this.duration);
    return this.step && this.step(n), !0;
  }),
    (Pl.stop = function () {
      this.abort && this.abort(), (this.running = !1);
    });
  var Ml = {},
    Il = {},
    Rl = (function (e) {
      function n(t, n) {
        e.call(this, t),
          (this.ticker = null),
          t &&
            ((this.key = A(n)),
            (this.isReadonly = t.isReadonly),
            t.value &&
              ((this.value = t.value[this.key]),
              Ga(this.value) && (this.length = this.value.length),
              this.adapt()));
      }
      e && (n.__proto__ = e);
      var s = (n.prototype = Object.create(e && e.prototype));
      return (
        (s.constructor = n),
        (s.adapt = function () {
          var t = this,
            e = this.root.adaptors,
            n = e.length;
          if (((this.rewrap = !1), 0 !== n)) {
            var i = this.wrapper
                ? "newWrapperValue" in this
                  ? this.newWrapperValue
                  : this.wrapperValue
                : this.value,
              r = this.root.ractive,
              s = this.getKeypath();
            if (this.wrapper) {
              var a =
                this.wrapperValue === i
                  ? !1
                  : !this.wrapper.reset || this.wrapper.reset(i) === !1;
              if (!a)
                return (
                  delete this.newWrapperValue,
                  void (this.value = this.wrapper.get())
                );
              if (
                (this.wrapper.teardown(),
                delete this.wrapper,
                delete this.wrapperValue,
                delete this.newWrapperValue,
                void 0 !== this.value)
              ) {
                var o = this.parent.value || this.parent.createBranch(this.key);
                o[this.key] !== i && (o[this.key] = i), (this.value = i);
              }
            }
            var u;
            for (u = 0; n > u; u += 1) {
              var h = e[u];
              if (h.filter(i, s, r)) {
                (t.wrapper = h.wrap(r, i, s, We(s))),
                  (t.wrapperValue = i),
                  (t.wrapper.__model = t),
                  (t.value = t.wrapper.get());
                break;
              }
            }
          }
        }),
        (s.animate = function (t, e, n, i) {
          var r = this;
          this.ticker && this.ticker.stop();
          var s,
            a = new Promise(function (t) {
              return (s = t);
            });
          return (
            (this.ticker = new Vl({
              duration: n.duration,
              easing: n.easing,
              step: function (t) {
                var e = i(t);
                r.applyValue(e), n.step && n.step(t, e);
              },
              complete: function () {
                r.applyValue(e),
                  n.complete && n.complete(e),
                  (r.ticker = null),
                  s(e);
              },
            })),
            (a.stop = this.ticker.stop),
            a
          );
        }),
        (s.applyValue = function (t, e) {
          if ((void 0 === e && (e = !0), !i(t, this.value))) {
            if (
              (this.boundValue && (this.boundValue = null),
              this.parent.wrapper && this.parent.wrapper.set)
            )
              this.parent.wrapper.set(this.key, t),
                (this.parent.value = this.parent.wrapper.get()),
                (this.value = this.parent.value[this.key]),
                this.wrapper && (this.newWrapperValue = this.value),
                this.adapt();
            else if (this.wrapper) (this.newWrapperValue = t), this.adapt();
            else {
              var n = this.parent.value || this.parent.createBranch(this.key);
              if (!a(n))
                return void y(
                  "Attempted to set a property of a non-object '" +
                    this.getKeypath() +
                    "'"
                );
              (n[this.key] = t), (this.value = t), this.adapt();
            }
            (this.dataModel || (t && t.viewmodel && t.viewmodel.isRoot)) &&
              U(this, t),
              Ga(t)
                ? ((this.length = t.length), (this.isArray = !0))
                : (this.isArray = !1),
              this.links.forEach(Q),
              this.children.forEach(Y),
              this.deps.forEach(Q),
              e && this.notifyUpstream(),
              this.parent.isArray &&
                ("length" === this.key
                  ? (this.parent.length = t)
                  : this.parent.joinKey("length").mark());
          }
        }),
        (s.compute = function (t, e) {
          var n = this.computed || (this.computed = {});
          return (
            n[t]
              ? ((n[t].signature = Le(this.root.ractive, t, e)), n[t].mark())
              : (n[t] = new Il.Computation(
                  this,
                  Le(this.root.ractive, t, e),
                  t
                )),
            n[t]
          );
        }),
        (s.createBranch = function (t) {
          var e = r(t) ? [] : {};
          return this.applyValue(e, !1), e;
        }),
        (s.get = function (t, e) {
          return this._link
            ? this._link.get(t, e)
            : (t && H(this),
              e && e.virtual
                ? this.getVirtual(!1)
                : K(
                    this,
                    (e && "unwrap" in e ? e.unwrap !== !1 : t) && this.wrapper
                      ? this.wrapperValue
                      : this.value,
                    !e || e.shouldBind !== !1
                  ));
        }),
        (s.joinKey = function (e, i) {
          var r = this;
          if (this._link)
            return i && i.lastLink !== !1 && (c(e) || "" === e)
              ? this
              : this._link.joinKey(e);
          if (c(e) || "" === e) return this;
          var s;
          if (
            ((s = t(this.childByKey, e)
              ? this.childByKey[e]
              : this.computed && this.computed[e]),
            !s)
          ) {
            var a;
            if (this.isRoot && this.ractive && (a = this.ractive.computed[e]))
              s = this.compute(e, a);
            else if (!this.isRoot && this.root.ractive) {
              var o = this.root.ractive.computed;
              for (var u in o)
                (a = o[u]),
                  a.pattern &&
                    a.pattern.test(r.getKeypath() + "." + e) &&
                    (s = r.compute(e, a));
            }
          }
          if (
            !s &&
            ((s = new n(this, e)),
            this.children.push(s),
            (this.childByKey[e] = s),
            "data" === e)
          ) {
            var h = this.retrieve();
            h &&
              h.viewmodel &&
              h.viewmodel.isRoot &&
              (s.link(h.viewmodel, "data"), (this.dataModel = h));
          }
          return !s._link || (i && i.lastLink === !1) ? s : s._link;
        }),
        (s.mark = function (t) {
          if (this._link) return this._link.mark(t);
          var e = this.value,
            n = this.retrieve();
          (this.dataModel || (n && n.viewmodel && n.viewmodel.isRoot)) &&
            U(this, n),
            (t || !i(n, e)) &&
              ((this.value = n),
              this.boundValue && (this.boundValue = null),
              (e !== n || this.rewrap) &&
                (this.wrapper && (this.newWrapperValue = n), this.adapt()),
              Ga(n)
                ? ((this.length = n.length), (this.isArray = !0))
                : (this.isArray = !1),
              this.children.forEach(t ? J : Y),
              this.links.forEach(X),
              this.deps.forEach(Q));
        }),
        (s.merge = function (t, e) {
          var n = R(this.value === t ? Ge(this) : this.value, t, e);
          (this.parent.value[this.key] = t), this.shuffle(n, !0);
        }),
        (s.retrieve = function () {
          return this.parent.value ? this.parent.value[this.key] : void 0;
        }),
        (s.set = function (t) {
          this.ticker && this.ticker.stop(), this.applyValue(t);
        }),
        (s.shuffle = function (t, e) {
          z(this, t, !1, e);
        }),
        (s.source = function () {
          return this;
        }),
        (s.teardown = function () {
          var t = this;
          this._link && (this._link.teardown(), (this._link = null)),
            this.children.forEach(it),
            this.wrapper && this.wrapper.teardown(),
            this.computed &&
              Za(this.computed).forEach(function (e) {
                return t.computed[e].teardown();
              });
        }),
        n
      );
    })(Po),
    Bl = {},
    Kl = (function (t) {
      function e(e, n, i) {
        t.call(this, null, "@" + n),
          (this.key = "@" + n),
          (this.value = e),
          (this.isRoot = !0),
          (this.root = this),
          (this.adaptors = []),
          (this.ractive = i);
      }
      t && (e.__proto__ = t);
      var n = (e.prototype = Object.create(t && t.prototype));
      return (
        (n.constructor = e),
        (n.getKeypath = function () {
          return this.key;
        }),
        (n.retrieve = function () {
          return this.value;
        }),
        e
      );
    })(Rl),
    Ll = new Kl(Bl, "shared"),
    Dl = new Kl(to, "global"),
    Fl = {},
    zl = function (t) {
      this.ractive = t;
    };
  zl.prototype.findContext = function () {
    return this.ractive.viewmodel;
  };
  var Ul = zl.prototype;
  (Ul.getContext = rn),
    (Ul.find = Ul.findComponent = Ul.findAll = Ul.findAllComponents = f);
  var $l = !1,
    ql = /\*/,
    Hl = { virtual: !1 },
    Zl = {},
    Wl = "Cannot add to a non-numeric value",
    Gl = go.linear,
    Ql = {},
    Yl = {},
    Jl = function (t) {
      (this.event = t), (this.method = "on" + t);
    };
  Jl.prototype.fire = function (t, e) {
    var n = nn(t),
      i = this.method;
    t[i] && (e ? t[i](n, e) : t[i](n)), wn(t, this.event, n, e ? [e, t] : [t]);
  };
  var Xl = function (t) {
      (this.hook = new Jl(t)), (this.inProcess = {}), (this.queue = {});
    },
    tc = Xl.prototype;
  (tc.begin = function (t) {
    this.inProcess[t._guid] = !0;
  }),
    (tc.end = function (t) {
      var e = t.parent;
      e && this.inProcess[e._guid] ? _n(this.queue, e).push(t) : En(this, t),
        delete this.inProcess[t._guid];
    });
  var ec = {};
  [
    "construct",
    "config",
    "attachchild",
    "detach",
    "detachchild",
    "insert",
    "complete",
    "reset",
    "render",
    "unrendering",
    "unrender",
    "teardown",
    "destruct",
    "update",
  ].forEach(function (t) {
    ec[t] = new Jl(t);
  }),
    (ec.init = new Xl("init"));
  var nc = Array.prototype,
    ic = qn("push").model,
    rc = qn("pop").model,
    sc = qn("shift").model,
    ac = qn("unshift").model,
    oc = qn("sort").model,
    uc = qn("splice").model,
    hc = qn("reverse").model,
    lc = {},
    cc = (function (t) {
      function e(e) {
        t.call(this, null, null),
          (this.isRoot = !0),
          (this.root = this),
          (this.value = {}),
          (this.ractive = e.ractive),
          (this.adaptors = []),
          (this.context = e.context);
      }
      t && (e.__proto__ = t);
      var n = (e.prototype = Object.create(t && t.prototype));
      return (
        (n.constructor = e),
        (n.getKeypath = function () {
          return "@context.data";
        }),
        (n.rebound = function () {}),
        e
      );
    })(Rl),
    fc = function (t, e) {
      (this.fragment = t),
        (this.element = e || zn(t)),
        (this.node = this.element && this.element.node),
        (this.ractive = t.ractive),
        (this.root = this);
    },
    dc = fc.prototype,
    pc = { decorators: {}, _data: {} };
  (pc.decorators.get = function () {
    var t = {};
    return this.element
      ? (this.element.decorators.forEach(function (e) {
          return (t[e.name] = e.handle);
        }),
        t)
      : t;
  }),
    (pc._data.get = function () {
      return (
        this.model ||
        (this.root.model = new cc({
          ractive: this.ractive,
          context: this.root,
        }))
      );
    }),
    (dc.add = function (t, e, n) {
      var i = l(e) ? +e : 1,
        s = o(e) ? e : n;
      return an(
        Wn(this, t, i).map(function (t) {
          var e = t[0],
            n = t[1],
            i = e.get();
          if (!r(n) || !r(i)) throw new Error("Cannot add non-numeric value");
          return [e, i + n];
        }),
        s
      );
    }),
    (dc.animate = function (t, e, n) {
      var i = Gn(this, t).model;
      return mn(this.ractive, i, e, n);
    }),
    (dc.find = function (t, e) {
      return this.fragment.find(t, e);
    }),
    (dc.findAll = function (t, e) {
      var n = [];
      return (e = e || {}), (e.result = n), this.fragment.findAll(t, e), n;
    }),
    (dc.findAllComponents = function (t, e) {
      var n = [];
      return (
        (e = e || {}), (e.result = n), this.fragment.findAllComponents(t, e), n
      );
    }),
    (dc.findComponent = function (t, e) {
      return this.fragment.findComponent(t, e);
    }),
    (dc.get = function (t) {
      if (!t) return this.fragment.findContext().get(!0);
      var e = Gn(this, t),
        n = e.model;
      return n ? n.get(!0) : void 0;
    }),
    (dc.getParent = function (t) {
      var e = this.fragment;
      return (
        !e.parent && t
          ? (e = e.componentParent)
          : e.context
          ? (e = sn(e.parent))
          : ((e = sn(e.parent)),
            e && (e = !e.parent && t ? e.componentParent : sn(e.parent))),
        e && e !== this.fragment ? e.getContext() : void 0
      );
    }),
    (dc.hasListener = function (t, e) {
      var n,
        i = this.fragment.owner.component
          ? this.fragment.owner
          : this.element || this.fragment.owner;
      do {
        if (((n = i.component || i), n.template.t === Yo && Qn(n, t)))
          return !0;
        (i = i.up && i.up.owner), i && i.component && (i = i.component);
      } while (i && e);
    }),
    (dc.link = function (t, e) {
      var n = Gn(this, t).model,
        i = Gn(this, e).model,
        r = Nl.start();
      return i.link(n, t), Nl.end(), r;
    }),
    (dc.listen = function (t, e) {
      var n = this.element;
      return (
        n.on(t, e),
        {
          cancel: function () {
            n.off(t, e);
          },
        }
      );
    }),
    (dc.observe = function (t, e, n) {
      return (
        void 0 === n && (n = {}),
        s(t) && (n = e || {}),
        (n.fragment = this.fragment),
        this.ractive.observe(t, e, n)
      );
    }),
    (dc.observeOnce = function (t, e, n) {
      return (
        void 0 === n && (n = {}),
        s(t) && (n = e || {}),
        (n.fragment = this.fragment),
        this.ractive.observeOnce(t, e, n)
      );
    }),
    (dc.pop = function (t) {
      return rc(Gn(this, t).model, []);
    }),
    (dc.push = function (t) {
      for (var e = [], n = arguments.length - 1; n-- > 0; )
        e[n] = arguments[n + 1];
      return ic(Gn(this, t).model, e);
    }),
    (dc.raise = function (t, e) {
      for (var n = [], i = arguments.length - 2; i-- > 0; )
        n[i] = arguments[i + 2];
      for (var r, s = this.element; s; ) {
        if ((s.component && (s = s.component), (r = Qn(s, t))))
          return r.fire(
            r.element.getContext(
              e || {},
              !e || "original" in e ? {} : { original: {} }
            ),
            n
          );
        s = s.up && s.up.owner;
      }
    }),
    (dc.readLink = function (t, e) {
      return this.ractive.readLink(this.resolve(t), e);
    }),
    (dc.resolve = function (t, e) {
      var n = Gn(this, t),
        i = n.model,
        r = n.instance;
      return i ? i.getKeypath(e || r) : t;
    }),
    (dc.reverse = function (t) {
      return hc(Gn(this, t).model, []);
    }),
    (dc.set = function (t, e, n) {
      return an(Wn(this, t, e), n);
    }),
    (dc.shift = function (t) {
      return sc(Gn(this, t).model, []);
    }),
    (dc.splice = function (t, e, n) {
      for (var i = [], r = arguments.length - 3; r-- > 0; )
        i[r] = arguments[r + 3];
      return i.unshift(e, n), uc(Gn(this, t).model, i);
    }),
    (dc.sort = function (t) {
      return oc(Gn(this, t).model, []);
    }),
    (dc.subtract = function (t, e, n) {
      var i = l(e) ? e : 1,
        s = o(e) ? e : n;
      return an(
        Wn(this, t, i).map(function (t) {
          var e = t[0],
            n = t[1],
            i = e.get();
          if (!r(n) || !r(i)) throw new Error("Cannot add non-numeric value");
          return [e, i - n];
        }),
        s
      );
    }),
    (dc.toggle = function (t, e) {
      var n = Gn(this, t),
        i = n.model;
      return an([[i, !i.get()]], e);
    }),
    (dc.unlink = function (t) {
      var e = Gn(this, t).model,
        n = Nl.start();
      return e.owner && e.owner._link && e.owner.unlink(), Nl.end(), n;
    }),
    (dc.unlisten = function (t, e) {
      this.element.off(t, e);
    }),
    (dc.unshift = function (t) {
      for (var e = [], n = arguments.length - 1; n-- > 0; )
        e[n] = arguments[n + 1];
      return ac(Gn(this, t).model, e);
    }),
    (dc.update = function (t, e) {
      return Hn(this.ractive, Gn(this, t).model, e);
    }),
    (dc.updateModel = function (t, e) {
      var n = Gn(this, t),
        i = n.model,
        r = Nl.start();
      return i.updateFromBindings(e), Nl.end(), r;
    }),
    (dc.isBound = function () {
      var t = this.getBindingModel(this),
        e = t.model;
      return !!e;
    }),
    (dc.getBindingPath = function (t) {
      var e = this.getBindingModel(this),
        n = e.model,
        i = e.instance;
      return n ? n.getKeypath(t || i) : void 0;
    }),
    (dc.getBinding = function () {
      var t = this.getBindingModel(this),
        e = t.model;
      return e ? e.get(!0) : void 0;
    }),
    (dc.getBindingModel = function (t) {
      var e = t.element;
      return { model: e.binding && e.binding.model, instance: e.up.ractive };
    }),
    (dc.setBinding = function (t) {
      var e = this.getBindingModel(this),
        n = e.model;
      return an([[n, t]]);
    }),
    Object.defineProperties(dc, pc),
    (fc.forRactive = nn),
    (Fl.Context = fc);
  var mc,
    vc,
    gc,
    yc,
    bc,
    wc,
    xc,
    kc,
    _c,
    Ec = Ja && Ja.querySelector,
    Sc = "http://www.w3.org/1999/xhtml",
    Ac = "http://www.w3.org/1998/Math/MathML",
    Cc = "http://www.w3.org/2000/svg",
    Oc = "http://www.w3.org/1999/xlink",
    Nc = "http://www.w3.org/XML/1998/namespace",
    jc = "http://www.w3.org/2000/xmlns",
    Tc = { html: Sc, mathml: Ac, svg: Cc, xlink: Oc, xml: Nc, xmlns: jc },
    Vc = Xa && "registerElement" in Ja;
  if (
    ((mc = no
      ? function (t, e, n) {
          return e && e !== Sc
            ? n
              ? Ja.createElementNS(e, t, ni(n))
              : Ja.createElementNS(e, t)
            : n
            ? Ja.createElement(t, ni(n))
            : Ja.createElement(t);
        }
      : function (t, e, n) {
          if (e && e !== Sc)
            throw "This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://ractive.js.org/support/#svgs for more information";
          return n ? Ja.createElement(t, ni(n)) : Ja.createElement(t);
        }),
    Xa)
  ) {
    for (
      gc = mc("div"),
        yc = ["matches", "matchesSelector"],
        _c = function (t) {
          return function (e, n) {
            return e[t](n);
          };
        },
        xc = yc.length;
      xc-- && !vc;

    )
      if (((bc = yc[xc]), gc[bc])) vc = _c(bc);
      else
        for (kc = io.length; kc--; )
          if (
            ((wc = io[xc] + bc.substr(0, 1).toUpperCase() + bc.substring(1)),
            gc[wc])
          ) {
            vc = _c(wc);
            break;
          }
    vc ||
      (vc = function (t, e) {
        var n, i;
        (n = t.parentNode),
          n ||
            ((gc.innerHTML = ""),
            (n = gc),
            (t = t.cloneNode()),
            gc.appendChild(t));
        var r = n.querySelectorAll(e);
        for (i = r.length; i--; ) if (r[i] === t) return !0;
        return !1;
      });
  } else vc = null;
  var Pc = function (t, e, n, i) {
      (this.context = i.context || t),
        (this.callback = n),
        (this.ractive = t),
        (this.keypath = i.keypath),
        (this.options = i),
        e && this.resolved(e),
        u(i.old) && ((this.oldContext = $a(t)), (this.oldFn = i.old)),
        i.init !== !1 ? ((this.dirty = !0), this.dispatch()) : fi(this),
        (this.dirty = !1);
    },
    Mc = Pc.prototype;
  (Mc.cancel = function () {
    (this.cancelled = !0),
      this.model ? this.model.unregister(this) : this.resolver.unbind(),
      V(this.ractive._observers, this);
  }),
    (Mc.dispatch = function () {
      if (!this.cancelled) {
        try {
          this.callback.call(
            this.context,
            this.newValue,
            this.oldValue,
            this.keypath
          );
        } catch (t) {
          y(
            "Failed to execute observer callback for '" +
              this.keypath +
              "': " +
              (t.message || t)
          );
        }
        fi(this, !0), (this.dirty = !1);
      }
    }),
    (Mc.handleChange = function () {
      var t = this;
      if (this.dirty) this.newValue = this.model.get();
      else {
        var e = this.model.get();
        if (i(e, this.oldValue)) return;
        if (
          ((this.newValue = e),
          this.options.strict && this.newValue === this.oldValue)
        )
          return;
        Nl.addObserver(this, this.options.defer),
          (this.dirty = !0),
          this.options.once &&
            Nl.scheduleTask(function () {
              return t.cancel();
            });
      }
    }),
    (Mc.rebind = function (t, e) {
      var n = this;
      return (
        (t = ht(this.keypath, t, e)),
        t === this.model
          ? !1
          : (this.model && this.model.unregister(this),
            void (
              t &&
              t.addShuffleTask(function () {
                return n.resolved(t);
              })
            ))
      );
    }),
    (Mc.resolved = function (t) {
      (this.model = t),
        (this.oldValue = void 0),
        (this.newValue = t.get()),
        t.register(this);
    });
  var Ic = /\*+/g,
    Rc = function (t, e, n, i, r) {
      var s = this;
      (this.context = r.context || t),
        (this.ractive = t),
        (this.baseModel = e),
        (this.keys = n),
        (this.callback = i);
      var a = n.join("\\.").replace(Ic, "(.+)"),
        o = (this.baseKeypath = e.getKeypath(t));
      (this.pattern = new RegExp("^" + (o ? o + "\\." : "") + a + "$")),
        (this.recursive = 1 === n.length && "**" === n[0]),
        this.recursive && (this.keys = ["*"]),
        r.old && ((this.oldContext = $a(t)), (this.oldFn = r.old)),
        (this.oldValues = {}),
        (this.newValues = {}),
        (this.defer = r.defer),
        (this.once = r.once),
        (this.strict = r.strict),
        (this.dirty = !1),
        (this.changed = []),
        (this.cache = []),
        (this.partial = !1),
        (this.links = r.links);
      var u = e.findMatches(this.keys);
      u.forEach(function (t) {
        s.newValues[t.getKeypath(s.ractive)] = t.get();
      }),
        r.init !== !1 ? this.dispatch() : mi(this, this.newValues),
        e.registerPatternObserver(this);
    },
    Bc = Rc.prototype;
  (Bc.cancel = function () {
    this.baseModel.unregisterPatternObserver(this),
      V(this.ractive._observers, this);
  }),
    (Bc.dispatch = function () {
      var t = this,
        e = this.newValues;
      (this.newValues = {}),
        Za(e).forEach(function (n) {
          var r = e[n],
            s = t.oldValues[n];
          if (!((t.strict && r === s) || i(r, s))) {
            var a = [r, s, n];
            if (n) {
              var o = t.pattern.exec(n);
              o && (a = a.concat(o.slice(1)));
            }
            try {
              t.callback.apply(t.context, a);
            } catch (u) {
              y(
                "Failed to execute pattern observer callback for '" +
                  t.keypath +
                  "': " +
                  (u.message || u)
              );
            }
          }
        }),
        mi(this, e, this.partial),
        (this.dirty = !1);
    }),
    (Bc.notify = function (t) {
      var e = di(t);
      ~this.cache.indexOf(e) || (this.cache.push(e), this.changed.push(t));
    }),
    (Bc.shuffle = function (t) {
      var e = this;
      if (Ga(this.baseModel.value)) {
        for (var n = this.baseModel.value.length, i = 0; i < t.length; i++)
          -1 !== t[i] && t[i] !== i && e.changed.push([i]);
        for (var r = t.touchedFrom; n > r; r++) e.changed.push([r]);
      }
    }),
    (Bc.handleChange = function () {
      var t = this;
      if (!this.dirty || this.changed.length) {
        if ((this.dirty || (this.newValues = {}), this.changed.length)) {
          var e = 0;
          if (this.recursive) {
            var n = this.changed.slice();
            (this.changed.length = 0),
              (this.dirty = !0),
              n.forEach(function (n) {
                var i = t.baseModel.joinAll(n);
                (!i.isLink || t.links) &&
                  (e++, (t.newValues[i.getKeypath(t.ractive)] = i.get()));
              }),
              (this.dirty = !1);
          } else {
            var i = this.baseModel.isRoot
              ? this.changed.map(function (t) {
                  return t.map(_).join(".");
                })
              : this.changed.map(function (e) {
                  return t.baseKeypath + "." + e.map(_).join(".");
                });
            this.baseModel.findMatches(this.keys).forEach(function (n) {
              var r = n.getKeypath(t.ractive),
                s = function (t) {
                  return (
                    (0 === t.indexOf(r) &&
                      (t.length === r.length || "." === t[r.length])) ||
                    (0 === r.indexOf(t) &&
                      (t.length === r.length || "." === r[t.length]))
                  );
                };
              i.filter(s).length && (e++, (t.newValues[r] = n.get()));
            });
          }
          if (!e) return;
          this.partial = !0;
        } else
          this.baseModel.findMatches(this.keys).forEach(function (e) {
            var n = e.getKeypath(t.ractive);
            t.newValues[n] = e.get();
          }),
            (this.partial = !1);
        Nl.addObserver(this, this.defer),
          (this.dirty = !0),
          (this.changed.length = 0),
          (this.cache = []),
          this.once && this.cancel();
      }
    });
  var Kc = function (t, e, n, i) {
      (this.ractive = t),
        (this.model = e),
        (this.keypath = e.getKeypath()),
        (this.callback = n),
        (this.options = i),
        (this.pending = null),
        e.register(this),
        i.init !== !1
          ? ((this.sliced = []), this.shuffle([]), this.dispatch())
          : (this.sliced = this.slice());
    },
    Lc = Kc.prototype;
  (Lc.cancel = function () {
    this.model.unregister(this), V(this.ractive._observers, this);
  }),
    (Lc.dispatch = function () {
      try {
        this.callback(this.pending);
      } catch (t) {
        y(
          "Failed to execute array observer callback for '" +
            this.keypath +
            "': " +
            (t.message || t)
        );
      }
      (this.pending = null), this.options.once && this.cancel();
    }),
    (Lc.handleChange = function (t) {
      this.pending
        ? Nl.addObserver(this, this.options.defer)
        : t || (this.shuffle(this.sliced.map(vi)), this.handleChange());
    }),
    (Lc.shuffle = function (t) {
      var e,
        n = this,
        i = this.slice(),
        r = [],
        s = [],
        a = {};
      t.forEach(function (t, i) {
        (a[t] = !0),
          t !== i && c(e) && (e = i),
          -1 === t && s.push(n.sliced[i]);
      }),
        c(e) && (e = t.length);
      for (var o = i.length, u = 0; o > u; u += 1) a[u] || r.push(i[u]);
      (this.pending = { inserted: r, deleted: s, start: e }), (this.sliced = i);
    }),
    (Lc.slice = function () {
      var t = this.model.get();
      return Ga(t) ? t.slice() : [];
    });
  var Dc = { init: !1, once: !0 },
    Fc = function (t) {
      return t.trim();
    },
    zc = function (t) {
      return "" !== t;
    },
    Uc = qn("pop").path,
    $c = qn("push").path,
    qc = "/* Ractive.js component styles */",
    Hc = [],
    Zc = !1,
    Wc = null,
    Gc = null,
    Qc = !1,
    Yc = {
      extend: function (t, e, n) {
        e.adapt = P(e.adapt, j(n.adapt));
      },
      init: function () {},
    },
    Jc = /\/\*(?:[\s\S]*?)\*\//g,
    Xc =
      /url\(\s*(['"])(?:\\[\s\S]|(?!\1).)*\1\s*\)|url\((?:\\[\s\S]|[^)])*\)|(['"])(?:\\[\s\S]|(?!\2).)*\2/gi,
    tf = /\0(\d+)/g,
    ef = /(?:^|\}|\{|\x01)\s*([^\{\}\0\x01]+)\s*(?=\{)/g,
    nf = /@import\s*\([^)]*\)\s*;?/gi,
    rf = /\x01/g,
    sf = /@keyframes\s+[^\{\}]+\s*\{(?:[^{}]+|\{[^{}]+})*}/gi,
    af =
      /((?:(?:\[[^\]]+\])|(?:[^\s\+\>~:]))+)((?:::?[^\s\+\>\~\(:]+(?:\([^\)]+\))?)*\s*[\s\+\>\~]?)\s*/g,
    of = /^(?:@|\d+%)/,
    uf = /\[data-ractive-css~="\{[a-z0-9-]+\}"]/g,
    hf = (function (t) {
      function e(e) {
        t.call(this, e.cssData, "@style"), (this.component = e);
      }
      t && (e.__proto__ = t);
      var n = (e.prototype = Object.create(t && t.prototype));
      return (
        (n.constructor = e),
        (n.downstreamChanged = function (t, e) {
          if (!this.locked) {
            var n = this.component;
            n.extensions.forEach(function (n) {
              var i = n._cssModel;
              i.mark(), i.downstreamChanged(t, e || 1);
            }),
              e || Li(n, !0);
          }
        }),
        e
      );
    })(Kl),
    lf = /\{/,
    cf = {
      name: "css",
      extend: function (t, e, n, i) {
        (i._cssIds = Fi(t)),
          qa(i, "cssData", {
            configurable: !0,
            value: Ua($a(t.cssData), n.cssData || {}),
          }),
          qa(i, "_cssModel", { configurable: !0, value: new hf(i) }),
          n.css && Ui(n, i, e);
      },
      init: function (t, e, n) {
        n.css &&
          y(
            "\nThe css option is currently not supported on a per-instance basis and will be discarded. Instead, we recommend instantiating from a component definition with a css option.\n\nconst Component = Ractive.extend({\n	...\n	css: '/* your css */',\n	...\n});\n\nconst componentInstance = new Component({ ... })\n		"
          );
      },
    },
    ff = {
      name: "data",
      extend: function (t, e, n) {
        var i, r;
        if (n.data && s(n.data))
          for (i in n.data)
            (r = n.data[i]),
              r &&
                o(r) &&
                (s(r) || Ga(r)) &&
                y(
                  "Passing a `data` option with object and array properties to Ractive.extend() is discouraged, as mutating them is likely to cause bugs. Consider using a data function instead:\n\n  // this...\n  data: function () {\n    return {\n      myObject: {}\n    };\n  })\n\n  // instead of this:\n  data: {\n    myObject: {}\n  }"
                );
        e.data = Hi(e.data, n.data);
      },
      init: function (t, e, n) {
        var i = Hi(t.prototype.data, n.data);
        if ((u(i) && (i = i.call(e)), i && i.constructor === Object))
          for (var r in i)
            if (u(i[r])) {
              var s = i[r];
              (i[r] = B(s, e)), (i[r]._r_unbound = s);
            }
        return i || {};
      },
      reset: function (t) {
        var e = this.init(t.constructor, t, t.viewmodel);
        return t.viewmodel.root.set(e), !0;
      },
    },
    df = {
      name: "template",
      extend: function (t, e, n) {
        if ("template" in n) {
          var i = n.template;
          u(i) ? (e.template = i) : (e.template = Yi(i, e));
        }
      },
      init: function (t, e, n) {
        var i = "template" in n ? n.template : t.prototype.template;
        if (((i = i || { v: Do, t: [] }), u(i))) {
          var r = i;
          (i = Qi(e, r)), (e._config.template = { fn: r, result: i });
        }
        (i = Yi(i, e)), (e.template = i.t), i.p && tr(e.partials, i.p);
      },
      reset: function (t) {
        var e = Gi(t);
        if (e) {
          var n = Yi(e, t);
          return (t.template = n.t), tr(t.partials, n.p, !0), !0;
        }
      },
    },
    pf = [
      "adaptors",
      "components",
      "computed",
      "decorators",
      "easing",
      "events",
      "helpers",
      "interpolators",
      "partials",
      "transitions",
    ],
    mf = ["computed", "helpers"],
    vf = function (t, e) {
      (this.name = t), (this.useDefaults = e);
    },
    gf = vf.prototype;
  (gf.extend = function (t, e, n) {
    var i = this.useDefaults ? t.defaults : t,
      r = this.useDefaults ? e : e.constructor;
    this.configure(i, r, n);
  }),
    (gf.init = function () {}),
    (gf.configure = function (t, e, n) {
      var i = this.name,
        r = n[i],
        s = $a(t[i]);
      Ua(s, r),
        (e[i] = s),
        "partials" === i &&
          e[i] &&
          Za(e[i]).forEach(function (t) {
            dt(e[i][t]);
          });
    }),
    (gf.reset = function (t) {
      var e = t[this.name],
        n = !1;
      return (
        Za(e).forEach(function (t) {
          var i = e[t];
          i._fn && (i._fn.isOwner ? (e[t] = i._fn) : delete e[t], (n = !0));
        }),
        n
      );
    });
  var yf = pf.map(function (t) {
      var e = mf.indexOf(t) > -1;
      return new vf(t, e);
    }),
    bf = {
      extend: function (t, e, n, i) {
        return ar("extend", t, e, n, i);
      },
      init: function (t, e, n) {
        return ar("init", t, e, n);
      },
      reset: function (t) {
        return Ef.filter(function (e) {
          return e.reset && e.reset(t);
        }).map(function (t) {
          return t.name;
        });
      },
    },
    wf = {
      adapt: Yc,
      computed: bf,
      css: cf,
      data: ff,
      helpers: bf,
      template: df,
    },
    xf = Za(vo),
    kf = ur(
      xf.filter(function (t) {
        return !wf[t];
      })
    ),
    _f = ur(
      xf.concat(
        yf.map(function (t) {
          return t.name;
        }),
        ["on", "observe", "attributes", "cssData", "use"]
      )
    ),
    Ef = [].concat(
      xf.filter(function (t) {
        return !yf[t] && !wf[t];
      }),
      yf,
      wf.template,
      wf.css
    ),
    Sf = /\b_super\b/,
    Af = function (t) {
      (this.up = t.up),
        (this.ractive = t.up.ractive),
        (this.template = t.template),
        (this.index = t.index),
        (this.type = t.template.t),
        (this.dirty = !1);
    },
    Cf = Af.prototype;
  (Cf.bubble = function () {
    this.dirty || ((this.dirty = !0), this.up.bubble());
  }),
    (Cf.destroyed = function () {
      this.fragment && this.fragment.destroyed();
    }),
    (Cf.find = function () {
      return null;
    }),
    (Cf.findComponent = function () {
      return null;
    }),
    (Cf.findNextNode = function () {
      return this.up.findNextNode(this);
    }),
    (Cf.rebound = function (t) {
      this.fragment && this.fragment.rebound(t);
    }),
    (Cf.shuffled = function () {
      this.fragment && this.fragment.shuffled();
    }),
    (Cf.valueOf = function () {
      return this.toString();
    }),
    (Af.prototype.findAll = f),
    (Af.prototype.findAllComponents = f);
  var Of = (function (t) {
      function e(e) {
        t.call(this, e);
      }
      t && (e.__proto__ = t);
      var n = (e.prototype = Object.create(t && t.prototype));
      return (
        (n.constructor = e),
        (n.detach = function () {
          return this.fragment ? this.fragment.detach() : ii();
        }),
        (n.find = function (t) {
          return this.fragment ? this.fragment.find(t) : void 0;
        }),
        (n.findAll = function (t, e) {
          this.fragment && this.fragment.findAll(t, e);
        }),
        (n.findComponent = function (t) {
          return this.fragment ? this.fragment.findComponent(t) : void 0;
        }),
        (n.findAllComponents = function (t, e) {
          this.fragment && this.fragment.findAllComponents(t, e);
        }),
        (n.firstNode = function (t) {
          return this.fragment && this.fragment.firstNode(t);
        }),
        (n.toString = function (t) {
          return this.fragment ? this.fragment.toString(t) : "";
        }),
        e
      );
    })(Af),
    Nf = /\s+/,
    jf = [
      void 0,
      "text",
      "search",
      "url",
      "email",
      "hidden",
      "password",
      "search",
      "reset",
      "submit",
    ],
    Tf = {
      "accept-charset": "acceptCharset",
      accesskey: "accessKey",
      bgcolor: "bgColor",
      class: "className",
      codebase: "codeBase",
      colspan: "colSpan",
      contenteditable: "contentEditable",
      datetime: "dateTime",
      dirname: "dirName",
      for: "htmlFor",
      "http-equiv": "httpEquiv",
      ismap: "isMap",
      maxlength: "maxLength",
      novalidate: "noValidate",
      pubdate: "pubDate",
      readonly: "readOnly",
      rowspan: "rowSpan",
      tabindex: "tabIndex",
      usemap: "useMap",
    },
    Vf = Ja ? mc("div") : null,
    Pf = !1,
    Mf = (function (t) {
      function e(e) {
        t.call(this, e),
          (this.attributes = []),
          (this.owner = e.owner),
          (this.fragment = new Gp({
            ractive: this.ractive,
            owner: this,
            template: this.template,
          })),
          (this.fragment.findNextNode = f),
          (this.dirty = !1);
      }
      t && (e.__proto__ = t);
      var n = (e.prototype = Object.create(t && t.prototype));
      return (
        (n.constructor = e),
        (n.bind = function () {
          this.fragment.bind();
        }),
        (n.bubble = function () {
          this.dirty || ((this.dirty = !0), this.owner.bubble());
        }),
        (n.destroyed = function () {
          this.unrender();
        }),
        (n.render = function () {
          (this.node = this.owner.node),
            this.node && (this.isSvg = this.node.namespaceURI === Cc),
            (Pf = !0),
            this.rendered || this.fragment.render(),
            (this.rendered = !0),
            (this.dirty = !0),
            this.update(),
            (Pf = !1);
        }),
        (n.toString = function () {
          return this.fragment.toString();
        }),
        (n.unbind = function (t) {
          this.fragment.unbind(t);
        }),
        (n.unrender = function () {
          (this.rendered = !1), this.fragment.unrender();
        }),
        (n.update = function () {
          var t,
            e,
            n = this;
          if (this.dirty) {
            this.dirty = !1;
            var i = Pf;
            (Pf = !0),
              this.fragment.update(),
              this.rendered &&
                this.node &&
                ((t = this.fragment.toString()),
                (e = Or(t, this.isSvg)),
                this.attributes
                  .filter(function (t) {
                    return Nr(e, t);
                  })
                  .forEach(function (t) {
                    n.node.removeAttribute(t.name);
                  }),
                e.forEach(function (t) {
                  n.node.setAttribute(t.name, t.value);
                }),
                (this.attributes = e)),
              (Pf = i || !1);
          }
        }),
        e
      );
    })(Af),
    If = /^\s*$/,
    Rf = !1,
    Bf = (function (t) {
      function e(e) {
        return (
          t.call(this, e),
          (this.name = e.template.n),
          (this.namespace = null),
          (this.owner = e.owner || e.up.owner || e.element || zn(e.up)),
          (this.element =
            e.element || (this.owner.attributeByName ? this.owner : zn(e.up))),
          (this.up = e.up),
          (this.ractive = this.up.ractive),
          (this.rendered = !1),
          (this.updateDelegate = null),
          (this.fragment = null),
          (this.element.attributeByName[this.name] = this),
          Ga(e.template.f)
            ? ((this.fragment = new Gp({
                owner: this,
                template: e.template.f,
              })),
              (this.interpolator =
                this.fragment &&
                1 === this.fragment.items.length &&
                this.fragment.items[0].type === Ho &&
                this.fragment.items[0]),
              void (this.interpolator && (this.interpolator.owner = this)))
            : ((this.value = e.template.f),
              void (0 === this.value
                ? (this.value = "")
                : c(this.value) && (this.value = !0)))
        );
      }
      t && (e.__proto__ = t);
      var n = (e.prototype = Object.create(t && t.prototype));
      return (
        (n.constructor = e),
        (n.bind = function () {
          this.fragment && this.fragment.bind();
        }),
        (n.bubble = function () {
          this.dirty ||
            (this.up.bubble(), this.element.bubble(), (this.dirty = !0));
        }),
        (n.firstNode = function () {}),
        (n.getString = function () {
          Rf = !0;
          var t = this.fragment
            ? this.fragment.toString()
            : null != this.value
            ? "" + this.value
            : "";
          return (Rf = !1), t;
        }),
        (n.getValue = function () {
          Rf = !0;
          var t = this.fragment
            ? this.fragment.valueOf()
            : qu[this.name.toLowerCase()]
            ? !0
            : this.value;
          return (Rf = !1), t;
        }),
        (n.render = function () {
          var t = this.element.node;
          if (
            ((this.node = t),
            (t.namespaceURI && t.namespaceURI !== Tc.html) ||
              ((this.propertyName = Tf[this.name] || this.name),
              void 0 !== t[this.propertyName] && (this.useProperty = !0),
              (qu[this.name.toLowerCase()] || this.isTwoway) &&
                (this.isBoolean = !0),
              "value" === this.propertyName && (t._ractive.value = this.value)),
            t.namespaceURI)
          ) {
            var e = this.name.indexOf(":");
            -1 !== e
              ? (this.namespace = jr(t, this.name.slice(0, e)))
              : (this.namespace = t.namespaceURI);
          }
          (this.rendered = !0),
            (this.updateDelegate = cr(this)),
            this.updateDelegate();
        }),
        (n.toString = function () {
          if (Cr()) return "";
          Rf = !0;
          var t = this.getValue();
          if (
            "value" !== this.name ||
            (void 0 === this.element.getAttribute("contenteditable") &&
              "select" !== this.element.name &&
              "textarea" !== this.element.name)
          ) {
            if (
              "name" === this.name &&
              "input" === this.element.name &&
              this.interpolator &&
              "radio" === this.element.getAttribute("type")
            )
              return 'name="{{' + this.interpolator.model.getKeypath() + '}}"';
            if (
              this.owner !== this.element ||
              ("style" !== this.name &&
                "class" !== this.name &&
                !this.style &&
                !this.inlineClass)
            ) {
              if (
                !(
                  this.rendered ||
                  this.owner !== this.element ||
                  (this.name.indexOf("style-") && this.name.indexOf("class-"))
                )
              )
                return void (this.name.indexOf("style-")
                  ? (this.inlineClass = this.name.substr(6))
                  : (this.style = _e(this.name.substr(6))));
              if (qu[this.name.toLowerCase()])
                return t
                  ? h(t)
                    ? this.name + '="' + oi(t) + '"'
                    : this.name
                  : "";
              if (null == t) return "";
              var e = oi(this.getString());
              return (Rf = !1), e ? this.name + '="' + e + '"' : this.name;
            }
          }
        }),
        (n.unbind = function (t) {
          this.fragment && this.fragment.unbind(t);
        }),
        (n.unrender = function () {
          this.updateDelegate(!0), (this.rendered = !1);
        }),
        (n.update = function () {
          if (this.dirty) {
            var t;
            if (
              ((this.dirty = !1),
              this.fragment && this.fragment.update(),
              this.rendered && this.updateDelegate(),
              this.isTwoway && !this.locked)
            )
              this.interpolator.twowayBinding.lastVal(
                !0,
                this.interpolator.model.get()
              );
            else if ("value" === this.name && (t = this.element.binding)) {
              var e = t.attribute;
              e &&
                !e.dirty &&
                e.rendered &&
                this.element.binding.attribute.updateDelegate();
            }
          }
        }),
        e
      );
    })(Af),
    Kf = (function (t) {
      function e(e) {
        t.call(this, e),
          (this.owner = e.owner || e.up.owner || zn(e.up)),
          (this.element = this.owner.attributeByName ? this.owner : zn(e.up)),
          (this.flag = "l" === e.template.v ? "lazy" : "twoway"),
          (this.bubbler = this.owner === this.element ? this.element : this.up),
          this.element.type === Yo &&
            (Ga(e.template.f) &&
              (this.fragment = new Gp({ owner: this, template: e.template.f })),
            (this.interpolator =
              this.fragment &&
              1 === this.fragment.items.length &&
              this.fragment.items[0].type === Ho &&
              this.fragment.items[0]));
      }
      t && (e.__proto__ = t);
      var n = (e.prototype = Object.create(t && t.prototype));
      return (
        (n.constructor = e),
        (n.bind = function () {
          this.fragment && this.fragment.bind(), Vr(this, this.getValue(), !0);
        }),
        (n.bubble = function () {
          this.dirty || (this.bubbler.bubble(), (this.dirty = !0));
        }),
        (n.getValue = function () {
          return this.fragment
            ? this.fragment.valueOf()
            : "value" in this
            ? this.value
            : "f" in this.template
            ? this.template.f
            : !0;
        }),
        (n.render = function () {
          Vr(this, this.getValue(), !0);
        }),
        (n.toString = function () {
          return "";
        }),
        (n.unbind = function (t) {
          this.fragment && this.fragment.unbind(t),
            delete this.element[this.flag];
        }),
        (n.unrender = function () {
          this.element.rendered && this.element.recreateTwowayBinding();
        }),
        (n.update = function () {
          this.dirty &&
            ((this.dirty = !1),
            this.fragment && this.fragment.update(),
            Vr(this, this.getValue(), !0));
        }),
        e
      );
    })(Af),
    Lf = $a(Af.prototype);
  Ua(Lf, {
    bind: f,
    unbind: f,
    update: f,
    detach: function () {
      return si(this.node);
    },
    firstNode: function () {
      return this.node;
    },
    render: function (t) {
      (this.rendered = !0),
        (this.node = Ja.createComment(this.template.c)),
        t.appendChild(this.node);
    },
    toString: function () {
      return "<!-- " + this.template.c + " -->";
    },
    unrender: function (t) {
      this.rendered && t && this.detach(), (this.rendered = !1);
    },
  }),
    (Pr.prototype = Lf);
  var Df = (function (t) {
      function e(e) {
        t.call(this, e, "@this"), (this.ractive = e);
      }
      t && (e.__proto__ = t);
      var n = (e.prototype = Object.create(t && t.prototype));
      return (
        (n.constructor = e),
        (n.joinKey = function (e) {
          var n = t.prototype.joinKey.call(this, e);
          return ("root" !== e && "parent" !== e) || n.isLink
            ? "data" === e
              ? this.ractive.viewmodel
              : "cssData" === e
              ? this.ractive.constructor._cssModel
              : n
            : Rr(n, e);
        }),
        e
      );
    })(Kl),
    Ff = {
      "@this": function (t) {
        return t.getRactiveModel();
      },
      "@global": function () {
        return Dl;
      },
      "@shared": function () {
        return Ll;
      },
      "@style": function (t) {
        return t.getRactiveModel().joinKey("cssData");
      },
      "@helpers": function (t) {
        return t.getHelpers();
      },
    };
  Ff["@"] = Ff["@this"];
  var zf = (function (t) {
    function e(e) {
      t.call(this, null, null),
        (this.isRoot = !0),
        (this.root = this),
        (this.ractive = e.ractive),
        (this.value = e.data),
        (this.adaptors = e.adapt),
        this.adapt();
    }
    t && (e.__proto__ = t);
    var n = (e.prototype = Object.create(t && t.prototype));
    return (
      (n.constructor = e),
      (n.attached = function (t) {
        Br(this, t);
      }),
      (n.createLink = function (t, e, n, i) {
        for (var r = S(t), s = this; r.length; ) {
          var a = r.shift();
          s = s.childByKey[a] || s.joinKey(a);
        }
        return s.link(e, n, i);
      }),
      (n.detached = function () {
        Kr(this);
      }),
      (n.get = function (t, e) {
        return (
          t && H(this), e && e.virtual === !1 ? this.value : this.getVirtual()
        );
      }),
      (n.getHelpers = function () {
        return (
          this.helpers ||
            (this.helpers = new Kl(
              this.ractive.helpers,
              "helpers",
              this.ractive
            )),
          this.helpers
        );
      }),
      (n.getKeypath = function () {
        return "";
      }),
      (n.getRactiveModel = function () {
        return this.ractiveModel || (this.ractiveModel = new Df(this.ractive));
      }),
      (n.getValueChildren = function () {
        var e = t.prototype.getValueChildren.call(this, this.value);
        return (
          this.children.forEach(function (t) {
            if (t._link) {
              var n = e.indexOf(t);
              ~n ? e.splice(n, 1, t._link) : e.push(t._link);
            }
          }),
          e
        );
      }),
      (n.has = function (e) {
        if (
          ("~" === e[0] && "/" === e[1] && (e = e.slice(2)), Ff[e] || "" === e)
        )
          return !0;
        if (t.prototype.has.call(this, e)) return !0;
        var n = A(e);
        return this.childByKey[n] && this.childByKey[n]._link ? !0 : void 0;
      }),
      (n.joinKey = function (e, n) {
        if (("~" === e[0] && "/" === e[1] && (e = e.slice(2)), "@" !== e[0]))
          return t.prototype.joinKey.call(this, e, n);
        var i = Ff[e];
        return i ? i(this) : void 0;
      }),
      (n.set = function (t) {
        var e = this.wrapper;
        if (e) {
          var n = !e.reset || e.reset(t) === !1;
          n &&
            (e.teardown(),
            (this.wrapper = null),
            (this.value = t),
            this.adapt());
        } else (this.value = t), this.adapt();
        this.deps.forEach(Q), this.children.forEach(Y);
      }),
      (n.retrieve = function () {
        return this.wrapper ? this.wrapper.get() : this.value;
      }),
      (n.teardown = function () {
        t.prototype.teardown.call(this),
          this.ractiveModel && this.ractiveModel.teardown();
      }),
      e
    );
  })(Rl);
  zf.prototype.update = f;
  var Uf = [
      "adaptors",
      "components",
      "decorators",
      "easing",
      "events",
      "interpolators",
      "partials",
      "transitions",
    ],
    $f = ["computed", "helpers"],
    qf = 0,
    Hf = (function (t) {
      function e(e, n) {
        var i = this;
        t.call(this, e);
        var r = e.template;
        (this.isAnchor = r.t === eu), (this.type = this.isAnchor ? eu : ru);
        var s = r.m,
          a = r.p || {};
        if (
          ("content" in a || (a.content = r.f || []),
          (this._partials = a),
          this.isAnchor)
        )
          (this.name = r.n), (this.addChild = $r), (this.removeChild = qr);
        else {
          var o = new n({ component: !0 });
          (this.instance = o),
            (this.name = r.e),
            (o.el || o.target) &&
              (y(
                "The <" +
                  this.name +
                  "> component has a default '" +
                  (o.el ? "el" : "target") +
                  "' property; it has been disregarded"
              ),
              (o.el = o.target = null));
          for (var u, l = e.up; l; ) {
            if (l.owner.type === su) {
              u = l.owner.container;
              break;
            }
            l = l.parent;
          }
          (o.parent = this.up.ractive),
            (o.container = u || null),
            (o.root = o.parent.root),
            (o.component = this),
            Dr(this.instance, { partials: a }, n),
            (r = this.template),
            (s = r.m),
            Ga(this.mappings)
              ? (s = (s || []).concat(this.mappings))
              : h(this.mappings) &&
                (s = (s || []).concat(
                  El.parse(this.mappings, { attributes: !0 }).t
                )),
            (o._inlinePartials = a);
        }
        if (((this.attributeByName = {}), (this.attributes = []), s)) {
          var c = [];
          s.forEach(function (t) {
            switch (t.t) {
              case nu:
              case Iu:
                i.attributes.push(sa({ owner: i, up: i.up, template: t }));
                break;
              case Bu:
              case Ku:
              case Ru:
                break;
              default:
                c.push(t);
            }
          }),
            c.length &&
              this.attributes.push(
                new Mf({ owner: this, up: this.up, template: c })
              );
        }
        this.eventHandlers = [];
      }
      t && (e.__proto__ = t);
      var n = (e.prototype = Object.create(t && t.prototype));
      return (
        (n.constructor = e),
        (n.bind = function () {
          this.isAnchor ||
            (this.attributes.forEach(Z),
            this.eventHandlers.forEach(Z),
            ha(
              this.instance,
              { partials: this._partials },
              { cssIds: this.up.cssIds }
            ),
            (this.instance.target || this.instance.el) && (this.extern = !0),
            (this.bound = !0));
        }),
        (n.bubble = function () {
          this.dirty || ((this.dirty = !0), this.up.bubble());
        }),
        (n.destroyed = function () {
          !this.isAnchor &&
            this.instance.fragment &&
            this.instance.fragment.destroyed();
        }),
        (n.detach = function () {
          return this.isAnchor
            ? this.instance
              ? this.instance.fragment.detach()
              : ii()
            : this.instance.fragment.detach();
        }),
        (n.find = function (t, e) {
          return this.instance ? this.instance.fragment.find(t, e) : void 0;
        }),
        (n.findAll = function (t, e) {
          this.instance && this.instance.fragment.findAll(t, e);
        }),
        (n.findComponent = function (t, e) {
          return t && this.name !== t
            ? this.instance.fragment
              ? this.instance.fragment.findComponent(t, e)
              : void 0
            : this.instance;
        }),
        (n.findAllComponents = function (t, e) {
          var n = e.result;
          !this.instance || (t && this.name !== t) || n.push(this.instance),
            this.instance && this.instance.findAllComponents(t, e);
        }),
        (n.firstNode = function (t) {
          return this.instance ? this.instance.fragment.firstNode(t) : void 0;
        }),
        (n.getContext = function () {
          for (var t = [], e = arguments.length; e--; ) t[e] = arguments[e];
          return t.unshift(this.instance), nn.apply(null, t);
        }),
        (n.rebound = function (t) {
          this.attributes.forEach(function (e) {
            return e.rebound(t);
          });
        }),
        (n.render = function (t, e) {
          this.isAnchor
            ? ((this.rendered = !0),
              (this.target = t),
              Zf.length ||
                (Zf.push(this.ractive),
                e
                  ? ((this.occupants = e), Wr(), (this.occupants = null))
                  : Nl.scheduleTask(Wr, !0)))
            : (this.attributes.forEach(et),
              this.eventHandlers.forEach(et),
              this.extern
                ? ((this.instance.delegate = !1), this.instance.render())
                : ca(this.instance, t, null, e),
              (this.rendered = !0));
        }),
        (n.shuffled = function () {
          t.prototype.shuffled.call(this),
            this.instance &&
              !this.instance.isolated &&
              this.instance.fragment &&
              this.instance.fragment.shuffled();
        }),
        (n.toString = function () {
          return this.instance ? this.instance.toHTML() : void 0;
        }),
        (n.unbind = function (t) {
          this.isAnchor ||
            ((this.bound = !1),
            this.attributes.forEach(rt),
            t
              ? this.instance.fragment.unbind()
              : Ir(this.instance, function () {
                  return Nl.promise();
                }));
        }),
        (n.unrender = function (t) {
          (this.shouldDestroy = t),
            this.isAnchor
              ? (this.item && Zr(this, this.item),
                (this.target = null),
                Zf.length || (Zf.push(this.ractive), Nl.scheduleTask(Wr, !0)))
              : (this.instance.unrender(),
                (this.instance.el = this.instance.target = null),
                this.attributes.forEach(st),
                this.eventHandlers.forEach(st)),
            (this.rendered = !1);
        }),
        (n.update = function () {
          (this.dirty = !1),
            this.instance &&
              (this.instance.fragment.update(),
              this.attributes.forEach(at),
              this.eventHandlers.forEach(at));
        }),
        e
      );
    })(Af),
    Zf = [],
    Wf = (function (e) {
      function n(t, n) {
        e.call(this, t, n),
          (this.isReadonly = !this.root.ractive.syncComputedChildren),
          (this.dirty = !0),
          (this.isComputed = !0);
      }
      e && (n.__proto__ = e);
      var i = (n.prototype = Object.create(e && e.prototype));
      i.constructor = n;
      var r = { setRoot: {} };
      return (
        (r.setRoot.get = function () {
          return this.parent.setRoot;
        }),
        (i.applyValue = function (t) {
          if ((e.prototype.applyValue.call(this, t), !this.isReadonly)) {
            for (var n = this.parent; n && n.shuffle; ) n = n.parent;
            n && n.dependencies.forEach(Y);
          }
          this.setRoot && this.setRoot.set(this.setRoot.value);
        }),
        (i.get = function (t, e) {
          if ((t && H(this), this.dirty)) {
            var n = this.parent.get();
            (this.value = n ? n[this.key] : void 0),
              this.wrapper && (this.newWrapperValue = this.value),
              this.adapt();
          }
          return (
            (this.dirty = !1),
            (e && "unwrap" in e ? e.unwrap !== !1 : t) && this.wrapper
              ? this.wrapperValue
              : this.value
          );
        }),
        (i.handleChange = function () {
          return this.dirty
            ? void this.deps.forEach(Q)
            : ((this.dirty = !0),
              this.boundValue && (this.boundValue = null),
              this.links.forEach(X),
              this.deps.forEach(Q),
              void this.children.forEach(Q));
        }),
        (i.joinKey = function (e) {
          if (c(e) || "" === e) return this;
          if (!t(this.childByKey, e)) {
            var i = new n(this, e);
            this.children.push(i), (this.childByKey[e] = i);
          }
          return this.childByKey[e];
        }),
        Object.defineProperties(i, r),
        n
      );
    })(Rl),
    Gf = (function (t) {
      function e(e, n, i) {
        t.call(this, e, i),
          (this.signature = n),
          (this.isReadonly = !this.signature.setter),
          (this.isComputed = !0),
          (this.dependencies = []),
          (this.children = []),
          (this.childByKey = {}),
          (this.deps = []),
          (this.dirty = !0),
          (this.shuffle = void 0);
      }
      t && (e.__proto__ = t);
      var n = (e.prototype = Object.create(t && t.prototype));
      n.constructor = e;
      var r = { setRoot: {} };
      return (
        (r.setRoot.get = function () {
          return this.signature.setter ? this : void 0;
        }),
        (n.get = function (t, e) {
          if ((t && H(this), this.dirty)) {
            var n = this.value;
            (this.value = this.getValue()),
              Nl.active()
                ? i(n, this.value) || this.notifyUpstream()
                : (Nl.start(),
                  i(n, this.value) || this.notifyUpstream(),
                  Nl.end()),
              this.wrapper && (this.newWrapperValue = this.value),
              this.adapt(),
              (this.dirty = !1);
          }
          return K(
            this,
            this.wrapper && (e && "unwrap" in e ? e.unwrap !== !1 : t)
              ? this.wrapperValue
              : this.value,
            !e || e.shouldBind !== !1
          );
        }),
        (n.getContext = function () {
          return this.parent.isRoot
            ? this.root.ractive
            : this.parent.get(!1, Vo);
        }),
        (n.getValue = function () {
          $();
          var t;
          try {
            t = this.signature.getter.call(
              this.root.ractive,
              this.getContext(),
              this.getKeypath()
            );
          } catch (e) {
            if (
              (y(
                "Failed to compute " +
                  this.getKeypath() +
                  ": " +
                  (e.message || e)
              ),
              eo)
            ) {
              console.groupCollapsed &&
                console.groupCollapsed(
                  "%cshow details",
                  "color: rgb(82, 140, 224); font-weight: normal; text-decoration: underline;"
                );
              var n = this.signature;
              console.error(
                e.name +
                  ": " +
                  e.message +
                  "\n\n" +
                  n.getterString +
                  (n.getterUseStack ? "\n\n" + e.stack : "")
              ),
                console.groupCollapsed && console.groupEnd();
            }
          }
          var i = q();
          return (
            this.parent.keypath &&
              !~i.indexOf(this.parent) &&
              i.push(this.parent),
            this.setDependencies(i),
            t
          );
        }),
        (n.mark = function () {
          this.handleChange();
        }),
        (n.rebind = function (t, e) {
          t !== e && this.handleChange();
        }),
        (n.set = function (t) {
          if (this.isReadonly)
            throw new Error(
              "Cannot set read-only computed value '" + this.key + "'"
            );
          this.signature.setter(t, this.getContext(), this.getKeypath()),
            this.mark();
        }),
        (n.setDependencies = function (t) {
          for (var e = this, n = this.dependencies.length; n--; ) {
            var i = e.dependencies[n];
            ~t.indexOf(i) || i.unregister(e);
          }
          for (n = t.length; n--; ) {
            var r = t[n];
            ~e.dependencies.indexOf(r) || r.register(e);
          }
          this.dependencies = t;
        }),
        (n.teardown = function () {
          for (var e = this, n = this.dependencies.length; n--; )
            e.dependencies[n] && e.dependencies[n].unregister(e);
          this.parent.computed[this.key] === this &&
            delete this.parent.computed[this.key],
            t.prototype.teardown.call(this);
        }),
        Object.defineProperties(n, r),
        e
      );
    })(Rl),
    Qf = Gf.prototype,
    Yf = Wf.prototype;
  (Qf.handleChange = Yf.handleChange),
    (Qf.joinKey = Yf.joinKey),
    (Il.Computation = Gf);
  var Jf = (function (t) {
      function e(e, n) {
        var i = this;
        t.call(this, e.ractive.viewmodel, null),
          (this.fragment = e),
          (this.template = n),
          (this.isReadonly = !0),
          (this.isComputed = !0),
          (this.dirty = !0),
          (this.fn =
            e.ractive.allowExpressions === !1 ? f : ft(n.s, n.r.length)),
          (this.models = this.template.r.map(function (t) {
            return Ye(i.fragment, t);
          })),
          (this.dependencies = []),
          (this.shuffle = void 0),
          this.bubble();
      }
      t && (e.__proto__ = t);
      var n = (e.prototype = Object.create(t && t.prototype));
      return (
        (n.constructor = e),
        (n.bubble = function (t) {
          void 0 === t && (t = !0),
            (this.keypath = void 0),
            t && this.handleChange();
        }),
        (n.getKeypath = function () {
          var t = this;
          return this.template
            ? (this.keypath ||
                (this.keypath =
                  "@" +
                  this.template.s.replace(/_(\d+)/g, function (e, n) {
                    if (n >= t.models.length) return e;
                    var i = t.models[n];
                    return i ? i.getKeypath() : "@undefined";
                  })),
              this.keypath)
            : "@undefined";
        }),
        (n.getValue = function () {
          var t = this;
          $();
          var e;
          try {
            var n = this.models.map(function (t) {
              return t ? t.get(!0) : void 0;
            });
            e = this.fn.apply(this.fragment.ractive, n);
          } catch (i) {
            y(
              "Failed to compute " + this.getKeypath() + ": " + (i.message || i)
            );
          }
          var r = q();
          return (
            this.dependencies
              .filter(function (t) {
                return !~r.indexOf(t);
              })
              .forEach(function (e) {
                e.unregister(t), V(t.dependencies, e);
              }),
            r
              .filter(function (e) {
                return !~t.dependencies.indexOf(e);
              })
              .forEach(function (e) {
                e.register(t), t.dependencies.push(e);
              }),
            e
          );
        }),
        (n.notifyUpstream = function () {}),
        (n.rebind = function (t, e, n) {
          var i = this.models.indexOf(e);
          ~i &&
            ((t = ht(this.template.r[i], t, e)),
            t !== e &&
              (e.unregister(this),
              this.models.splice(i, 1, t),
              t && t.addShuffleRegister(this, "mark"))),
            this.bubble(!n);
        }),
        (n.rebound = function (t) {
          var e = this;
          (this.models = this.template.r.map(function (t) {
            return Ye(e.fragment, t);
          })),
            t && this.bubble(!0);
        }),
        (n.retrieve = function () {
          return this.get();
        }),
        (n.teardown = function () {
          var e = this;
          (this.fragment = void 0),
            this.dependencies &&
              this.dependencies.forEach(function (t) {
                return t.unregister(e);
              }),
            t.prototype.teardown.call(this);
        }),
        (n.unreference = function () {
          t.prototype.unreference.call(this), Gr(this);
        }),
        (n.unregister = function (e) {
          t.prototype.unregister.call(this, e), Gr(this);
        }),
        (n.unregisterLink = function (e) {
          t.prototype.unregisterLink.call(this, e), Gr(this);
        }),
        e
      );
    })(Rl),
    Xf = Jf.prototype,
    td = Gf.prototype;
  (Xf.get = td.get),
    (Xf.handleChange = td.handleChange),
    (Xf.joinKey = td.joinKey),
    (Xf.mark = td.mark),
    (Xf.unbind = f);
  var ed = { update: f, teardown: f },
    nd = function (t) {
      (this.owner = t.owner || t.up.owner || zn(t.up)),
        (this.element = this.owner.attributeByName ? this.owner : zn(t.up)),
        (this.up = t.up || this.owner.up),
        (this.ractive = this.up.ractive || this.owner.ractive);
      var e = (this.template = t.template);
      (this.name = e.n),
        (this.node = null),
        (this.handle = null),
        this.element.decorators.push(this);
    },
    id = nd.prototype;
  (id.bind = function () {
    var t =
      this.element === this.owner ? new Gp({ owner: this.owner }) : this.up;
    Qr(this, this.template, t, { register: !0 });
  }),
    (id.bubble = function () {
      this.dirty || ((this.dirty = !0), this.owner.bubble(), this.up.bubble());
    }),
    (id.destroyed = function () {
      this.handle && (this.handle.teardown(), (this.handle = null)),
        (this.shouldDestroy = !0);
    }),
    (id.handleChange = function () {
      this.bubble();
    }),
    (id.rebound = function (t) {
      this.model && this.model.rebound(t);
    }),
    (id.render = function () {
      var t = this;
      (this.shouldDestroy = !1), this.handle && this.unrender();
      var e = this.ractive;
      Nl.scheduleTask(function () {
        if (t.element.rendered) {
          var n = w("decorators", e, t.name);
          if (!n) return g(_o(t.name, "decorator")), void (t.handle = ed);
          t.node = t.element.node;
          var i = t.model ? t.model.get() : [];
          if (
            ((lc.f = t.up),
            (t.handle = n.apply(e, [t.node].concat(i))),
            (lc.f = null),
            !t.handle || !t.handle.teardown)
          )
            throw new Error(
              "The '" +
                t.name +
                "' decorator must return an object with a teardown method"
            );
          t.shouldDestroy && t.destroyed();
        }
      }, !0);
    }),
    (id.shuffled = function () {
      this.handle && this.handle.shuffled && this.handle.shuffled();
    }),
    (id.toString = function () {
      return "";
    }),
    (id.unbind = function () {
      Jr(this, this.template);
    }),
    (id.unrender = function (t) {
      (t && !this.element.rendered) ||
        !this.handle ||
        (this.handle.teardown(), (this.handle = null));
    }),
    (id.update = function () {
      var t = this.handle;
      if (!this.dirty)
        return void (
          t &&
          t.invalidate &&
          Nl.scheduleTask(function () {
            return t.invalidate();
          }, !0)
        );
      if (((this.dirty = !1), t))
        if (t.update) {
          var e = this.model ? this.model.get() : [];
          t.update.apply(this.ractive, e);
        } else this.unrender(), this.render();
    }),
    (nd.prototype.firstNode = f);
  var rd = (function (t) {
      function e() {
        t.apply(this, arguments);
      }
      t && (e.__proto__ = t);
      var n = (e.prototype = Object.create(t && t.prototype));
      return (
        (n.constructor = e),
        (n.toString = function () {
          return "<!DOCTYPE" + this.template.a + ">";
        }),
        e
      );
    })(Af),
    sd = rd.prototype;
  sd.bind = sd.render = sd.teardown = sd.unbind = sd.unrender = sd.update = f;
  var ad = function (t, e) {
      void 0 === e && (e = "value"),
        (this.element = t),
        (this.ractive = t.ractive),
        (this.attribute = t.attributeByName[e]);
      var n = this.attribute.interpolator;
      n.twowayBinding = this;
      var i = n.model;
      if (i.isReadonly && !i.setRoot) {
        var r = i.getKeypath().replace(/^@/, "");
        return (
          b(
            "Cannot use two-way binding on <" +
              t.name +
              "> element: " +
              r +
              " is read-only. To suppress this warning use <" +
              t.name +
              " twoway='false'...>",
            { ractive: this.ractive }
          ),
          !1
        );
      }
      (this.attribute.isTwoway = !0), (this.model = i);
      var s = i.get();
      (this.wasUndefined = c(s)),
        c(s) &&
          this.getInitialValue &&
          ((s = this.getInitialValue()), i.set(s)),
        this.lastVal(!0, s);
      var a = zn(this.element, !1, "form");
      a && ((this.resetValue = s), a.formBindings.push(this));
    },
    od = ad.prototype;
  (od.bind = function () {
    this.model.registerTwowayBinding(this);
  }),
    (od.handleChange = function () {
      var t = this,
        e = this.getValue();
      this.lastVal() !== e &&
        (Nl.start(),
        (this.attribute.locked = !0),
        this.model.set(e),
        this.lastVal(!0, e),
        this.model.get() !== e
          ? (this.attribute.locked = !1)
          : Nl.scheduleTask(function () {
              return (t.attribute.locked = !1);
            }),
        Nl.end());
    }),
    (od.lastVal = function (t, e) {
      return t ? void (this.lastValue = e) : this.lastValue;
    }),
    (od.rebind = function (t, e) {
      var n = this;
      this.model && this.model === e && e.unregisterTwowayBinding(this),
        t &&
          ((this.model = t),
          Nl.scheduleTask(function () {
            return t.registerTwowayBinding(n);
          }));
    }),
    (od.rebound = function () {
      this.model && this.model.unregisterTwowayBinding(this),
        (this.model = this.attribute.interpolator.model),
        this.model && this.model.registerTwowayBinding(this);
    }),
    (od.render = function () {
      (this.node = this.element.node),
        (this.node._ractive.binding = this),
        (this.rendered = !0);
    }),
    (od.setFromNode = function (t) {
      this.model.set(t.value);
    }),
    (od.unbind = function () {
      this.model && this.model.unregisterTwowayBinding(this);
    }),
    (ad.prototype.unrender = f);
  var ud = (function (t) {
      function e(e) {
        t.call(this, e, "checked");
      }
      t && (e.__proto__ = t);
      var n = (e.prototype = Object.create(t && t.prototype));
      return (
        (n.constructor = e),
        (n.render = function () {
          t.prototype.render.call(this),
            this.element.on("change", Xr),
            this.node.attachEvent && this.element.on("click", Xr);
        }),
        (n.unrender = function () {
          this.element.off("change", Xr),
            this.node.attachEvent && this.element.off("click", Xr);
        }),
        (n.getInitialValue = function () {
          return !!this.element.getAttribute("checked");
        }),
        (n.getValue = function () {
          return this.node.checked;
        }),
        (n.setFromNode = function (t) {
          this.model.set(t.checked);
        }),
        e
      );
    })(ad),
    hd = function (t, e, n) {
      var i = this;
      (this.model = e),
        (this.hash = t),
        (this.getValue = function () {
          return (i.value = n.call(i)), i.value;
        }),
        (this.bindings = []);
    },
    ld = hd.prototype;
  (ld.add = function (t) {
    this.bindings.push(t);
  }),
    (ld.bind = function () {
      var t = this;
      (this.value = this.model.get()),
        this.bindings.forEach(function (e) {
          return e.lastVal(!0, t.value);
        }),
        this.model.registerTwowayBinding(this),
        (this.bound = !0);
    }),
    (ld.remove = function (t) {
      V(this.bindings, t), this.bindings.length || this.unbind();
    }),
    (ld.unbind = function () {
      this.model.unregisterTwowayBinding(this),
        (this.bound = !1),
        delete this.model[this.hash];
    }),
    (hd.prototype.rebind = ad.prototype.rebind);
  var cd = [].push,
    fd = (function (t) {
      function e(e) {
        if (
          (t.call(this, e, "name"),
          (this.checkboxName = !0),
          (this.group = ts("checkboxes", this.model, es)),
          this.group.add(this),
          this.noInitialValue && (this.group.noInitialValue = !0),
          this.group.noInitialValue && this.element.getAttribute("checked"))
        ) {
          var n = this.model.get(),
            i = this.element.getAttribute("value");
          this.arrayContains(n, i) || cd.call(n, i);
        }
      }
      t && (e.__proto__ = t);
      var n = (e.prototype = Object.create(t && t.prototype));
      return (
        (n.constructor = e),
        (n.bind = function () {
          this.group.bound || this.group.bind();
        }),
        (n.getInitialValue = function () {
          return (this.noInitialValue = !0), [];
        }),
        (n.getValue = function () {
          return this.group.value;
        }),
        (n.handleChange = function () {
          this.isChecked = this.element.node.checked;
          var e = this.model.get();
          this.group.value = void 0 === e ? [] : e.slice();
          var n = this.element.getAttribute("value");
          this.isChecked && !this.arrayContains(this.group.value, n)
            ? this.group.value.push(n)
            : !this.isChecked &&
              this.arrayContains(this.group.value, n) &&
              this.removeFromArray(this.group.value, n),
            (this.lastValue = null),
            t.prototype.handleChange.call(this);
        }),
        (n.render = function () {
          t.prototype.render.call(this);
          var e = this.node,
            n = this.model.get(),
            i = this.element.getAttribute("value");
          Ga(n)
            ? (this.isChecked = this.arrayContains(n, i))
            : (this.isChecked = this.element.compare(n, i)),
            (e.name = "{{" + this.model.getKeypath() + "}}"),
            (e.checked = this.isChecked),
            this.element.on("change", Xr),
            this.node.attachEvent && this.element.on("click", Xr);
        }),
        (n.setFromNode = function (t) {
          if (
            (this.group.bindings.forEach(function (t) {
              return (t.wasUndefined = !0);
            }),
            t.checked)
          ) {
            var e = this.group.getValue();
            e.push(this.element.getAttribute("value")), this.group.model.set(e);
          }
        }),
        (n.unbind = function () {
          this.group.remove(this);
        }),
        (n.unrender = function () {
          var t = this.element;
          t.off("change", Xr), this.node.attachEvent && t.off("click", Xr);
        }),
        (n.arrayContains = function (t, e) {
          for (var n = this, i = t.length; i--; )
            if (n.element.compare(e, t[i])) return !0;
          return !1;
        }),
        (n.removeFromArray = function (t, e) {
          var n = this;
          if (t)
            for (var i = t.length; i--; )
              n.element.compare(e, t[i]) && t.splice(i, 1);
        }),
        e
      );
    })(ad),
    dd = (function (t) {
      function e() {
        t.apply(this, arguments);
      }
      t && (e.__proto__ = t);
      var n = (e.prototype = Object.create(t && t.prototype));
      return (
        (n.constructor = e),
        (n.getInitialValue = function () {
          return this.element.fragment ? this.element.fragment.toString() : "";
        }),
        (n.getValue = function () {
          return this.element.node.innerHTML;
        }),
        (n.render = function () {
          t.prototype.render.call(this);
          var e = this.element;
          e.on("change", Xr),
            e.on("blur", Xr),
            this.ractive.lazy ||
              (e.on("input", Xr), this.node.attachEvent && e.on("keyup", Xr));
        }),
        (n.setFromNode = function (t) {
          this.model.set(t.innerHTML);
        }),
        (n.unrender = function () {
          var t = this.element;
          t.off("blur", Xr),
            t.off("change", Xr),
            t.off("input", Xr),
            t.off("keyup", Xr);
        }),
        e
      );
    })(ad),
    pd = (function (t) {
      function e() {
        t.apply(this, arguments);
      }
      t && (e.__proto__ = t);
      var n = (e.prototype = Object.create(t && t.prototype));
      return (
        (n.constructor = e),
        (n.getInitialValue = function () {
          return "";
        }),
        (n.getValue = function () {
          return this.node.value;
        }),
        (n.render = function () {
          t.prototype.render.call(this);
          var e = this.ractive.lazy,
            n = !1,
            i = this.element;
          "lazy" in this.element && (e = this.element.lazy),
            r(e) && ((n = +e), (e = !1)),
            (this.handler = n ? is(n) : Xr);
          var s = this.node;
          i.on("change", Xr),
            "file" !== s.type &&
              (e ||
                (i.on("input", this.handler),
                s.attachEvent && i.on("keyup", this.handler)),
              i.on("blur", ns));
        }),
        (n.unrender = function () {
          var t = this.element;
          (this.rendered = !1),
            t.off("change", Xr),
            t.off("input", this.handler),
            t.off("keyup", this.handler),
            t.off("blur", ns);
        }),
        e
      );
    })(ad),
    md = (function (t) {
      function e() {
        t.apply(this, arguments);
      }
      t && (e.__proto__ = t);
      var n = (e.prototype = Object.create(t && t.prototype));
      return (
        (n.constructor = e),
        (n.getInitialValue = function () {
          return void 0;
        }),
        (n.getValue = function () {
          return this.node.files;
        }),
        (n.render = function () {
          (this.element.lazy = !1), t.prototype.render.call(this);
        }),
        (n.setFromNode = function (t) {
          this.model.set(t.files);
        }),
        e
      );
    })(pd),
    vd = (function (t) {
      function e() {
        t.apply(this, arguments);
      }
      t && (e.__proto__ = t);
      var n = (e.prototype = Object.create(t && t.prototype));
      return (
        (n.constructor = e),
        (n.getInitialValue = function () {
          return this.element.options
            .filter(function (t) {
              return t.getAttribute("selected");
            })
            .map(function (t) {
              return t.getAttribute("value");
            });
        }),
        (n.getValue = function () {
          for (
            var t = this.element.node.options, e = t.length, n = [], i = 0;
            e > i;
            i += 1
          ) {
            var r = t[i];
            if (r.selected) {
              var s = r._ractive ? r._ractive.value : r.value;
              n.push(s);
            }
          }
          return n;
        }),
        (n.handleChange = function () {
          var e = this.attribute,
            n = e.getValue(),
            i = this.getValue();
          return (
            (c(n) || !N(i, n)) && t.prototype.handleChange.call(this), this
          );
        }),
        (n.render = function () {
          t.prototype.render.call(this),
            this.element.on("change", Xr),
            c(this.model.get()) && this.handleChange();
        }),
        (n.setFromNode = function (t) {
          for (var e = rs(t), n = e.length, i = new Array(n); n--; ) {
            var r = e[n];
            i[n] = r._ractive ? r._ractive.value : r.value;
          }
          this.model.set(i);
        }),
        (n.unrender = function () {
          this.element.off("change", Xr);
        }),
        e
      );
    })(ad),
    gd = (function (t) {
      function e() {
        t.apply(this, arguments);
      }
      t && (e.__proto__ = t);
      var n = (e.prototype = Object.create(t && t.prototype));
      return (
        (n.constructor = e),
        (n.getInitialValue = function () {
          return void 0;
        }),
        (n.getValue = function () {
          var t = parseFloat(this.node.value);
          return isNaN(t) ? void 0 : t;
        }),
        (n.setFromNode = function (t) {
          var e = parseFloat(t.value);
          isNaN(e) || this.model.set(e);
        }),
        e
      );
    })(pd),
    yd = {},
    bd = (function (t) {
      function e(e) {
        t.call(this, e, "checked"),
          (this.siblings = ss(
            this.ractive._guid + this.element.getAttribute("name")
          )),
          this.siblings.push(this);
      }
      t && (e.__proto__ = t);
      var n = (e.prototype = Object.create(t && t.prototype));
      return (
        (n.constructor = e),
        (n.getValue = function () {
          return this.node.checked;
        }),
        (n.handleChange = function () {
          Nl.start(),
            this.siblings.forEach(function (t) {
              t.model.set(t.getValue());
            }),
            Nl.end();
        }),
        (n.render = function () {
          t.prototype.render.call(this),
            this.element.on("change", Xr),
            this.node.attachEvent && this.element.on("click", Xr);
        }),
        (n.setFromNode = function (t) {
          this.model.set(t.checked);
        }),
        (n.unbind = function () {
          V(this.siblings, this);
        }),
        (n.unrender = function () {
          this.element.off("change", Xr),
            this.node.attachEvent && this.element.off("click", Xr);
        }),
        e
      );
    })(ad),
    wd = (function (t) {
      function e(e) {
        var n = this;
        t.call(this, e, "name"),
          (this.group = ts("radioname", this.model, as)),
          this.group.add(this),
          e.checked && (this.group.value = this.getValue()),
          (this.attribute.interpolator.pathChanged = function () {
            return n.updateName();
          });
      }
      t && (e.__proto__ = t);
      var n = (e.prototype = Object.create(t && t.prototype));
      return (
        (n.constructor = e),
        (n.bind = function () {
          this.group.bound || this.group.bind();
        }),
        (n.getInitialValue = function () {
          return this.element.getAttribute("checked")
            ? this.element.getAttribute("value")
            : void 0;
        }),
        (n.getValue = function () {
          return this.element.getAttribute("value");
        }),
        (n.handleChange = function () {
          this.node.checked &&
            ((this.group.value = this.getValue()),
            t.prototype.handleChange.call(this)),
            this.updateName();
        }),
        (n.lastVal = function (t, e) {
          return this.group
            ? t
              ? void (this.group.lastValue = e)
              : this.group.lastValue
            : void 0;
        }),
        (n.rebind = function (e, n) {
          t.prototype.rebind.call(this, e, n), this.updateName();
        }),
        (n.rebound = function (e) {
          t.prototype.rebound.call(this, e), this.updateName();
        }),
        (n.render = function () {
          t.prototype.render.call(this);
          var e = this.node;
          this.updateName(),
            (e.checked = this.element.compare(
              this.model.get(),
              this.element.getAttribute("value")
            )),
            this.element.on("change", Xr),
            e.attachEvent && this.element.on("click", Xr);
        }),
        (n.setFromNode = function (t) {
          t.checked && this.group.model.set(this.element.getAttribute("value"));
        }),
        (n.unbind = function () {
          this.group.remove(this);
        }),
        (n.unrender = function () {
          var t = this.element;
          t.off("change", Xr), this.node.attachEvent && t.off("click", Xr);
        }),
        (n.updateName = function () {
          this.node && (this.node.name = "{{" + this.model.getKeypath() + "}}");
        }),
        e
      );
    })(ad),
    xd = (function (t) {
      function e() {
        t.apply(this, arguments);
      }
      t && (e.__proto__ = t);
      var n = (e.prototype = Object.create(t && t.prototype));
      return (
        (n.constructor = e),
        (n.forceUpdate = function () {
          var t = this,
            e = this.getValue();
          void 0 !== e &&
            ((this.attribute.locked = !0),
            Nl.scheduleTask(function () {
              return (t.attribute.locked = !1);
            }),
            this.model.set(e));
        }),
        (n.getInitialValue = function () {
          if (void 0 === this.element.getAttribute("value")) {
            var t = this.element.options,
              e = t.length;
            if (e) {
              for (var n, i, r = e; r--; ) {
                var s = t[r];
                if (s.getAttribute("selected")) {
                  s.getAttribute("disabled") || (n = s.getAttribute("value")),
                    (i = !0);
                  break;
                }
              }
              if (!i)
                for (; ++r < e; )
                  if (!t[r].getAttribute("disabled")) {
                    n = t[r].getAttribute("value");
                    break;
                  }
              return (
                void 0 !== n && (this.element.attributeByName.value.value = n),
                n
              );
            }
          }
        }),
        (n.getValue = function () {
          var t,
            e = this.node.options,
            n = e.length;
          for (t = 0; n > t; t += 1) {
            var i = e[t];
            if (e[t].selected && !e[t].disabled)
              return i._ractive ? i._ractive.value : i.value;
          }
        }),
        (n.render = function () {
          t.prototype.render.call(this), this.element.on("change", Xr);
        }),
        (n.setFromNode = function (t) {
          var e = rs(t)[0];
          this.model.set(e._ractive ? e._ractive.value : e.value);
        }),
        (n.unrender = function () {
          this.element.off("change", Xr);
        }),
        e
      );
    })(ad),
    kd = /;\s*$/,
    _d = (function (t) {
      function e(e) {
        var n = this;
        if (
          (t.call(this, e),
          (this.name = e.template.e.toLowerCase()),
          (this.parent = zn(this.up, !1)),
          this.parent && "option" === this.parent.name)
        )
          throw new Error(
            "An <option> element cannot contain other elements (encountered <" +
              this.name +
              ">)"
          );
        (this.decorators = []), (this.attributeByName = {});
        for (
          var i,
            r,
            s,
            a,
            o,
            u,
            l,
            c,
            f = this.template.m,
            d = (f && f.length) || 0,
            p = 0;
          d > p;
          p++
        )
          if (((l = f[p]), l.g))
            (n.statics || (n.statics = {}))[l.n] = h(l.f) ? l.f : l.n;
          else
            switch (l.t) {
              case nu:
              case Ku:
              case Ru:
              case Iu:
              case Bu:
                (s = sa({ owner: n, up: n.up, template: l })),
                  (r = l.n),
                  (i = i || (i = n.attributes = [])),
                  "value" === r
                    ? (a = s)
                    : "name" === r
                    ? (u = s)
                    : "class" === r
                    ? (o = s)
                    : i.push(s);
                break;
              case Lu:
                n.delegate = !1;
                break;
              default:
                (c || (c = [])).push(l);
            }
        a && i.push(a),
          u && i.push(u),
          o && i.unshift(o),
          c &&
            ((i || (this.attributes = [])).push(
              new Mf({ owner: this, up: this.up, template: c })
            ),
            (c = [])),
          e.template.f &&
            !e.deferContent &&
            (this.fragment = new Gp({
              template: e.template.f,
              owner: this,
              cssIds: null,
            })),
          (this.binding = null);
      }
      t && (e.__proto__ = t);
      var n = (e.prototype = Object.create(t && t.prototype));
      return (
        (n.constructor = e),
        (n.bind = function () {
          var t = this.attributes;
          if (t) {
            t.binding = !0;
            for (var e = t.length, n = 0; e > n; n++) t[n].bind();
            t.binding = !1;
          }
          this.fragment && this.fragment.bind(),
            this.binding ? this.binding.bind() : this.recreateTwowayBinding();
        }),
        (n.createTwowayBinding = function () {
          if ("twoway" in this ? this.twoway : this.ractive.twoway) {
            var t = us(this);
            if (t) {
              var e = new t(this);
              if (e && e.model) return e;
            }
          }
        }),
        (n.destroyed = function () {
          this.attributes && this.attributes.forEach(G),
            this.fragment && this.fragment.destroyed();
        }),
        (n.detach = function () {
          return this.rendered || this.destroyed(), si(this.node);
        }),
        (n.find = function (t, e) {
          return this.node && vc(this.node, t)
            ? this.node
            : this.fragment
            ? this.fragment.find(t, e)
            : void 0;
        }),
        (n.findAll = function (t, e) {
          var n = e.result;
          vc(this.node, t) && n.push(this.node),
            this.fragment && this.fragment.findAll(t, e);
        }),
        (n.findNextNode = function () {
          return null;
        }),
        (n.firstNode = function () {
          return this.node;
        }),
        (n.getAttribute = function (t) {
          if (this.statics && t in this.statics) return this.statics[t];
          var e = this.attributeByName[t];
          return e ? e.getValue() : void 0;
        }),
        (n.getContext = function () {
          for (var t = [], e = arguments.length; e--; ) t[e] = arguments[e];
          return this.fragment
            ? (n = this.fragment).getContext.apply(n, t)
            : (this.ctx || (this.ctx = new fc(this.up, this)),
              t.unshift($a(this.ctx)),
              Ua.apply(null, t));
          var n;
        }),
        (n.off = function (t, e, n) {
          void 0 === n && (n = !1);
          var i = this.up.delegate,
            r = this.listeners && this.listeners[t];
          if (r)
            if ((V(r, e), i)) {
              var s =
                (i.listeners || (i.listeners = [])) &&
                (i.listeners[t] || (i.listeners[t] = []));
              s.refs && !--s.refs && i.off(t, ms, !0);
            } else if (this.rendered) {
              var a = this.node,
                o = a.addEventListener,
                u = a.removeEventListener;
              r.length
                ? r.length &&
                  !r.refs &&
                  n &&
                  (u.call(a, t, gs, !0), o.call(a, t, gs, !1))
                : u.call(a, t, gs, n);
            }
        }),
        (n.on = function (t, e, n) {
          void 0 === n && (n = !1);
          var i = this.up.delegate,
            r =
              (this.listeners || (this.listeners = {}))[t] ||
              (this.listeners[t] = []);
          if (i) {
            var s =
              ((i.listeners || (i.listeners = [])) && i.listeners[t]) ||
              (i.listeners[t] = []);
            s.refs ? s.refs++ : ((s.refs = 0), i.on(t, ms, !0), s.refs++);
          } else if (this.rendered) {
            var a = this.node,
              o = a.addEventListener,
              u = a.removeEventListener;
            r.length
              ? r.length &&
                !r.refs &&
                n &&
                (u.call(a, t, gs, !1), o.call(a, t, gs, !0))
              : o.call(a, t, gs, n);
          }
          C(this.listeners[t], e);
        }),
        (n.recreateTwowayBinding = function () {
          this.binding && (this.binding.unbind(), this.binding.unrender()),
            (this.binding = this.createTwowayBinding()) &&
              (this.binding.bind(), this.rendered && this.binding.render());
        }),
        (n.rebound = function (e) {
          t.prototype.rebound.call(this, e),
            this.attributes &&
              this.attributes.forEach(function (t) {
                return t.rebound(e);
              }),
            this.binding && this.binding.rebound(e);
        }),
        (n.render = function (t, e) {
          var n = this;
          this.namespace = cs(this);
          var i,
            r = !1;
          if (e)
            for (var s; (s = e.shift()); ) {
              if (
                s.nodeName.toUpperCase() === n.template.e.toUpperCase() &&
                s.namespaceURI === n.namespace
              ) {
                (n.node = i = s), (r = !0);
                break;
              }
              si(s);
            }
          if (
            (!r && this.node && ((i = this.node), t.appendChild(i), (r = !0)),
            !i)
          ) {
            var a = this.template.e;
            (i = mc(
              this.namespace === Sc ? a.toLowerCase() : a,
              this.namespace,
              this.getAttribute("is")
            )),
              (this.node = i);
          }
          qa(i, "_ractive", { value: { proxy: this }, configurable: !0 }),
            this.statics &&
              Za(this.statics).forEach(function (t) {
                i.setAttribute(t, n.statics[t]);
              }),
            r && this.foundNode && this.foundNode(i);
          var o = this.intro;
          if (
            (o &&
              o.shouldFire("intro") &&
              ((o.isIntro = !0), (o.isOutro = !1), Nl.registerTransition(o)),
            this.fragment)
          ) {
            var u = r ? M(i.childNodes) : void 0;
            this.fragment.render(i, u), u && u.forEach(si);
          }
          if (r) {
            this.binding &&
              this.binding.wasUndefined &&
              this.binding.setFromNode(i);
            for (var h = i.attributes.length; h--; ) {
              var l = i.attributes[h].name;
              l in n.attributeByName ||
                (n.statics && l in n.statics) ||
                i.removeAttribute(l);
            }
          }
          if (
            (this.up.cssIds &&
              i.setAttribute(
                "data-ractive-css",
                this.up.cssIds
                  .map(function (t) {
                    return "{" + t + "}";
                  })
                  .join(" ")
              ),
            this.attributes)
          )
            for (var c = this.attributes.length, f = 0; c > f; f++)
              n.attributes[f].render();
          if (
            (this.binding && this.binding.render(),
            !this.up.delegate && this.listeners)
          ) {
            var d = this.listeners;
            for (var p in d)
              d[p] &&
                d[p].length &&
                n.node.addEventListener(p, gs, !!d[p].refs);
          }
          r || t.appendChild(i), (this.rendered = !0);
        }),
        (n.shuffled = function () {
          t.prototype.shuffled.call(this), this.decorators.forEach(nt);
        }),
        (n.toString = function () {
          var t = this,
            e = this.template.e,
            n = (this.attributes && this.attributes.map(ls).join("")) || "";
          this.statics &&
            Za(this.statics).forEach(function (e) {
              return (
                "class" !== e &&
                "style" !== e &&
                (n = " " + e + '="' + oi(t.statics[e]) + '"' + n)
              );
            }),
            "option" === this.name && this.isSelected() && (n += " selected"),
            "input" === this.name && hs(this) && (n += " checked");
          var i = this.statics ? this.statics.style : void 0,
            r = this.statics ? this.statics["class"] : void 0;
          this.attributes &&
            this.attributes.forEach(function (t) {
              "class" === t.name
                ? (r = (r || "") + (r ? " " : "") + oi(t.getString()))
                : "style" === t.name
                ? ((i = (i || "") + (i ? " " : "") + oi(t.getString())),
                  i && !kd.test(i) && (i += ";"))
                : t.style
                ? (i =
                    (i || "") +
                    (i ? " " : "") +
                    t.style +
                    ": " +
                    oi(t.getString()) +
                    ";")
                : t.inlineClass &&
                  t.getValue() &&
                  (r = (r || "") + (r ? " " : "") + t.inlineClass);
            }),
            void 0 !== i && (n = " style" + (i ? '="' + i + '"' : "") + n),
            void 0 !== r && (n = " class" + (r ? '="' + r + '"' : "") + n),
            this.up.cssIds &&
              (n +=
                ' data-ractive-css="' +
                this.up.cssIds
                  .map(function (t) {
                    return "{" + t + "}";
                  })
                  .join(" ") +
                '"');
          var s = "<" + e + n + ">";
          return Hu[this.name.toLowerCase()]
            ? s
            : ("textarea" === this.name && void 0 !== this.getAttribute("value")
                ? (s += bt(this.getAttribute("value")))
                : void 0 !== this.getAttribute("contenteditable") &&
                  (s += this.getAttribute("value") || ""),
              this.fragment &&
                (s += this.fragment.toString(
                  !/^(?:script|style)$/i.test(this.template.e)
                )),
              (s += "</" + e + ">"));
        }),
        (n.unbind = function (t) {
          var e = this.attributes;
          if (e) {
            e.unbinding = !0;
            for (var n = e.length, i = 0; n > i; i++) e[i].unbind(t);
            e.unbinding = !1;
          }
          this.binding && this.binding.unbind(t),
            this.fragment && this.fragment.unbind(t);
        }),
        (n.unrender = function (t) {
          if (this.rendered) {
            this.rendered = !1;
            var e = this.intro;
            e && e.complete && e.complete(),
              "option" === this.name
                ? this.detach()
                : t && Nl.detachWhenReady(this);
            var n = this.outro;
            n &&
              n.shouldFire("outro") &&
              ((n.isIntro = !1), (n.isOutro = !0), Nl.registerTransition(n)),
              this.fragment && this.fragment.unrender(),
              this.binding && this.binding.unrender();
          }
        }),
        (n.update = function () {
          if (this.dirty) {
            this.dirty = !1;
            var t = this.attributes;
            if (t) for (var e = t.length, n = 0; e > n; n++) t[n].update();
            this.fragment && this.fragment.update();
          }
        }),
        e
      );
    })(Of),
    Ed = !1,
    Sd = !1,
    Ad = !1,
    Cd = null !== Ya ? Ya.UIEvent : null,
    Od = (function (t) {
      function e(e) {
        t.call(this, e), (this.formBindings = []);
      }
      t && (e.__proto__ = t);
      var n = (e.prototype = Object.create(t && t.prototype));
      return (
        (n.constructor = e),
        (n.render = function (e, n) {
          t.prototype.render.call(this, e, n), this.on("reset", ys);
        }),
        (n.unrender = function (e) {
          this.off("reset", ys), t.prototype.unrender.call(this, e);
        }),
        e
      );
    })(_d),
    Nd = function (t, e) {
      -1 !== t.indexOf("*") &&
        p(
          'Only component proxy-events may contain "*" wildcards, <' +
            e.name +
            " on-" +
            t +
            '="..."/> is not valid'
        ),
        (this.name = t),
        (this.owner = e),
        (this.handler = null);
    },
    jd = Nd.prototype;
  (jd.bind = function () {}),
    (jd.render = function (t) {
      var e = this,
        n = this.name,
        i = function () {
          var i = e.owner.node;
          e.owner.on(
            n,
            (e.handler = function (e) {
              return t.fire({ node: i, original: e, event: e, name: n });
            })
          );
        };
      "load" !== n ? Nl.scheduleTask(i, !0) : i();
    }),
    (jd.unbind = function () {}),
    (jd.unrender = function () {
      this.handler && this.owner.off(this.name, this.handler);
    });
  var Td = function (t, e, n, i) {
      (this.eventPlugin = t),
        (this.owner = e),
        (this.name = n),
        (this.handler = null),
        (this.args = i);
    },
    Vd = Td.prototype;
  (Vd.bind = function () {}),
    (Vd.render = function (t) {
      var e = this;
      Nl.scheduleTask(function () {
        var n = e.owner.node;
        (lc.f = t.up),
          (e.handler = e.eventPlugin.apply(
            e.owner.ractive,
            [
              n,
              function (i) {
                return (
                  void 0 === i && (i = {}),
                  i.original ? (i.event = i.original) : (i.original = i.event),
                  (i.name = e.name),
                  (i.node = i.node || n),
                  t.fire(i)
                );
              },
            ].concat(e.args || [])
          )),
          (lc.f = null);
      });
    }),
    (Vd.unbind = function () {}),
    (Vd.unrender = function () {
      var t = this;
      this.handler
        ? this.handler.teardown()
        : Nl.scheduleTask(function () {
            return t.handler && t.handler.teardown();
          });
    });
  var Pd = function (t, e) {
      (this.component = t), (this.name = e), (this.handler = null);
    },
    Md = Pd.prototype;
  (Md.bind = function (t) {
    var e = this.component.instance;
    this.handler = e.on(this.name, function () {
      for (var n = [], i = arguments.length; i--; ) n[i] = arguments[i];
      if (n[0] instanceof fc) {
        var r = n.shift();
        (r.component = e), t.fire(r, n);
      } else t.fire({}, n);
      return !1;
    });
  }),
    (Md.render = function () {}),
    (Md.unbind = function () {
      this.handler.cancel();
    }),
    (Md.unrender = function () {});
  var Id = /^(event|arguments|@node|@event|@context)(\..+)?$/,
    Rd = /^\$(\d+)(\..+)?$/,
    Bd = function (t) {
      (this.owner = t.owner || t.up.owner || zn(t.up)),
        (this.element = this.owner.attributeByName ? this.owner : zn(t.up, !0)),
        (this.template = t.template),
        (this.up = t.up),
        (this.ractive = t.up.ractive),
        (this.events = []);
    },
    Kd = Bd.prototype;
  (Kd.bind = function () {
    var t = this;
    if (
      (this.events.length &&
        (this.events.forEach(function (t) {
          return t.unrender();
        }),
        (this.events = [])),
      this.element.type === ru || this.element.type === eu)
    )
      this.template.n.forEach(function (e) {
        t.events.push(new Pd(t.element, e));
      });
    else {
      var e;
      if ((e = this.template.a)) {
        var n = e.r.map(function (e) {
          var n = Ye(t.up, e);
          return n ? n.get() : void 0;
        });
        try {
          e = ft(e.s, n.length).apply(null, n);
        } catch (i) {
          (e = null),
            y(
              "Failed to compute args for event on-" +
                this.template.n.join("- ") +
                ": " +
                (i.message || i)
            );
        }
      }
      this.template.n.forEach(function (n) {
        var i = w("events", t.ractive, n);
        i
          ? t.events.push(new Td(i, t.element, n, e))
          : t.events.push(new Nd(n, t.element));
      });
    }
    (this.models = null),
      C(this.element.events || (this.element.events = []), this),
      Qr(this, this.template),
      this.fn || (this.action = this.template.f),
      this.events.forEach(function (e) {
        return e.bind(t);
      });
  }),
    (Kd.destroyed = function () {
      this.events.forEach(function (t) {
        return t.unrender();
      });
    }),
    (Kd.fire = function (t, e) {
      var n = this;
      void 0 === e && (e = []);
      var i = t instanceof fc && t.refire ? t : this.element.getContext(t);
      if (this.fn) {
        var r = [],
          s = Yr(this, this.template, this.up, {
            specialRef: function (t) {
              var e = Id.exec(t);
              if (e)
                return { special: e[1], keys: e[2] ? S(e[2].substr(1)) : [] };
              var n = Rd.exec(t);
              return n
                ? {
                    special: "arguments",
                    keys: [n[1] - 1].concat(n[2] ? S(n[2].substr(1)) : []),
                  }
                : void 0;
            },
          });
        s &&
          s.forEach(function (s) {
            if (!s) return r.push(void 0);
            if (s.special) {
              var a,
                o = s.special;
              "@node" === o
                ? (a = n.element.node)
                : "@event" === o
                ? (a = t && t.event)
                : "event" === o
                ? (b(
                    "The event reference available to event directives is deprecated and should be replaced with @context and @event"
                  ),
                  (a = i))
                : (a = "@context" === o ? i : e);
              for (var u = s.keys.slice(); a && u.length; ) a = a[u.shift()];
              return r.push(a);
            }
            return s.wrapper ? r.push(s.wrapperValue) : void r.push(s.get());
          });
        var a = this.ractive,
          o = a.event;
        a.event = i;
        var u = this.fn.apply(a, r),
          l = u.pop();
        if (l === !1) {
          var c = t ? t.original : void 0;
          c
            ? (c.preventDefault && c.preventDefault(),
              c.stopPropagation && c.stopPropagation())
            : b(
                "handler '" +
                  this.template.n.join(" ") +
                  "' returned false, but there is no event available to cancel"
              );
        } else
          !u.length &&
            Ga(l) &&
            h(l[0]) &&
            (l = wn(this.ractive, l.shift(), i, l));
        return (a.event = o), l;
      }
      return wn(this.ractive, this.action, i, e);
    }),
    (Kd.handleChange = function () {}),
    (Kd.render = function () {
      var t = this;
      this.events.forEach(function (e) {
        return e.render(t);
      });
    }),
    (Kd.toString = function () {
      return "";
    }),
    (Kd.unbind = function (t) {
      V(this.element.events, this),
        this.events.forEach(function (e) {
          return e.unbind(t);
        });
    }),
    (Kd.unrender = function () {
      this.events.forEach(function (t) {
        return t.unrender();
      });
    });
  var Ld = Bd.prototype;
  Ld.firstNode = Ld.rebound = Ld.update = f;
  var Dd = (function (t) {
      function e(e, n) {
        t.call(this, null, null, null, "@undefined"),
          (this.root = e.ractive.viewmodel),
          (this.template = n),
          (this.rootLink = !0),
          (this.template = n),
          (this.fragment = e),
          this.rebound();
      }
      t && (e.__proto__ = t);
      var n = (e.prototype = Object.create(t && t.prototype));
      return (
        (n.constructor = e),
        (n.getKeypath = function () {
          return this.model ? this.model.getKeypath() : "@undefined";
        }),
        (n.rebound = function () {
          var t,
            e = this,
            n = this.fragment,
            i = this.template,
            r = (this.base = _s(n, i));
          this.proxy && xs(this);
          var s = (this.proxy = {
            rebind: function (n, o) {
              o === r
                ? ((n = ht(i, n, o)), n !== r && (e.base = r = n))
                : ~(t = a.indexOf(o)) &&
                  ((n = ht(i.m[t].n, n, o)),
                  n !== a[t] && a.splice(t, 1, n || Bo)),
                n !== o &&
                  (o.unregister(s),
                  n &&
                    n.addShuffleTask(function () {
                      return n.register(s);
                    }));
            },
            handleChange: function () {
              o();
            },
          });
          r.register(s);
          var a = (this.members = i.m.map(function (t) {
              if (h(t))
                return {
                  get: function () {
                    return t;
                  },
                };
              var e;
              return t.t === yu
                ? ((e = Ye(n, t.n)), e.register(s), e)
                : ((e = new Jf(n, t)), e.register(s), e);
            })),
            o = function () {
              var t =
                r &&
                r.joinAll(
                  a.reduce(function (t, e) {
                    var n = e.get();
                    return Ga(n) ? t.concat(n) : (t.push(_(String(n))), t);
                  }, [])
                );
              t !== e.model &&
                ((e.model = t),
                e.relinking(t),
                F(),
                ks(e),
                e.fragment.shuffled());
            };
          o();
        }),
        (n.teardown = function () {
          xs(this), t.prototype.teardown.call(this);
        }),
        (n.unreference = function () {
          t.prototype.unreference.call(this),
            this.deps.length || this.refs || this.teardown();
        }),
        (n.unregister = function (e) {
          t.prototype.unregister.call(this, e),
            this.deps.length || this.refs || this.teardown();
        }),
        e
      );
    })(Ko),
    Fd = Jf.prototype,
    zd = Dd.prototype;
  (zd.unreference = Fd.unreference),
    (zd.unregister = Fd.unregister),
    (zd.unregisterLink = Fd.unregisterLink);
  var Ud = (function (t) {
      function e(e) {
        t.call(this, e),
          e.owner && (this.parent = e.owner),
          (this.isStatic = !!e.template.s),
          (this.model = null),
          (this.dirty = !1);
      }
      t && (e.__proto__ = t);
      var n = (e.prototype = Object.create(t && t.prototype));
      return (
        (n.constructor = e),
        (n.bind = function (t) {
          var e = this.template.y
              ? this.template.y.containerFragment
              : this.containerFragment || this.up,
            n = t || _s(e, this.template);
          if (n) {
            var i = n.get();
            if (this.isStatic)
              return (
                (this.model = {
                  get: function () {
                    return i;
                  },
                }),
                void n.unreference()
              );
            n.register(this), (this.model = n);
          }
        }),
        (n.handleChange = function () {
          this.bubble();
        }),
        (n.rebind = function (t, e, n) {
          return this.isStatic
            ? void 0
            : ((t = ht(this.template, t, e, this.up)),
              t === this.model
                ? !1
                : (this.model && this.model.unregister(this),
                  t && t.addShuffleRegister(this, "mark"),
                  (this.model = t),
                  n || this.handleChange(),
                  !0));
        }),
        (n.rebound = function (t) {
          if (this.model) {
            if (this.model.rebound) this.model.rebound(t);
            else {
              var e = this.template.y
                  ? this.template.y.containerFragment
                  : this.containerFragment || this.up,
                n = _s(e, this.template);
              n !== this.model && (this.model.unregister(this), this.bind(n));
            }
            t && this.bubble();
          }
          this.fragment && this.fragment.rebound(t);
        }),
        (n.unbind = function () {
          this.isStatic ||
            (this.model && this.model.unregister(this), (this.model = void 0));
        }),
        e
      );
    })(Af),
    $d = (Es.prototype = Object.create(Of.prototype));
  Ua($d, Ud.prototype, { constructor: Es });
  var qd = (function (t) {
      function e() {
        t.apply(this, arguments);
      }
      t && (e.__proto__ = t);
      var n = (e.prototype = Object.create(t && t.prototype));
      return (
        (n.constructor = e),
        (n.bubble = function () {
          this.owner && this.owner.bubble(), t.prototype.bubble.call(this);
        }),
        (n.detach = function () {
          return si(this.node);
        }),
        (n.firstNode = function () {
          return this.node;
        }),
        (n.getString = function () {
          return this.model ? ai(this.model.get()) : "";
        }),
        (n.render = function (t, e) {
          if (!Cr()) {
            var n = (this.value = this.getString());
            (this.rendered = !0), ws(this, t, e, n);
          }
        }),
        (n.toString = function (t) {
          var e = this.getString();
          return t ? bt(e) : e;
        }),
        (n.unrender = function (t) {
          t && this.detach(), (this.rendered = !1);
        }),
        (n.update = function () {
          if (this.dirty && ((this.dirty = !1), this.rendered)) {
            var t = this.getString();
            t !== this.value && (this.node.data = this.value = t);
          }
        }),
        (n.valueOf = function () {
          return this.model ? this.model.get() : void 0;
        }),
        e
      );
    })(Ud),
    Hd = (function (t) {
      function e() {
        t.apply(this, arguments);
      }
      t && (e.__proto__ = t);
      var n = (e.prototype = Object.create(t && t.prototype));
      return (
        (n.constructor = e),
        (n.render = function (e, n) {
          t.prototype.render.call(this, e, n),
            (this.node.defaultValue = this.node.value);
        }),
        (n.compare = function (t, e) {
          var n = this.getAttribute("value-comparator");
          if (n) {
            if (u(n)) return n(t, e);
            if (t && e) return t[n] == e[n];
          }
          return t == e;
        }),
        e
      );
    })(_d),
    Zd = { true: !0, false: !1, null: null, undefined: void 0 },
    Wd = new RegExp("^(?:" + Za(Zd).join("|") + ")"),
    Gd =
      /^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,
    Qd = /\$\{([^\}]+)\}/g,
    Yd = /^\$\{([^\}]+)\}/,
    Jd = /^\s*$/,
    Xd = Uo.extend({
      init: function (t, e) {
        (this.values = e.values), this.sp();
      },
      postProcess: function (t) {
        return 1 === t.length && Jd.test(this.leftover)
          ? { value: t[0].v }
          : null;
      },
      converters: [
        function (e) {
          if (!e.values) return null;
          var n = e.matchPattern(Yd);
          return n && t(e.values, n) ? { v: e.values[n] } : void 0;
        },
        function (t) {
          var e = t.matchPattern(Wd);
          return e ? { v: Zd[e] } : void 0;
        },
        function (t) {
          var e = t.matchPattern(Gd);
          return e ? { v: +e } : void 0;
        },
        function (t) {
          var e = Et(t),
            n = t.values;
          return e && n
            ? {
                v: e.v.replace(Qd, function (t, e) {
                  return e in n ? n[e] : e;
                }),
              }
            : e;
        },
        function (t) {
          if (!t.matchString("{")) return null;
          var e = {};
          if ((t.sp(), t.matchString("}"))) return { v: e };
          for (var n; (n = Ss(t)); ) {
            if (((e[n.key] = n.value), t.sp(), t.matchString("}")))
              return { v: e };
            if (!t.matchString(",")) return null;
          }
          return null;
        },
        function (t) {
          if (!t.matchString("[")) return null;
          var e = [];
          if ((t.sp(), t.matchString("]"))) return { v: e };
          for (var n; (n = t.read()); ) {
            if ((e.push(n.v), t.sp(), t.matchString("]"))) return { v: e };
            if (!t.matchString(",")) return null;
            t.sp();
          }
          return null;
        },
      ],
    }),
    tp = (function (t) {
      function e(e) {
        t.call(this, e),
          (this.name = e.template.n),
          (this.owner = e.owner || e.up.owner || e.element || zn(e.up)),
          (this.element =
            e.element || (this.owner.attributeByName ? this.owner : zn(e.up))),
          (this.up = this.element.up),
          (this.ractive = this.up.ractive),
          (this.element.attributeByName[this.name] = this),
          (this.value = e.template.f);
      }
      t && (e.__proto__ = t);
      var n = (e.prototype = Object.create(t && t.prototype));
      return (
        (n.constructor = e),
        (n.bind = function () {
          var t = this.template.f,
            e = this.element.instance.viewmodel;
          if (0 === t) e.joinKey(this.name).set(!0);
          else if (h(t)) {
            var n = As(t);
            e.joinKey(this.name).set(n ? n.value : t);
          } else Ga(t) && Cs(this, !0);
        }),
        (n.rebound = function (t) {
          if (
            (this.boundFragment && this.boundFragment.rebound(t), this.link)
          ) {
            this.model = _s(this.up, this.template.f[0]);
            var e = this.element.instance.viewmodel.joinAll(S(this.name));
            e.link(this.model, this.name, { mapping: !0 });
          }
        }),
        (n.render = function () {}),
        (n.unbind = function (t) {
          this.model && this.model.unregister(this),
            this.boundFragment && this.boundFragment.unbind(t),
            this.element.bound &&
              this.link.target === this.model &&
              this.link.owner.unlink();
        }),
        (n.unrender = function () {}),
        (n.update = function () {
          this.dirty &&
            ((this.dirty = !1),
            this.boundFragment && this.boundFragment.update());
        }),
        e
      );
    })(Af),
    ep = (function (t) {
      function e(e) {
        var n = e.template;
        n.a || (n.a = {}),
          !c(n.a.value) || "disabled" in n.a || (n.a.value = n.f || ""),
          t.call(this, e),
          (this.select = zn(this.parent || this.up, !1, "select"));
      }
      t && (e.__proto__ = t);
      var n = (e.prototype = Object.create(t && t.prototype));
      return (
        (n.constructor = e),
        (n.bind = function () {
          if (!this.select) return void t.prototype.bind.call(this);
          var e = this.attributeByName.selected;
          if (e && void 0 !== this.select.getAttribute("value")) {
            var n = this.attributes.indexOf(e);
            this.attributes.splice(n, 1), delete this.attributeByName.selected;
          }
          t.prototype.bind.call(this), this.select.options.push(this);
        }),
        (n.bubble = function () {
          var e = this.getAttribute("value");
          this.node && this.node.value !== e && (this.node._ractive.value = e),
            t.prototype.bubble.call(this);
        }),
        (n.getAttribute = function (t) {
          var e = this.attributeByName[t];
          return e
            ? e.getValue()
            : "value" === t && this.fragment
            ? this.fragment.valueOf()
            : void 0;
        }),
        (n.isSelected = function () {
          var t = this,
            e = this.getAttribute("value");
          if (c(e) || !this.select) return !1;
          var n = this.select.getAttribute("value");
          if (this.select.compare(n, e)) return !0;
          if (this.select.getAttribute("multiple") && Ga(n))
            for (var i = n.length; i--; )
              if (t.select.compare(n[i], e)) return !0;
        }),
        (n.render = function (e, n) {
          t.prototype.render.call(this, e, n),
            this.attributeByName.value ||
              (this.node._ractive.value = this.getAttribute("value"));
        }),
        (n.unbind = function (e) {
          t.prototype.unbind.call(this, e),
            this.select && V(this.select.options, this);
        }),
        e
      );
    })(_d),
    np = (Ps.prototype = $a(Es.prototype));
  Ua(np, {
    constructor: Ps,
    bind: function () {
      var t = this.template;
      if (this.yielder) {
        if (
          ((this.container = this.up.ractive),
          (this.component = this.container.component),
          (this.containerFragment = this.up),
          !this.component)
        )
          return (
            (this.fragment = new Gp({ owner: this, template: [] })),
            void this.fragment.bind()
          );
        (this.up = this.component.up),
          t.r || t.x || t.rx || (this.refName = "content");
      }
      this.macro
        ? (this.fn = this.macro)
        : (this.refName || (this.refName = t.r),
          this.refName && Rs(this, this.refName),
          this.partial ||
            this.fn ||
            (Es.prototype.bind.call(this),
            this.model && Rs(this, this.model.get()))),
        this.partial ||
          this.fn ||
          b("Could not find template for partial '" + this.name + "'"),
        Ms(this, this.partial || []),
        this.fn && Ls(this),
        this.fragment.bind();
    },
    bubble: function () {
      this.dirty ||
        ((this.dirty = !0),
        this.yielder ? this.containerFragment.bubble() : this.up.bubble());
    },
    findNextNode: function () {
      return (this.containerFragment || this.up).findNextNode(this);
    },
    handleChange: function () {
      (this.dirtyTemplate = !0), (this.externalChange = !0), this.bubble();
    },
    rebound: function (t) {
      var e = this;
      this._attrs &&
        Za(this._attrs).forEach(function (n) {
          return e._attrs[n].rebound(t);
        }),
        Es.prototype.rebound.call(this, t);
    },
    refreshAttrs: function () {
      var t = this;
      Za(this._attrs).forEach(function (e) {
        t.handle.attributes[e] =
          !t._attrs[e].items.length || t._attrs[e].valueOf();
      });
    },
    resetTemplate: function () {
      var t = this;
      if (this.fn && this.proxy) {
        if (((this.last = 0), !this.externalChange))
          return (this.partial = this.fnTemplate), !0;
        u(this.proxy.teardown) && this.proxy.teardown(),
          (this.fn = this.proxy = null);
      }
      if (
        ((this.partial = null),
        this.refName &&
          (this.partial = Os(this.ractive, this.refName, this.up)),
        !this.partial && this.model && Rs(this, this.model.get()),
        !this.fn)
      ) {
        if (this.last && this.partial === this.last) return !1;
        this.partial && ((this.last = this.partial), Is(this));
      }
      return (
        this.unbindAttrs(),
        this.fn
          ? (Ls(this),
            u(this.proxy.render) &&
              Nl.scheduleTask(function () {
                return t.proxy.render();
              }))
          : this.partial ||
            b("Could not find template for partial '" + this.name + "'"),
        !0
      );
    },
    render: function (t, e) {
      this.fn && this.fn._cssDef && !this.fn._cssDef.applied && Ai(),
        this.fragment.render(t, e),
        this.proxy && u(this.proxy.render) && this.proxy.render();
    },
    unbind: function (t) {
      this.fragment.unbind(t),
        this.unbindAttrs(t),
        Es.prototype.unbind.call(this, t);
    },
    unbindAttrs: function (t) {
      var e = this;
      this._attrs &&
        Za(this._attrs).forEach(function (n) {
          e._attrs[n].unbind(t);
        });
    },
    unrender: function (t) {
      this.proxy && u(this.proxy.teardown) && this.proxy.teardown(),
        this.fragment.unrender(t);
    },
    update: function () {
      var t = this,
        e = this.proxy;
      (this.updating = 1),
        this.dirtyAttrs &&
          ((this.dirtyAttrs = !1),
          Za(this._attrs).forEach(function (e) {
            return t._attrs[e].update();
          }),
          this.refreshAttrs(),
          u(e.update) && e.update(this.handle.attributes)),
        this.dirtyTemplate &&
          ((this.dirtyTemplate = !1),
          this.resetTemplate() &&
            this.fragment.resetTemplate(this.partial || [])),
        this.dirty &&
          ((this.dirty = !1),
          e && u(e.invalidate) && e.invalidate(),
          this.fragment.update()),
        (this.externalChange = !1),
        (this.updating = 0);
    },
  });
  var ip = "extra-attributes",
    rp = function (t, e, n) {
      (this.value = this.key = t),
        (this.context = e),
        (this.isReadonly = this.isKey = !0),
        (this.deps = []),
        (this.links = []),
        (this.children = []),
        (this.instance = n);
    },
    sp = rp.prototype;
  (sp.applyValue = function (t) {
    t !== this.value &&
      ((this.value = this.key = t),
      this.deps.forEach(Q),
      this.links.forEach(Q),
      this.children.forEach(function (t) {
        t.applyValue(t.context.getKeypath(t.instance));
      }));
  }),
    (sp.destroyed = function () {
      this.upstream && this.upstream.unregisterChild(this);
    }),
    (sp.get = function (t) {
      return t && H(this), A(this.value);
    }),
    (sp.getKeypath = function () {
      return A(this.value);
    }),
    (sp.has = function () {
      return !1;
    }),
    (sp.rebind = function (t, e) {
      for (var n = this, i = this.deps.length; i--; )
        n.deps[i].rebind(t, e, !1);
      for (i = this.links.length; i--; ) n.links[i].relinking(t, !1);
    }),
    (sp.register = function (t) {
      this.deps.push(t);
    }),
    (sp.registerChild = function (t) {
      C(this.children, t), (t.upstream = this);
    }),
    (sp.registerLink = function (t) {
      C(this.links, t);
    }),
    (sp.unregister = function (t) {
      V(this.deps, t);
    }),
    (sp.unregisterChild = function (t) {
      V(this.children, t);
    }),
    (sp.unregisterLink = function (t) {
      V(this.links, t);
    }),
    (rp.prototype.reference = f),
    (rp.prototype.unreference = f);
  var ap = /^"(\\"|[^"])+"$/,
    op = function (t) {
      (this.parent = t.owner.up),
        (this.up = this),
        (this.owner = t.owner),
        (this.ractive = this.parent.ractive),
        (this.delegate =
          this.ractive.delegate !== !1 &&
          (this.parent.delegate || Fs(this.parent))),
        this.delegate && this.delegate.delegate === !1 && (this.delegate = !1),
        this.delegate && (this.delegate.delegate = this.delegate),
        (this.cssIds =
          "cssIds" in t ? t.cssIds : this.parent ? this.parent.cssIds : null),
        (this.context = null),
        (this.rendered = !1),
        (this.iterations = []),
        (this.template = t.template),
        (this.indexRef = t.indexRef),
        (this.keyRef = t.keyRef),
        (this.pendingNewIndices = null),
        (this.previousIterations = null),
        (this.isArray = !1);
    },
    up = op.prototype;
  (up.bind = function (t) {
    var e = this;
    (this.context = t), (this.bound = !0);
    var n = t.get(),
      i = (this.aliases =
        this.owner.template.z && this.owner.template.z.slice()),
      r =
        i &&
        i.find(function (t) {
          return "shuffle" === t.n;
        });
    r &&
      r.x &&
      r.x.x &&
      ("true" === r.x.x.s
        ? (this.shuffler = !0)
        : ap.test(r.x.x.s) && (this.shuffler = S(r.x.x.s.slice(1, -1)))),
      this.shuffler && (this.values = Us(this, this.shuffler)),
      this.source && this.source.model.unbind(this.source);
    var a =
      t.isComputed &&
      i &&
      i.find(function (t) {
        return "source" === t.n;
      });
    if (a && a.x && a.x.r) {
      var o = _s(this, a.x);
      (this.source = {
        handleChange: function () {},
        rebind: function (t) {
          this.model.unregister(this), (this.model = t), t.register(this);
        },
      }),
        (this.source.model = o),
        o.register(this.source);
    }
    if ((this.isArray = Ga(n))) {
      this.iterations = [];
      for (var u = (this.length = n.length), h = 0; u > h; h += 1)
        e.iterations[h] = e.createIteration(h, h);
    } else if (s(n)) {
      if (((this.isArray = !1), this.indexRef)) {
        var l = this.indexRef.split(",");
        (this.keyRef = l[0]), (this.indexRef = l[1]);
      }
      var c = Za(n);
      (this.length = c.length),
        (this.iterations = c.map(function (t, n) {
          return e.createIteration(t, n);
        }));
    }
    return this;
  }),
    (up.bubble = function (t) {
      this.bubbled || (this.bubbled = []),
        this.bubbled.push(t),
        this.rebounding || this.owner.bubble();
    }),
    (up.createIteration = function (t, e) {
      var n = new Gp({ owner: this, template: this.template });
      return (
        (n.isIteration = !0),
        (n.delegate = this.delegate),
        this.aliases && (n.aliases = {}),
        zs(this, n, t, e),
        n.bind(n.context)
      );
    }),
    (up.destroyed = function () {
      for (var t = this, e = this.iterations.length, n = 0; e > n; n++)
        t.iterations[n].destroyed();
      this.pathModel && this.pathModel.destroyed(),
        this.rootModel && this.rootModel.destroyed();
    }),
    (up.detach = function () {
      var t = ii();
      return (
        this.iterations.forEach(function (e) {
          return t.appendChild(e.detach());
        }),
        t
      );
    }),
    (up.find = function (t, e) {
      return I(this.iterations, function (n) {
        return n.find(t, e);
      });
    }),
    (up.findAll = function (t, e) {
      return this.iterations.forEach(function (n) {
        return n.findAll(t, e);
      });
    }),
    (up.findAllComponents = function (t, e) {
      return this.iterations.forEach(function (n) {
        return n.findAllComponents(t, e);
      });
    }),
    (up.findComponent = function (t, e) {
      return I(this.iterations, function (n) {
        return n.findComponent(t, e);
      });
    }),
    (up.findContext = function () {
      return this.context;
    }),
    (up.findNextNode = function (t) {
      var e = this;
      if (t.index < this.iterations.length - 1)
        for (var n = t.index + 1; n < this.iterations.length; n++) {
          var i = e.iterations[n].firstNode(!0);
          if (i) return i;
        }
      return this.owner.findNextNode();
    }),
    (up.firstNode = function (t) {
      return this.iterations[0] ? this.iterations[0].firstNode(t) : null;
    }),
    (up.getLast = function () {
      return this.lastModel || (this.lastModel = new rp(this.length - 1));
    }),
    (up.rebind = function (t) {
      var e = this;
      (this.context = t),
        this.source ||
          (t &&
            this.iterations.forEach(function (t) {
              zs(e, t, t.key, t.index);
            }));
    }),
    (up.rebound = function (t) {
      var e = this;
      (this.context = this.owner.model),
        this.iterations.forEach(function (n, i) {
          (n.context = $s(e, n, i)), n.rebound(t);
        });
    }),
    (up.render = function (t, e) {
      var n = this.iterations;
      if (n) for (var i = n.length, r = 0; i > r; r++) n[r].render(t, e);
      this.rendered = !0;
    }),
    (up.shuffle = function (t, e) {
      var n = this;
      this.pendingNewIndices ||
        (this.previousIterations = this.iterations.slice()),
        this.pendingNewIndices || (this.pendingNewIndices = []),
        this.pendingNewIndices.push(t);
      var i = [];
      t.forEach(function (t, r) {
        if (-1 !== t) {
          var s = n.iterations[r];
          (i[t] = s),
            t !== r && s && ((s.dirty = !0), e && (s.shouldRebind = 1));
        }
      }),
        (this.iterations = i),
        e || this.bubble();
    }),
    (up.shuffled = function () {
      this.iterations.forEach(nt);
    }),
    (up.toString = function (t) {
      return this.iterations ? this.iterations.map(t ? ut : ot).join("") : "";
    }),
    (up.unbind = function (t) {
      (this.bound = !1),
        this.source && this.source.model.unregister(this.source);
      for (
        var e = this.pendingNewIndices
            ? this.previousIterations
            : this.iterations,
          n = e.length,
          i = 0;
        n > i;
        i++
      )
        e[i].unbind(t);
      return this;
    }),
    (up.unrender = function (t) {
      for (var e = this, n = this.iterations.length, i = 0; n > i; i++)
        e.iterations[i].unrender(t);
      if (this.pendingNewIndices && this.previousIterations) {
        n = this.previousIterations.length;
        for (var r = 0; n > r; r++) e.previousIterations[r].unrender(t);
      }
      this.rendered = !1;
    }),
    (up.update = function () {
      var t = this;
      if (this.pendingNewIndices)
        return (this.bubbled.length = 0), void this.updatePostShuffle();
      if (!this.updating) {
        if (((this.updating = !0), this.shuffler)) {
          var e = Us(this, this.shuffler),
            n = R(this.values, e);
          n.same
            ? this.iterations.forEach(at)
            : (this.shuffle(n, !0), this.updatePostShuffle());
        } else {
          for (var i = this.iterations.length, r = 0; i > r; r++) {
            var a = t.iterations[r];
            a && a.idxModel && a.idxModel.applyValue(r);
          }
          var o,
            u,
            h,
            l = this.context.get(),
            c = this.isArray,
            f = !0;
          if ((this.isArray = Ga(l))) {
            if (this.source) {
              this.rebounding = 1;
              var d = this.source.model.get();
              this.iterations.forEach(function (e, n) {
                n < l.length &&
                  e.lastValue !== l[n] &&
                  ~(h = d.indexOf(l[n])) &&
                  (zs(t, e, n, n), e.rebound(!0));
              }),
                (this.rebounding = 0);
            }
            c &&
              ((f = !1),
              this.iterations.length > l.length &&
                (o = this.iterations.splice(l.length)));
          } else if (s(l) && !c)
            for (f = !1, o = [], u = {}, h = this.iterations.length; h--; ) {
              var p = t.iterations[h];
              p.key in l
                ? (u[p.key] = !0)
                : (t.iterations.splice(h, 1), o.push(p));
            }
          var m = Ga(l) ? l.length : s(l) ? Za(l).length : 0;
          if (
            ((this.length = m),
            this.updateLast(),
            f && ((o = this.iterations), (this.iterations = [])),
            o)
          ) {
            i = o.length;
            for (var v = 0; i > v; v++) o[v].unbind().unrender(!0);
          }
          if (!f && this.isArray && this.bubbled && this.bubbled.length) {
            var g = this.bubbled;
            (this.bubbled = []), (i = g.length);
            for (var y = 0; i > y; y++)
              t.iterations[g[y]] && t.iterations[g[y]].update();
          } else {
            i = this.iterations.length;
            for (var b = 0; i > b; b++) t.iterations[b].update();
          }
          var w, x;
          if (m > this.iterations.length) {
            if (
              ((w = this.rendered ? ii() : null),
              (h = this.iterations.length),
              Ga(l))
            )
              for (; h < l.length; )
                (x = t.createIteration(h, h)),
                  t.iterations.push(x),
                  t.rendered && x.render(w),
                  (h += 1);
            else if (s(l)) {
              if (this.indexRef && !this.keyRef) {
                var k = this.indexRef.split(",");
                (this.keyRef = k[0]), (this.indexRef = k[1]);
              }
              Za(l).forEach(function (e) {
                (u && e in u) ||
                  ((x = t.createIteration(e, h)),
                  t.iterations.push(x),
                  t.rendered && x.render(w),
                  (h += 1));
              });
            }
            if (this.rendered) {
              var _ = this.parent.findParentNode(),
                E = this.parent.findNextNode(this.owner);
              _.insertBefore(w, E);
            }
          }
        }
        this.updating = !1;
      }
    }),
    (up.updateLast = function () {
      this.lastModel && this.lastModel.applyValue(this.length - 1);
    }),
    (up.updatePostShuffle = function () {
      var t = this,
        e = this.pendingNewIndices[0],
        n = this.rendered ? this.parent.findParentNode() : null,
        i = n && this.owner.findNextNode(),
        r = n ? ii() : null;
      this.pendingNewIndices.slice(1).forEach(function (t) {
        e.forEach(function (n, i) {
          e[i] = t[n];
        });
      });
      var s,
        a,
        u,
        h,
        l,
        f,
        d = (this.length = this.context.get().length),
        p = this.previousIterations,
        m = this.iterations,
        v = this.context.get(),
        g = {},
        y = new Array(e.length);
      for (
        e.forEach(function (t, e) {
          return (y[t] = e);
        }),
          this.updateLast(),
          s = u = 0;
        d > s;

      )
        c(y[s])
          ? ((h = m[s] = t.createIteration(s, s)),
            n &&
              ((l = p[u]),
              (l = (l && n && l.firstNode()) || i),
              h.render(r),
              n.insertBefore(r, l)),
            s++)
          : ((a = e[u]),
            -1 === a
              ? (p[u] && p[u].unbind().unrender(!0), (p[u++] = 0))
              : a > s
              ? ((g[a] = p[u]), (p[u++] = null))
              : ((m[s] = h = m[s] || g[s] || t.createIteration(s, s)),
                (g[s] || u !== s) &&
                  ((f = t.source && h.lastValue !== v[s]), zs(t, h, s, s)),
                !n ||
                  (!g[s] && p[u]) ||
                  ((l = p[u + 1]),
                  (l = (l && n && l.firstNode()) || i),
                  g[s]
                    ? n.insertBefore(h.detach(), l)
                    : (h.render(r), n.insertBefore(r, l))),
                (p[u++] = 0),
                s++),
            h &&
              o(h) &&
              ((h.shouldRebind || f) && (h.rebound(f), (h.shouldRebind = 0)),
              h.update(),
              h.shuffled()));
      for (var b = p.length, w = 0; b > w; w++)
        p[w] && p[w].unbind().unrender(!0);
      this.shuffler && (this.values = Us(this, this.shuffler)),
        (this.pendingNewIndices = null),
        (this.previousIterations = null);
    }),
    (op.prototype.getContext = rn),
    (op.prototype.getKeypath = ua);
  var hp = (function (t) {
      function e(e) {
        t.call(this, e),
          (this.isAlias = e.template.t === uu),
          (this.sectionType = e.template.n || (this.isAlias && Nu) || null),
          (this.templateSectionType = this.sectionType),
          (this.subordinate = 1 === e.template.l),
          (this.fragment = null);
      }
      t && (e.__proto__ = t);
      var n = (e.prototype = Object.create(t && t.prototype));
      return (
        (n.constructor = e),
        (n.bind = function () {
          t.prototype.bind.call(this),
            this.subordinate &&
              ((this.sibling = this.up.items[this.up.items.indexOf(this) - 1]),
              (this.sibling.nextSibling = this)),
            this.model || this.isAlias
              ? ((this.dirty = !0), this.update())
              : !this.sectionType ||
                this.sectionType !== Cu ||
                (this.sibling && this.sibling.isTruthy()) ||
                (this.fragment = new Gp({
                  owner: this,
                  template: this.template.f,
                }).bind());
        }),
        (n.bubble = function () {
          !this.dirty && this["yield"]
            ? ((this.dirty = !0), this.containerFragment.bubble())
            : t.prototype.bubble.call(this);
        }),
        (n.detach = function () {
          var e = this.fragment || this.detached;
          return e ? e.detach() : t.prototype.detach.call(this);
        }),
        (n.findNextNode = function () {
          return (this.containerFragment || this.up).findNextNode(this);
        }),
        (n.isTruthy = function () {
          if (this.subordinate && this.sibling.isTruthy()) return !0;
          var t = this.model
            ? this.model.isRoot
              ? this.model.value
              : this.model.get()
            : void 0;
          return !(!t || (this.templateSectionType !== ju && qs(t)));
        }),
        (n.rebind = function (e, n, i) {
          t.prototype.rebind.call(this, e, n, i) &&
            this.fragment &&
            this.sectionType !== Au &&
            this.sectionType !== Cu &&
            this.fragment.rebind(e);
        }),
        (n.rebound = function (e) {
          this.model &&
            (this.model.rebound
              ? this.model.rebound(e)
              : (t.prototype.unbind.call(this),
                t.prototype.bind.call(this),
                (this.sectionType === Nu ||
                  this.sectionType === ju ||
                  this.sectionType === Ou) &&
                  this.fragment &&
                  this.fragment.rebind(this.model),
                e && this.bubble())),
            this.fragment && this.fragment.rebound(e);
        }),
        (n.render = function (t, e) {
          (this.rendered = !0), this.fragment && this.fragment.render(t, e);
        }),
        (n.shuffle = function (t) {
          this.fragment && this.sectionType === Ou && this.fragment.shuffle(t);
        }),
        (n.unbind = function (e) {
          t.prototype.unbind.call(this, e),
            this.fragment && this.fragment.unbind(e);
        }),
        (n.unrender = function (t) {
          this.rendered && this.fragment && this.fragment.unrender(t),
            (this.rendered = !1);
        }),
        (n.update = function () {
          var t = this;
          if (
            this.dirty &&
            (this.fragment &&
              this.sectionType !== Au &&
              this.sectionType !== Cu &&
              (this.fragment.context = this.model),
            this.model || this.sectionType === Cu || this.isAlias)
          ) {
            this.dirty = !1;
            var e = this.model
                ? this.model.isRoot
                  ? this.model.value
                  : this.model.get()
                : void 0,
              n = !this.subordinate || !this.sibling.isTruthy(),
              i = this.sectionType;
            this["yield"] && this["yield"] !== e
              ? ((this.up = this.containerFragment),
                (this.container = null),
                (this["yield"] = null),
                this.rendered && this.fragment.unbind().unrender(!0),
                (this.fragment = null))
              : this.rendered &&
                !this["yield"] &&
                e instanceof fc &&
                (this.rendered &&
                  this.fragment &&
                  this.fragment.unbind().unrender(!0),
                (this.fragment = null)),
              (null === this.sectionType ||
                null === this.templateSectionType) &&
                (this.sectionType = Hs(e, this.template.i)),
              i &&
                i !== this.sectionType &&
                this.fragment &&
                (this.rendered && this.fragment.unbind().unrender(!0),
                (this.fragment = null));
            var r,
              s =
                this.sectionType === Ou ||
                this.sectionType === Nu ||
                (n &&
                  (this.sectionType === Cu
                    ? !this.isTruthy()
                    : this.isTruthy())) ||
                this.isAlias;
            if (s)
              if (
                (this.fragment || (this.fragment = this.detached),
                this.fragment)
              )
                this.detached &&
                  (Zs(this, this.fragment),
                  (this.detached = !1),
                  (this.rendered = !0)),
                  this.fragment.bound || this.fragment.bind(this.model),
                  this.fragment.update();
              else if (this.sectionType === Ou)
                r = new op({
                  owner: this,
                  template: this.template.f,
                  indexRef: this.template.i,
                }).bind(this.model);
              else {
                var a =
                  this.sectionType !== Au && this.sectionType !== Cu
                    ? this.model
                    : null;
                e instanceof fc &&
                  ((this["yield"] = e),
                  (this.containerFragment = this.up),
                  (this.up = e.fragment),
                  (this.container = e.ractive),
                  (a = void 0)),
                  (r = new Gp({ owner: this, template: this.template.f }).bind(
                    a
                  ));
              }
            else
              this.fragment && this.rendered
                ? $l !== !0
                  ? this.fragment.unbind().unrender(!0)
                  : (this.unrender(!1),
                    (this.detached = this.fragment),
                    Nl.promise().then(function () {
                      t.detached && t.detach();
                    }))
                : this.fragment && this.fragment.unbind(),
                (this.fragment = null);
            r && (this.rendered && Zs(this, r), (this.fragment = r)),
              this.nextSibling &&
                ((this.nextSibling.dirty = !0), this.nextSibling.update());
          }
        }),
        e
      );
    })(Es),
    lp = (function (t) {
      function e(e) {
        t.call(this, e), (this.options = []);
      }
      t && (e.__proto__ = t);
      var n = (e.prototype = Object.create(t && t.prototype));
      return (
        (n.constructor = e),
        (n.foundNode = function (t) {
          if (this.binding) {
            var e = rs(t);
            e.length > 0 && (this.selectedOptions = e);
          }
        }),
        (n.render = function (e, n) {
          t.prototype.render.call(this, e, n), this.sync();
          for (var i = this.node, r = i.options.length; r--; )
            i.options[r].defaultSelected = i.options[r].selected;
          this.rendered = !0;
        }),
        (n.sync = function () {
          var t = this,
            e = this.node;
          if (e) {
            var n = M(e.options);
            if (this.selectedOptions)
              return (
                n.forEach(function (e) {
                  t.selectedOptions.indexOf(e) >= 0
                    ? (e.selected = !0)
                    : (e.selected = !1);
                }),
                this.binding.setFromNode(e),
                void delete this.selectedOptions
              );
            var i = this.getAttribute("value"),
              r = this.getAttribute("multiple"),
              s = r && Ga(i);
            if (void 0 !== i) {
              var a;
              n.forEach(function (e) {
                var n = e._ractive ? e._ractive.value : e.value,
                  o = r ? s && t.valueContains(i, n) : t.compare(i, n);
                o && (a = !0), (e.selected = o);
              }),
                a || r || (this.binding && this.binding.forceUpdate());
            } else
              this.binding &&
                this.binding.forceUpdate &&
                this.binding.forceUpdate();
          }
        }),
        (n.valueContains = function (t, e) {
          for (var n = this, i = t.length; i--; )
            if (n.compare(e, t[i])) return !0;
        }),
        (n.compare = function (t, e) {
          var n = this.getAttribute("value-comparator");
          if (n) {
            if (u(n)) return n(e, t);
            if (e && t) return e[n] == t[n];
          }
          return e == t;
        }),
        (n.update = function () {
          var e = this.dirty;
          t.prototype.update.call(this), e && this.sync();
        }),
        e
      );
    })(_d),
    cp = (function (t) {
      function e(e) {
        var n = e.template;
        (e.deferContent = !0),
          t.call(this, e),
          this.attributeByName.value ||
            (n.f && os({ template: n })
              ? (this.attributes || (this.attributes = [])).push(
                  sa({
                    owner: this,
                    template: { t: nu, f: n.f, n: "value" },
                    up: this.up,
                  })
                )
              : (this.fragment = new Gp({
                  owner: this,
                  cssIds: null,
                  template: n.f,
                })));
      }
      t && (e.__proto__ = t);
      var n = (e.prototype = Object.create(t && t.prototype));
      return (
        (n.constructor = e),
        (n.bubble = function () {
          var t = this;
          this.dirty ||
            ((this.dirty = !0),
            this.rendered &&
              !this.binding &&
              this.fragment &&
              Nl.scheduleTask(function () {
                (t.dirty = !1), (t.node.value = t.fragment.toString());
              }),
            this.up.bubble());
        }),
        e
      );
    })(Hd),
    fp = (function (t) {
      function e(e) {
        t.call(this, e), (this.type = qo);
      }
      t && (e.__proto__ = t);
      var n = (e.prototype = Object.create(t && t.prototype));
      return (
        (n.constructor = e),
        (n.detach = function () {
          return si(this.node);
        }),
        (n.firstNode = function () {
          return this.node;
        }),
        (n.render = function (t, e) {
          Cr() || ((this.rendered = !0), ws(this, t, e, this.template));
        }),
        (n.toString = function (t) {
          return t ? bt(this.template) : this.template;
        }),
        (n.unrender = function (t) {
          this.rendered && t && this.detach(), (this.rendered = !1);
        }),
        (n.valueOf = function () {
          return this.template;
        }),
        e
      );
    })(Af),
    dp = fp.prototype;
  dp.bind = dp.unbind = dp.update = f;
  var pp,
    mp = "hidden";
  if (Ja) {
    var vp;
    if (mp in Ja) vp = "";
    else
      for (var gp = io.length; gp--; ) {
        var yp = io[gp];
        if (((mp = yp + "Hidden"), mp in Ja)) {
          vp = yp;
          break;
        }
      }
    void 0 !== vp
      ? (Ja.addEventListener(vp + "visibilitychange", Ws), Ws())
      : ("onfocusout" in Ja
          ? (Ja.addEventListener("focusout", Gs),
            Ja.addEventListener("focusin", Qs))
          : (Ya.addEventListener("pagehide", Gs),
            Ya.addEventListener("blur", Gs),
            Ya.addEventListener("pageshow", Qs),
            Ya.addEventListener("focus", Qs)),
        (pp = !0));
  }
  var bp;
  if (Xa) {
    var wp = {},
      xp = mc("div").style;
    bp = function (t) {
      if (!wp[t]) {
        var e = _e(t);
        if (void 0 !== xp[t]) wp[t] = e;
        else
          for (var n = io.length; n--; ) {
            var i = "-" + io[n] + "-" + e;
            if (void 0 !== xp[i]) {
              wp[t] = i;
              break;
            }
          }
      }
      return wp[t];
    };
  } else bp = null;
  var kp,
    _p = bp,
    Ep = new RegExp("^(?:" + io.join("|") + ")([A-Z])");
  if (Xa) {
    var Sp,
      Ap,
      Cp,
      Op,
      Np,
      jp,
      Tp = mc("div").style,
      Vp = function (t) {
        return t;
      },
      Pp = {},
      Mp = {};
    void 0 !== Tp.transition
      ? ((Sp = "transition"), (Ap = "transitionend"), (Cp = !0))
      : void 0 !== Tp.webkitTransition
      ? ((Sp = "webkitTransition"), (Ap = "webkitTransitionEnd"), (Cp = !0))
      : (Cp = !1),
      Sp &&
        ((Op = Sp + "Duration"),
        (Np = Sp + "Property"),
        (jp = Sp + "TimingFunction")),
      (kp = function (t, e, n, i, r) {
        setTimeout(function () {
          function s() {
            clearTimeout(d);
          }
          function a() {
            c &&
              f &&
              (t.unregisterCompleteHandler(s),
              t.ractive.fire(t.name + ":end", t.node, t.isIntro),
              r());
          }
          function o(e) {
            if (e.target === t.node) {
              var n = i.indexOf(e.propertyName);
              -1 !== n && i.splice(n, 1), i.length || (clearTimeout(d), l());
            }
          }
          function l() {
            (m[Np] = v.property),
              (m[jp] = v.duration),
              (m[Op] = v.timing),
              t.node.removeEventListener(Ap, o, !1),
              (f = !0),
              a();
          }
          var c,
            f,
            d,
            p = (t.node.namespaceURI || "") + t.node.tagName,
            m = t.node.style,
            v = { property: m[Np], timing: m[jp], duration: m[Op] };
          t.node.addEventListener(Ap, o, !1),
            (d = setTimeout(function () {
              (i = []), l();
            }, n.duration + (n.delay || 0) + 50)),
            t.registerCompleteHandler(s),
            (m[Np] = i.join(","));
          var g = Ys(n.easing || "linear");
          m[jp] = g;
          var w = m[jp] === g;
          (m[Op] = n.duration / 1e3 + "s"),
            setTimeout(function () {
              for (var r, s, l, d, v, g = i.length, x = null, _ = []; g--; ) {
                if (((l = i[g]), (r = p + l), w && Cp && !Mp[r])) {
                  var E = m[l];
                  (m[l] = e[l]),
                    r in Pp ||
                      ((x = t.getStyle(l)),
                      (Pp[r] = t.getStyle(l) != e[l]),
                      (Mp[r] = !Pp[r]),
                      Mp[r] && (m[l] = E));
                }
                (w && Cp && !Mp[r]) ||
                  (null === x && (x = t.getStyle(l)),
                  (s = i.indexOf(l)),
                  -1 === s
                    ? y(
                        "Something very strange happened with transitions. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!",
                        { node: t.node }
                      )
                    : i.splice(s, 1),
                  (d = /[^\d]*$/.exec(x)[0]),
                  (v = k(parseFloat(x), parseFloat(e[l]))),
                  v
                    ? _.push({ name: l, interpolator: v, suffix: d })
                    : (m[l] = e[l]),
                  (x = null));
              }
              if (_.length) {
                var S;
                h(n.easing)
                  ? ((S = t.ractive.easing[n.easing]),
                    S || (b(_o(n.easing, "easing")), (S = Vp)))
                  : (S = u(n.easing) ? n.easing : Vp),
                  new Vl({
                    duration: n.duration,
                    easing: S,
                    step: function (t) {
                      for (var e = _.length; e--; ) {
                        var n = _[e];
                        m[n.name] = n.interpolator(t) + n.suffix;
                      }
                    },
                    complete: function () {
                      (c = !0), a();
                    },
                  });
              } else c = !0;
              i.length
                ? (m[Np] = i.join(","))
                : ((m[Np] = "none"),
                  t.node.removeEventListener(Ap, o, !1),
                  (f = !0),
                  a());
            }, 0);
        }, n.delay || 0);
      });
  } else kp = null;
  var Ip = kp,
    Rp = Ya && Ya.getComputedStyle,
    Bp = Promise.resolve(),
    Kp = { t0: "intro-outro", t1: "intro", t2: "outro" },
    Lp = function (t) {
      (this.owner = t.owner || t.up.owner || zn(t.up)),
        (this.element = this.owner.attributeByName ? this.owner : zn(t.up)),
        (this.ractive = this.owner.ractive),
        (this.template = t.template),
        (this.up = t.up),
        (this.options = t),
        (this.onComplete = []);
    },
    Dp = Lp.prototype;
  (Dp.animateStyle = function (t, e, n) {
    var i = this;
    if (4 === arguments.length)
      throw new Error(
        "t.animateStyle() returns a promise - use .then() instead of passing a callback"
      );
    if (!pp) return this.setStyle(t, e), Bp;
    var r;
    return (
      h(t) ? ((r = {}), (r[t] = e)) : ((r = t), (n = e)),
      new Promise(function (t) {
        if (!n.duration) return i.setStyle(r), void t();
        for (var e = Za(r), s = [], a = Rp(i.node), o = e.length; o--; ) {
          var u = e[o],
            h = _p(u),
            l = a[_p(u)],
            c = i.node.style[h];
          h in i.originals || (i.originals[h] = i.node.style[h]),
            (i.node.style[h] = r[u]),
            (i.targets[h] = i.node.style[h]),
            (i.node.style[h] = c),
            l != r[u] && (s.push(h), (r[h] = r[u]), (i.node.style[h] = l));
        }
        return s.length ? void Ip(i, r, n, s, t) : void t();
      })
    );
  }),
    (Dp.bind = function () {
      var t = this.options,
        e = t.template && t.template.v;
      e &&
        (("t0" === e || "t1" === e) && (this.element.intro = this),
        ("t0" === e || "t2" === e) && (this.element.outro = this),
        (this.eventName = Kp[e]));
      var n = this.owner.ractive;
      (this.name = t.name || t.template.n),
        t.params && (this.params = t.params),
        u(this.name)
          ? ((this._fn = this.name), (this.name = this._fn.name))
          : (this._fn = w("transitions", n, this.name)),
        this._fn || b(_o(this.name, "transition"), { ractive: n }),
        Qr(this, t.template);
    }),
    (Dp.getParams = function () {
      if (this.params) return this.params;
      if (this.fn) {
        var t = Yr(this, this.template, this.up).map(function (t) {
          return t ? t.get() : void 0;
        });
        return this.fn.apply(this.ractive, t);
      }
    }),
    (Dp.getStyle = function (t) {
      var e = Rp(this.node);
      if (h(t)) return e[_p(t)];
      if (!Ga(t))
        throw new Error(
          "Transition$getStyle must be passed a string, or an array of strings representing CSS properties"
        );
      for (var n = {}, i = t.length; i--; ) {
        var r = t[i],
          s = e[_p(r)];
        "0px" === s && (s = 0), (n[r] = s);
      }
      return n;
    }),
    (Dp.processParams = function (t, e) {
      return (
        l(t)
          ? (t = { duration: t })
          : h(t)
          ? (t =
              "slow" === t
                ? { duration: 600 }
                : "fast" === t
                ? { duration: 200 }
                : { duration: 400 })
          : t || (t = {}),
        Ua({}, e, t)
      );
    }),
    (Dp.registerCompleteHandler = function (t) {
      C(this.onComplete, t);
    }),
    (Dp.setStyle = function (e, n) {
      var i = this;
      if (h(e)) {
        var r = _p(e);
        t(this.originals, r) || (this.originals[r] = this.node.style[r]),
          (this.node.style[r] = n),
          (this.targets[r] = this.node.style[r]);
      } else {
        var s;
        for (s in e) t(e, s) && i.setStyle(s, e[s]);
      }
      return this;
    }),
    (Dp.shouldFire = function (t) {
      if (!this.ractive.transitionsEnabled) return !1;
      if (
        "intro" === t &&
        this.ractive.rendering &&
        Js("noIntro", this.ractive, !0)
      )
        return !1;
      if (
        "outro" === t &&
        this.ractive.unrendering &&
        Js("noOutro", this.ractive, !1)
      )
        return !1;
      var e = this.getParams();
      if (!this.element.parent) return !0;
      if (e && e[0] && s(e[0]) && "nested" in e[0]) {
        if (e[0].nested !== !1) return !0;
      } else if (Js("nestedTransitions", this.ractive) !== !1) return !0;
      for (var n = this.element.parent; n; ) {
        if (n[t] && n[t].starting) return !1;
        n = n.parent;
      }
      return !0;
    }),
    (Dp.start = function () {
      var t,
        e = this,
        n = (this.node = this.element.node),
        i = (this.originals = {}),
        r = (this.targets = {}),
        s = this.getParams();
      if (
        ((this.complete = function (s) {
          if (((e.starting = !1), !t)) {
            if (
              (e.onComplete.forEach(function (t) {
                return t();
              }),
              !s && e.isIntro)
            )
              for (var a in r) n.style[a] === r[a] && (n.style[a] = i[a]);
            e._manager.remove(e), (t = !0);
          }
        }),
        !this._fn)
      )
        return void this.complete();
      var a = this._fn.apply(this.ractive, [this].concat(s));
      a && a.then(this.complete);
    }),
    (Dp.toString = function () {
      return "";
    }),
    (Dp.unbind = function () {
      if (!this.element.attributes || !this.element.attributes.unbinding) {
        var t =
          this.options && this.options.template && this.options.template.v;
        ("t0" === t || "t1" === t) && (this.element.intro = null),
          ("t0" === t || "t2" === t) && (this.element.outro = null);
      }
    }),
    (Dp.unregisterCompleteHandler = function (t) {
      V(this.onComplete, t);
    });
  var Fp = Lp.prototype;
  Fp.destroyed =
    Fp.firstNode =
    Fp.rebound =
    Fp.render =
    Fp.unrender =
    Fp.update =
      f;
  var zp,
    Up,
    $p = {};
  try {
    mc("table").innerHTML = "foo";
  } catch (qp) {
    (zp = !0),
      (Up = {
        TABLE: ['<table class="x">', "</table>"],
        THEAD: ['<table><thead class="x">', "</thead></table>"],
        TBODY: ['<table><tbody class="x">', "</tbody></table>"],
        TR: ['<table><tr class="x">', "</tr></table>"],
        SELECT: ['<select class="x">', "</select>"],
      });
  }
  var Hp = (function (t) {
      function e(e) {
        t.call(this, e);
      }
      t && (e.__proto__ = t);
      var n = (e.prototype = Object.create(t && t.prototype));
      return (
        (n.constructor = e),
        (n.detach = function () {
          var t = ii();
          return (
            this.nodes &&
              this.nodes.forEach(function (e) {
                return t.appendChild(e);
              }),
            t
          );
        }),
        (n.find = function (t) {
          var e,
            n = this,
            i = this.nodes.length;
          for (e = 0; i > e; e += 1) {
            var r = n.nodes[e];
            if (1 === r.nodeType) {
              if (vc(r, t)) return r;
              var s = r.querySelector(t);
              if (s) return s;
            }
          }
          return null;
        }),
        (n.findAll = function (t, e) {
          var n,
            i = this,
            r = e.result,
            s = this.nodes.length;
          for (n = 0; s > n; n += 1) {
            var a = i.nodes[n];
            if (1 === a.nodeType) {
              vc(a, t) && r.push(a);
              var o = a.querySelectorAll(t);
              o && r.push.apply(r, o);
            }
          }
        }),
        (n.findComponent = function () {
          return null;
        }),
        (n.firstNode = function () {
          return this.rendered && this.nodes[0];
        }),
        (n.render = function (t, e, n) {
          var i = this;
          if (!this.nodes) {
            var r = this.model ? this.model.get() : "";
            this.nodes = Xs(r, t);
          }
          var s = this.nodes;
          if (e) {
            for (var a, o = -1; e.length && (a = this.nodes[o + 1]); )
              for (var u = void 0; (u = e.shift()); ) {
                var h = u.nodeType;
                if (
                  h === a.nodeType &&
                  ((1 === h && u.outerHTML === a.outerHTML) ||
                    ((3 === h || 8 === h) && u.nodeValue === a.nodeValue))
                ) {
                  i.nodes.splice(++o, 1, u);
                  break;
                }
                t.removeChild(u);
              }
            o >= 0 && (s = this.nodes.slice(o)), e.length && (n = e[0]);
          }
          if (s.length) {
            var l = ii();
            s.forEach(function (t) {
              return l.appendChild(t);
            }),
              n ? t.insertBefore(l, n) : t.appendChild(l);
          }
          this.rendered = !0;
        }),
        (n.toString = function () {
          var t = this.model && this.model.get();
          return (t = null != t ? "" + t : ""), Tr() ? yt(t) : t;
        }),
        (n.unrender = function () {
          this.nodes &&
            this.nodes.forEach(function (t) {
              Nl.detachWhenReady({
                node: t,
                detach: function () {
                  si(t);
                },
              });
            }),
            (this.rendered = !1),
            (this.nodes = null);
        }),
        (n.update = function () {
          this.rendered && this.dirty
            ? ((this.dirty = !1),
              this.unrender(),
              this.render(
                this.up.findParentNode(),
                null,
                this.up.findNextNode(this)
              ))
            : (this.dirty = !1);
        }),
        e
      );
    })(Ud),
    Zp = {};
  (Zp[uu] = hp),
    (Zp[eu] = Hf),
    (Zp[hu] = ra),
    (Zp[ou] = rd),
    (Zp[Ho] = qd),
    (Zp[Jo] = Ps),
    (Zp[Wo] = hp),
    (Zp[Zo] = Hp),
    (Zp[su] = Ps),
    (Zp[nu] = Bf),
    (Zp[Ku] = Kf),
    (Zp[Ru] = nd),
    (Zp[Iu] = Bd),
    (Zp[Bu] = Lp),
    (Zp[Xo] = Pr);
  var Wp = {
      doctype: rd,
      form: Od,
      input: Hd,
      option: ep,
      select: lp,
      textarea: cp,
    },
    Gp = function (t) {
      (this.owner = t.owner),
        (this.isRoot = !t.owner.up),
        (this.parent = this.isRoot ? null : this.owner.up),
        (this.ractive =
          t.ractive || (this.isRoot ? t.owner : this.parent.ractive)),
        (this.componentParent =
          this.isRoot && this.ractive.component
            ? this.ractive.component.up
            : this.owner.containerFragment || null),
        !this.isRoot || this.ractive.delegate
          ? (this.delegate = this.owner.containerFragment
              ? this.owner.containerFragment &&
                this.owner.containerFragment.delegate
              : (this.componentParent && this.componentParent.delegate) ||
                (this.parent && this.parent.delegate))
          : (this.delegate = !1),
        (this.context = null),
        (this.rendered = !1),
        "cssIds" in t
          ? (this.cssIds = t.cssIds && t.cssIds.length && t.cssIds)
          : (this.cssIds = this.parent ? this.parent.cssIds : null),
        (this.dirty = !1),
        (this.dirtyValue = !0),
        (this.template = t.template || []),
        this.createItems();
    },
    Qp = Gp.prototype;
  (Qp.bind = function (t) {
    var e = this;
    (this.context = t),
      this.owner.template.z &&
        (this.aliases = oa(
          this.owner.template.z,
          this.owner.containerFragment || this.parent
        ));
    for (var n = this.items.length, i = 0; n > i; i++) e.items[i].bind();
    return (this.bound = !0), this.dirty && this.update(), this;
  }),
    (Qp.bubble = function () {
      (this.dirtyValue = !0),
        this.dirty ||
          ((this.dirty = !0),
          this.isRoot
            ? this.ractive.component
              ? this.ractive.component.bubble()
              : this.bound && Nl.addFragment(this)
            : this.owner.bubble(this.index));
    }),
    (Qp.createItems = function () {
      var t = this,
        e = this.template.length;
      this.items = [];
      for (var n = 0; e > n; n++)
        t.items[n] = sa({ up: t, template: t.template[n], index: n });
    }),
    (Qp.destroyed = function () {
      for (var t = this, e = this.items.length, n = 0; e > n; n++)
        t.items[n].destroyed();
      this.pathModel && this.pathModel.destroyed(),
        this.rootModel && this.rootModel.destroyed();
    }),
    (Qp.detach = function () {
      for (var t = ii(), e = this.items, n = e.length, i = 0; n > i; i++)
        t.appendChild(e[i].detach());
      return t;
    }),
    (Qp.find = function (t, e) {
      return I(this.items, function (n) {
        return n.find(t, e);
      });
    }),
    (Qp.findAll = function (t, e) {
      this.items &&
        this.items.forEach(function (n) {
          return n.findAll && n.findAll(t, e);
        });
    }),
    (Qp.findComponent = function (t, e) {
      return I(this.items, function (n) {
        return n.findComponent(t, e);
      });
    }),
    (Qp.findAllComponents = function (t, e) {
      this.items &&
        this.items.forEach(function (n) {
          return n.findAllComponents && n.findAllComponents(t, e);
        });
    }),
    (Qp.findContext = function () {
      var t = sn(this);
      return t && t.context ? t.context : this.ractive.viewmodel;
    }),
    (Qp.findNextNode = function (t) {
      var e = this;
      if (t)
        for (var n, i = t.index + 1; i < this.items.length; i++)
          if (((n = e.items[i]), n && n.firstNode)) {
            var r = n.firstNode(!0);
            if (r) return r;
          }
      return this.isRoot
        ? this.ractive.component
          ? this.ractive.component.up.findNextNode(this.ractive.component)
          : null
        : this.parent
        ? this.owner.findNextNode(this)
        : void 0;
    }),
    (Qp.findParentNode = function () {
      var t = this;
      do {
        if (t.owner.type === Yo) return t.owner.node;
        if (t.isRoot && !t.ractive.component) return t.ractive.el;
        t =
          t.owner.type === su
            ? t.owner.containerFragment
            : t.componentParent || t.parent;
      } while (t);
      throw new Error("Could not find parent node");
    }),
    (Qp.firstNode = function (t) {
      var e = I(this.items, function (t) {
        return t.firstNode(!0);
      });
      return e ? e : t ? null : this.parent.findNextNode(this.owner);
    }),
    (Qp.getKey = function () {
      return this.keyModel || (this.keyModel = new rp(this.key));
    }),
    (Qp.getIndex = function () {
      return this.idxModel || (this.idxModel = new rp(this.index));
    }),
    (Qp.rebind = function (t) {
      (this.context = t),
        this.rootModel && (this.rootModel.context = this.context),
        this.pathModel && (this.pathModel.context = this.context);
    }),
    (Qp.rebound = function (t) {
      if (this.owner.template.z) {
        var e = this.aliases;
        for (var n in e)
          e[n].rebound ? e[n].rebound(t) : (e[n].unreference(), (e[n] = 0));
        oa(
          this.owner.template.z,
          this.owner.containerFragment || this.parent,
          e
        );
      }
      this.items.forEach(function (e) {
        return e.rebound(t);
      }),
        t &&
          (this.rootModel &&
            this.rootModel.applyValue(
              this.context.getKeypath(this.ractive.root)
            ),
          this.pathModel &&
            this.pathModel.applyValue(this.context.getKeypath()));
    }),
    (Qp.render = function (t, e) {
      if (this.rendered) throw new Error("Fragment is already rendered!");
      this.rendered = !0;
      for (var n = this.items, i = n.length, r = 0; i > r; r++)
        n[r].render(t, e);
    }),
    (Qp.resetTemplate = function (t) {
      var e = this.bound,
        n = this.rendered;
      if (
        (e && (n && this.unrender(!0), this.unbind()),
        (this.template = t),
        this.createItems(),
        e && (this.bind(this.context), n))
      ) {
        var i = this.findParentNode(),
          r = this.findNextNode();
        if (r) {
          var s = ii();
          this.render(s), i.insertBefore(s, r);
        } else this.render(i);
      }
    }),
    (Qp.shuffled = function () {
      this.items.forEach(nt),
        this.rootModel &&
          this.rootModel.applyValue(this.context.getKeypath(this.ractive.root)),
        this.pathModel && this.pathModel.applyValue(this.context.getKeypath());
    }),
    (Qp.toString = function (t) {
      return this.items.map(t ? ut : ot).join("");
    }),
    (Qp.unbind = function (t) {
      var e = this;
      if (this.owner.template.z && !this.owner.yielder) {
        for (var n in e.aliases) e.aliases[n].unreference();
        this.aliases = {};
      }
      this.context = null;
      for (var i = this.items.length, r = 0; i > r; r++) e.items[r].unbind(t);
      return (this.bound = !1), this;
    }),
    (Qp.unrender = function (t) {
      for (var e = this, n = this.items.length, i = 0; n > i; i++)
        e.items[i].unrender(t);
      this.rendered = !1;
    }),
    (Qp.update = function () {
      var t = this;
      if (this.dirty)
        if (this.updating) this.isRoot && Nl.addFragmentToRoot(this);
        else {
          (this.dirty = !1), (this.updating = !0);
          for (var e = this.items.length, n = 0; e > n; n++)
            t.items[n].update();
          this.updating = !1;
        }
    }),
    (Qp.valueOf = function () {
      if (1 === this.items.length) return this.items[0].valueOf();
      if (this.dirtyValue) {
        var t = {},
          e = aa(this.items, t, this.ractive._guid),
          n = As(e, t);
        (this.value = n ? n.value : this.toString()), (this.dirtyValue = !1);
      }
      return this.value;
    }),
    (Gp.prototype.getContext = rn),
    (Gp.prototype.getKeypath = ua);
  var Yp = ["template", "partials", "components", "decorators", "events"],
    Jp = qn("reverse").path,
    Xp = qn("shift").path,
    tm = qn("sort").path,
    em = qn("splice").path,
    nm = qn("unshift").path,
    im = {
      add: fn,
      animate: vn,
      attachChild: Nn,
      compute: Pn,
      detach: Mn,
      detachChild: In,
      find: Rn,
      findAll: Bn,
      findAllComponents: Kn,
      findComponent: Ln,
      findContainer: Dn,
      findParent: Fn,
      fire: Yn,
      get: Jn,
      getLocalContext: Xn,
      getContext: ei,
      insert: ui,
      link: li,
      observe: gi,
      observeOnce: bi,
      off: wi,
      on: xi,
      once: ki,
      pop: Uc,
      push: $c,
      readLink: _i,
      render: fa,
      reset: da,
      resetPartial: ma,
      resetTemplate: va,
      reverse: Jp,
      set: ga,
      shift: Xp,
      sort: tm,
      splice: em,
      subtract: ya,
      teardown: Mr,
      toggle: ba,
      toCSS: wa,
      toCss: wa,
      toHTML: xa,
      toHtml: xa,
      toText: ka,
      transition: _a,
      unlink: Ea,
      unrender: Sa,
      unshift: nm,
      update: Zn,
      updateModel: Aa,
      use: Ca,
    },
    rm = [],
    sm = /super\s*\(|\.call\s*\(\s*this/;
  if (
    (Ha(Fa, {
      sharedGet: { value: Ma },
      sharedSet: { value: Pa },
      styleGet: { configurable: !0, value: Na.bind(Fa) },
      styleSet: { configurable: !0, value: Ki.bind(Fa) },
      addCSS: { configurable: !1, value: ja.bind(Fa) },
      hasCSS: { configurable: !1, value: Va.bind(Fa) },
    }),
    Ya && !Ya.Ractive)
  ) {
    var am = "",
      om =
        document.currentScript ||
        document.querySelector("script[data-ractive-options]");
    om && (am = om.getAttribute("data-ractive-options") || ""),
      ~am.indexOf("ForceGlobal") && (Ya.Ractive = Fa);
  } else Ya && v("Ractive already appears to be loaded while loading 1.4.0-edge.");
  return (
    Ua(Fa.prototype, im, vo),
    (Fa.prototype.constructor = Fa),
    (Fa.defaults = Fa.prototype),
    (dl.defaults = Fa.defaults),
    (dl.Ractive = Fa),
    Ha(Fa, {
      DEBUG: { writable: !0, value: !0 },
      DEBUG_PROMISES: { writable: !0, value: !0 },
      extend: { value: Ra },
      extendWith: { value: Ba },
      escapeKey: { value: _ },
      evalObjectString: { value: As },
      findPlugin: { value: Da },
      getContext: { value: ti },
      getCSS: { value: Ci },
      isInstance: { value: Oa },
      joinKeys: { value: di },
      macro: { value: La },
      normaliseKeypath: { value: E },
      parse: { value: Ie },
      splitKeypath: { value: pi },
      unescapeKey: { value: A },
      use: { value: Ia },
      enhance: { writable: !0, value: !1 },
      svg: { value: no },
      tick: {
        get: function () {
          return Ol && Ol.promise;
        },
      },
      VERSION: { value: "1.4.0-edge" },
      adaptors: { writable: !0, value: {} },
      components: { writable: !0, value: {} },
      decorators: { writable: !0, value: {} },
      easing: { writable: !0, value: go },
      events: { writable: !0, value: {} },
      extensions: { value: [] },
      helpers: { writable: !0, value: vo.helpers },
      interpolators: { writable: !0, value: Eo },
      partials: { writable: !0, value: {} },
      transitions: { writable: !0, value: {} },
      cssData: { configurable: !0, value: {} },
      perComponentStyleElements: { get: Ei, set: Ei },
      sharedData: { value: Bl },
      Ractive: { value: Fa },
      Context: { value: Fl.Context.prototype },
    }),
    qa(Fa, "_cssModel", { configurable: !0, value: new hf(Fa) }),
    qa(Fa.prototype, "rendered", {
      get: function () {
        return this.fragment && this.fragment.rendered;
      },
    }),
    Fa
  );
});
//# sourceMappingURL=ractive.min.js.map
