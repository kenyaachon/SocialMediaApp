var Friends=require("../models/Friends"),Ractive=require("ractive"),friendsRender=function(e){var t=this;this.set(e.get("value")),this.on("updateProfile",function(){e.set("value.firstName",this.get("firstName")),e.set("value.lastName",this.get("lastName")),""!=this.get("password")&&e.set("value.password",this.get("password")),e.save(function(e,r){e?t.set("error",e.error):(t.set("error",!1),t.set("success","Profile updated successfully."))})}),this.on("deleteProfile",function(){confirm("Are you sure! Your account will be deleted permantely")&&e.del(function(){window.location.href="/"})}),(new Friends).fetch(function(e,r){t.set("friends",r.friends)})};module.exports=Ractive.extend({template:require("../../tpl/profile"),components:{navigation:require("../views/Navigation"),appfooter:require("../views/Footer")},data:function(){return{friends:[]}},onrender:function(){var e=new(require("../models/User"));friendsRender.call(this,e)}});